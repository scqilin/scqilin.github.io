"use strict";(self.webpackChunkcomponent_library=self.webpackChunkcomponent_library||[]).push([[165],{2165:(mv,Zi,B)=>{B.r(Zi),B.d(Zi,{EditerModule:()=>uv});var Et=B(8583),Ze=B(665),jl=B(3928),s=B(7716);const Kl=["dialogPopup"],Ql=["hueSlider"],$l=["alphaSlider"];function tc(e,r){if(1&e&&s._UZ(0,"div"),2&e){const t=s.oxw();s.Gre("arrow arrow-",t.cpUsePosition,""),s.Udp("top",t.arrowTop,"px")}}function ec(e,r){if(1&e){const t=s.EpF();s.TgZ(0,"div",28),s.NdJ("newValue",function(i){return s.CHM(t),s.oxw().onColorChange(i)})("dragStart",function(){return s.CHM(t),s.oxw().onDragStart("saturation-lightness")})("dragEnd",function(){return s.CHM(t),s.oxw().onDragEnd("saturation-lightness")}),s._UZ(1,"div",14),s.qZA()}if(2&e){const t=s.oxw();s.Udp("background-color",t.hueSliderColor),s.Q6J("rgX",1)("rgY",1),s.xp6(1),s.Udp("top",null==t.slider?null:t.slider.v,"px")("left",null==t.slider?null:t.slider.s,"px")}}function rc(e,r){1&e&&(s.O4$(),s.TgZ(0,"svg",29),s._UZ(1,"path",30),s._UZ(2,"path",31),s.qZA())}function nc(e,r){if(1&e){const t=s.EpF();s.TgZ(0,"button",32),s.NdJ("click",function(i){s.CHM(t);const o=s.oxw();return o.onAddPresetColor(i,o.selectedColor)}),s._uU(1),s.qZA()}if(2&e){const t=s.oxw();s.Tol(t.cpAddColorButtonClass),s.Q6J("disabled",t.cpPresetColors&&t.cpPresetColors.length>=t.cpMaxPresetColorsLength),s.xp6(1),s.hij(" ",t.cpAddColorButtonText," ")}}function ic(e,r){1&e&&s._UZ(0,"div",33)}function oc(e,r){if(1&e){const t=s.EpF();s.TgZ(0,"input",39),s.NdJ("keyup.enter",function(i){return s.CHM(t),s.oxw(2).onAcceptColor(i)})("newValue",function(i){return s.CHM(t),s.oxw(2).onAlphaInput(i)}),s.qZA()}if(2&e){const t=s.oxw(2);s.Q6J("rg",1)("value",null==t.cmykText?null:t.cmykText.a)}}function ac(e,r){1&e&&(s.TgZ(0,"div"),s._uU(1,"A"),s.qZA())}function sc(e,r){if(1&e){const t=s.EpF();s.TgZ(0,"div",34),s.TgZ(1,"div",35),s.TgZ(2,"input",36),s.NdJ("keyup.enter",function(i){return s.CHM(t),s.oxw().onAcceptColor(i)})("newValue",function(i){return s.CHM(t),s.oxw().onCyanInput(i)}),s.qZA(),s.TgZ(3,"input",36),s.NdJ("keyup.enter",function(i){return s.CHM(t),s.oxw().onAcceptColor(i)})("newValue",function(i){return s.CHM(t),s.oxw().onMagentaInput(i)}),s.qZA(),s.TgZ(4,"input",36),s.NdJ("keyup.enter",function(i){return s.CHM(t),s.oxw().onAcceptColor(i)})("newValue",function(i){return s.CHM(t),s.oxw().onYellowInput(i)}),s.qZA(),s.TgZ(5,"input",36),s.NdJ("keyup.enter",function(i){return s.CHM(t),s.oxw().onAcceptColor(i)})("newValue",function(i){return s.CHM(t),s.oxw().onBlackInput(i)}),s.qZA(),s.YNc(6,oc,1,2,"input",37),s.qZA(),s.TgZ(7,"div",35),s.TgZ(8,"div"),s._uU(9,"C"),s.qZA(),s.TgZ(10,"div"),s._uU(11,"M"),s.qZA(),s.TgZ(12,"div"),s._uU(13,"Y"),s.qZA(),s.TgZ(14,"div"),s._uU(15,"K"),s.qZA(),s.YNc(16,ac,2,0,"div",38),s.qZA(),s.qZA()}if(2&e){const t=s.oxw();s.Udp("display",3!==t.format?"none":"block"),s.xp6(2),s.Q6J("rg",100)("value",null==t.cmykText?null:t.cmykText.c),s.xp6(1),s.Q6J("rg",100)("value",null==t.cmykText?null:t.cmykText.m),s.xp6(1),s.Q6J("rg",100)("value",null==t.cmykText?null:t.cmykText.y),s.xp6(1),s.Q6J("rg",100)("value",null==t.cmykText?null:t.cmykText.k),s.xp6(1),s.Q6J("ngIf","disabled"!==t.cpAlphaChannel),s.xp6(10),s.Q6J("ngIf","disabled"!==t.cpAlphaChannel)}}function lc(e,r){if(1&e){const t=s.EpF();s.TgZ(0,"input",39),s.NdJ("keyup.enter",function(i){return s.CHM(t),s.oxw(2).onAcceptColor(i)})("newValue",function(i){return s.CHM(t),s.oxw(2).onAlphaInput(i)}),s.qZA()}if(2&e){const t=s.oxw(2);s.Q6J("rg",1)("value",null==t.hslaText?null:t.hslaText.a)}}function cc(e,r){1&e&&(s.TgZ(0,"div"),s._uU(1,"A"),s.qZA())}function uc(e,r){if(1&e){const t=s.EpF();s.TgZ(0,"div",40),s.TgZ(1,"div",35),s.TgZ(2,"input",41),s.NdJ("keyup.enter",function(i){return s.CHM(t),s.oxw().onAcceptColor(i)})("newValue",function(i){return s.CHM(t),s.oxw().onHueInput(i)}),s.qZA(),s.TgZ(3,"input",36),s.NdJ("keyup.enter",function(i){return s.CHM(t),s.oxw().onAcceptColor(i)})("newValue",function(i){return s.CHM(t),s.oxw().onSaturationInput(i)}),s.qZA(),s.TgZ(4,"input",36),s.NdJ("keyup.enter",function(i){return s.CHM(t),s.oxw().onAcceptColor(i)})("newValue",function(i){return s.CHM(t),s.oxw().onLightnessInput(i)}),s.qZA(),s.YNc(5,lc,1,2,"input",37),s.qZA(),s.TgZ(6,"div",35),s.TgZ(7,"div"),s._uU(8,"H"),s.qZA(),s.TgZ(9,"div"),s._uU(10,"S"),s.qZA(),s.TgZ(11,"div"),s._uU(12,"L"),s.qZA(),s.YNc(13,cc,2,0,"div",38),s.qZA(),s.qZA()}if(2&e){const t=s.oxw();s.Udp("display",2!==t.format?"none":"block"),s.xp6(2),s.Q6J("rg",360)("value",null==t.hslaText?null:t.hslaText.h),s.xp6(1),s.Q6J("rg",100)("value",null==t.hslaText?null:t.hslaText.s),s.xp6(1),s.Q6J("rg",100)("value",null==t.hslaText?null:t.hslaText.l),s.xp6(1),s.Q6J("ngIf","disabled"!==t.cpAlphaChannel),s.xp6(8),s.Q6J("ngIf","disabled"!==t.cpAlphaChannel)}}function pc(e,r){if(1&e){const t=s.EpF();s.TgZ(0,"input",39),s.NdJ("keyup.enter",function(i){return s.CHM(t),s.oxw(2).onAcceptColor(i)})("newValue",function(i){return s.CHM(t),s.oxw(2).onAlphaInput(i)}),s.qZA()}if(2&e){const t=s.oxw(2);s.Q6J("rg",1)("value",null==t.rgbaText?null:t.rgbaText.a)}}function fc(e,r){1&e&&(s.TgZ(0,"div"),s._uU(1,"A"),s.qZA())}function dc(e,r){if(1&e){const t=s.EpF();s.TgZ(0,"div",42),s.TgZ(1,"div",35),s.TgZ(2,"input",43),s.NdJ("keyup.enter",function(i){return s.CHM(t),s.oxw().onAcceptColor(i)})("newValue",function(i){return s.CHM(t),s.oxw().onRedInput(i)}),s.qZA(),s.TgZ(3,"input",43),s.NdJ("keyup.enter",function(i){return s.CHM(t),s.oxw().onAcceptColor(i)})("newValue",function(i){return s.CHM(t),s.oxw().onGreenInput(i)}),s.qZA(),s.TgZ(4,"input",43),s.NdJ("keyup.enter",function(i){return s.CHM(t),s.oxw().onAcceptColor(i)})("newValue",function(i){return s.CHM(t),s.oxw().onBlueInput(i)}),s.qZA(),s.YNc(5,pc,1,2,"input",37),s.qZA(),s.TgZ(6,"div",35),s.TgZ(7,"div"),s._uU(8,"R"),s.qZA(),s.TgZ(9,"div"),s._uU(10,"G"),s.qZA(),s.TgZ(11,"div"),s._uU(12,"B"),s.qZA(),s.YNc(13,fc,2,0,"div",38),s.qZA(),s.qZA()}if(2&e){const t=s.oxw();s.Udp("display",1!==t.format?"none":"block"),s.xp6(2),s.Q6J("rg",255)("value",null==t.rgbaText?null:t.rgbaText.r),s.xp6(1),s.Q6J("rg",255)("value",null==t.rgbaText?null:t.rgbaText.g),s.xp6(1),s.Q6J("rg",255)("value",null==t.rgbaText?null:t.rgbaText.b),s.xp6(1),s.Q6J("ngIf","disabled"!==t.cpAlphaChannel),s.xp6(8),s.Q6J("ngIf","disabled"!==t.cpAlphaChannel)}}function hc(e,r){if(1&e){const t=s.EpF();s.TgZ(0,"input",39),s.NdJ("keyup.enter",function(i){return s.CHM(t),s.oxw(2).onAcceptColor(i)})("newValue",function(i){return s.CHM(t),s.oxw(2).onAlphaInput(i)}),s.qZA()}if(2&e){const t=s.oxw(2);s.Q6J("rg",1)("value",t.hexAlpha)}}function vc(e,r){1&e&&(s.TgZ(0,"div"),s._uU(1,"A"),s.qZA())}function gc(e,r){if(1&e){const t=s.EpF();s.TgZ(0,"div",44),s.TgZ(1,"div",35),s.TgZ(2,"input",45),s.NdJ("blur",function(){return s.CHM(t),s.oxw().onHexInput(null)})("keyup.enter",function(i){return s.CHM(t),s.oxw().onAcceptColor(i)})("newValue",function(i){return s.CHM(t),s.oxw().onHexInput(i)}),s.qZA(),s.YNc(3,hc,1,2,"input",37),s.qZA(),s.TgZ(4,"div",35),s.TgZ(5,"div"),s._uU(6,"Hex"),s.qZA(),s.YNc(7,vc,2,0,"div",38),s.qZA(),s.qZA()}if(2&e){const t=s.oxw();s.Udp("display",0!==t.format?"none":"block"),s.ekj("hex-alpha","forced"===t.cpAlphaChannel),s.xp6(2),s.Q6J("value",t.hexText),s.xp6(1),s.Q6J("ngIf","forced"===t.cpAlphaChannel),s.xp6(4),s.Q6J("ngIf","forced"===t.cpAlphaChannel)}}function mc(e,r){if(1&e){const t=s.EpF();s.TgZ(0,"input",39),s.NdJ("keyup.enter",function(i){return s.CHM(t),s.oxw(2).onAcceptColor(i)})("newValue",function(i){return s.CHM(t),s.oxw(2).onAlphaInput(i)}),s.qZA()}if(2&e){const t=s.oxw(2);s.Q6J("rg",1)("value",null==t.hslaText?null:t.hslaText.a)}}function Cc(e,r){if(1&e){const t=s.EpF();s.TgZ(0,"div",46),s.TgZ(1,"div",35),s.TgZ(2,"input",36),s.NdJ("keyup.enter",function(i){return s.CHM(t),s.oxw().onAcceptColor(i)})("newValue",function(i){return s.CHM(t),s.oxw().onValueInput(i)}),s.qZA(),s.YNc(3,mc,1,2,"input",37),s.qZA(),s.TgZ(4,"div",35),s.TgZ(5,"div"),s._uU(6,"V"),s.qZA(),s.TgZ(7,"div"),s._uU(8,"A"),s.qZA(),s.qZA(),s.qZA()}if(2&e){const t=s.oxw();s.xp6(2),s.Q6J("rg",100)("value",null==t.hslaText?null:t.hslaText.l),s.xp6(1),s.Q6J("ngIf","disabled"!==t.cpAlphaChannel)}}function xc(e,r){if(1&e){const t=s.EpF();s.TgZ(0,"div",47),s.TgZ(1,"span",48),s.NdJ("click",function(){return s.CHM(t),s.oxw().onFormatToggle(-1)}),s.qZA(),s.TgZ(2,"span",48),s.NdJ("click",function(){return s.CHM(t),s.oxw().onFormatToggle(1)}),s.qZA(),s.qZA()}}function _c(e,r){if(1&e){const t=s.EpF();s.TgZ(0,"span",55),s.NdJ("click",function(i){s.CHM(t);const o=s.oxw().$implicit;return s.oxw(3).onRemovePresetColor(i,o)}),s.qZA()}if(2&e){const t=s.oxw(4);s.Tol(t.cpRemoveColorButtonClass)}}function bc(e,r){if(1&e){const t=s.EpF();s.TgZ(0,"div",53),s.NdJ("click",function(){const o=s.CHM(t).$implicit;return s.oxw(3).setColorFromString(o)}),s.YNc(1,_c,1,3,"span",54),s.qZA()}if(2&e){const t=r.$implicit,n=s.oxw(3);s.Udp("background-color",t),s.xp6(1),s.Q6J("ngIf",n.cpAddColorButton)}}function Sc(e,r){if(1&e&&(s.TgZ(0,"div"),s.YNc(1,bc,2,3,"div",52),s.qZA()),2&e){const t=s.oxw(2);s.Tol(t.cpPresetColorsClass),s.xp6(1),s.Q6J("ngForOf",t.cpPresetColors)}}function wc(e,r){if(1&e&&(s.TgZ(0,"div"),s._uU(1),s.qZA()),2&e){const t=s.oxw(2);s.Tol(t.cpPresetEmptyMessageClass),s.xp6(1),s.Oqu(t.cpPresetEmptyMessage)}}function yc(e,r){if(1&e&&(s.TgZ(0,"div",49),s._UZ(1,"hr"),s.TgZ(2,"div",50),s._uU(3),s.qZA(),s.YNc(4,Sc,2,4,"div",51),s.YNc(5,wc,2,4,"div",51),s.qZA()),2&e){const t=s.oxw();s.xp6(3),s.Oqu(t.cpPresetLabel),s.xp6(1),s.Q6J("ngIf",null==t.cpPresetColors?null:t.cpPresetColors.length),s.xp6(1),s.Q6J("ngIf",!(null!=t.cpPresetColors&&t.cpPresetColors.length)&&t.cpAddColorButton)}}function Mc(e,r){if(1&e){const t=s.EpF();s.TgZ(0,"button",58),s.NdJ("click",function(i){return s.CHM(t),s.oxw(2).onCancelColor(i)}),s._uU(1),s.qZA()}if(2&e){const t=s.oxw(2);s.Tol(t.cpCancelButtonClass),s.xp6(1),s.Oqu(t.cpCancelButtonText)}}function Ec(e,r){if(1&e){const t=s.EpF();s.TgZ(0,"button",58),s.NdJ("click",function(i){return s.CHM(t),s.oxw(2).onAcceptColor(i)}),s._uU(1),s.qZA()}if(2&e){const t=s.oxw(2);s.Tol(t.cpOKButtonClass),s.xp6(1),s.Oqu(t.cpOKButtonText)}}function Ac(e,r){if(1&e&&(s.TgZ(0,"div",56),s.YNc(1,Mc,2,4,"button",57),s.YNc(2,Ec,2,4,"button",57),s.qZA()),2&e){const t=s.oxw();s.xp6(1),s.Q6J("ngIf",t.cpCancelButton),s.xp6(1),s.Q6J("ngIf",t.cpOKButton)}}function Tc(e,r){1&e&&s.GkF(0)}function Dc(e,r){if(1&e&&(s.TgZ(0,"div",59),s.YNc(1,Tc,1,0,"ng-container",60),s.qZA()),2&e){const t=s.oxw();s.xp6(1),s.Q6J("ngTemplateOutlet",t.cpExtraTemplate)}}var wt=(()=>{return(e=wt||(wt={}))[e.HEX=0]="HEX",e[e.RGBA=1]="RGBA",e[e.HSLA=2]="HSLA",e[e.CMYK=3]="CMYK",wt;var e})();class Jt{constructor(r,t,n,i){this.r=r,this.g=t,this.b=n,this.a=i}}class dr{constructor(r,t,n,i){this.h=r,this.s=t,this.v=n,this.a=i}}class ue{constructor(r,t,n,i){this.h=r,this.s=t,this.l=n,this.a=i}}class Fe{constructor(r,t,n,i,o=1){this.c=r,this.m=t,this.y=n,this.k=i,this.a=o}}let Pc=(()=>{class e{constructor(){this.newValue=new s.vpe}inputChange(t){const n=t.target.value;if(void 0===this.rg)this.newValue.emit(n);else{const i=parseFloat(n);this.newValue.emit({v:i,rg:this.rg})}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=s.lG2({type:e,selectors:[["","text",""]],hostBindings:function(t,n){1&t&&s.NdJ("input",function(o){return n.inputChange(o)})},inputs:{rg:"rg",text:"text"},outputs:{newValue:"newValue"}}),e})(),Rc=(()=>{class e{constructor(t){this.elRef=t,this.dragEnd=new s.vpe,this.dragStart=new s.vpe,this.newValue=new s.vpe,this.listenerMove=n=>this.move(n),this.listenerStop=()=>this.stop()}mouseDown(t){this.start(t)}touchStart(t){this.start(t)}move(t){t.preventDefault(),this.setCursor(t)}start(t){this.setCursor(t),t.stopPropagation(),document.addEventListener("mouseup",this.listenerStop),document.addEventListener("touchend",this.listenerStop),document.addEventListener("mousemove",this.listenerMove),document.addEventListener("touchmove",this.listenerMove),this.dragStart.emit()}stop(){document.removeEventListener("mouseup",this.listenerStop),document.removeEventListener("touchend",this.listenerStop),document.removeEventListener("mousemove",this.listenerMove),document.removeEventListener("touchmove",this.listenerMove),this.dragEnd.emit()}getX(t){const n=this.elRef.nativeElement.getBoundingClientRect();return(void 0!==t.pageX?t.pageX:t.touches[0].pageX)-n.left-window.pageXOffset}getY(t){const n=this.elRef.nativeElement.getBoundingClientRect();return(void 0!==t.pageY?t.pageY:t.touches[0].pageY)-n.top-window.pageYOffset}setCursor(t){const n=this.elRef.nativeElement.offsetWidth,i=this.elRef.nativeElement.offsetHeight,o=Math.max(0,Math.min(this.getX(t),n)),a=Math.max(0,Math.min(this.getY(t),i));void 0!==this.rgX&&void 0!==this.rgY?this.newValue.emit({s:o/n,v:1-a/i,rgX:this.rgX,rgY:this.rgY}):void 0===this.rgX&&void 0!==this.rgY?this.newValue.emit({v:a/i,rgY:this.rgY}):void 0!==this.rgX&&void 0===this.rgY&&this.newValue.emit({v:o/n,rgX:this.rgX})}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(s.SBq))},e.\u0275dir=s.lG2({type:e,selectors:[["","slider",""]],hostBindings:function(t,n){1&t&&s.NdJ("mousedown",function(o){return n.mouseDown(o)})("touchstart",function(o){return n.touchStart(o)})},inputs:{rgX:"rgX",rgY:"rgY",slider:"slider"},outputs:{dragEnd:"dragEnd",dragStart:"dragStart",newValue:"newValue"}}),e})();class Fi{constructor(r,t,n,i){this.h=r,this.s=t,this.v=n,this.a=i}}class qi{constructor(r,t,n,i){this.h=r,this.s=t,this.v=n,this.a=i}}let $r=(()=>{class e{constructor(){this.active=null}setActive(t){this.active&&this.active!==t&&"inline"!==this.active.cpDialogDisplay&&this.active.closeDialog(),this.active=t}hsva2hsla(t){const n=t.h,i=t.s,o=t.v,a=t.a;if(0===o)return new ue(n,0,0,a);if(0===i&&1===o)return new ue(n,1,1,a);{const l=o*(2-i)/2;return new ue(n,o*i/(1-Math.abs(2*l-1)),l,a)}}hsla2hsva(t){const n=Math.min(t.h,1),i=Math.min(t.s,1),o=Math.min(t.l,1),a=Math.min(t.a,1);if(0===o)return new dr(n,0,0,a);{const l=o+i*(1-Math.abs(2*o-1))/2;return new dr(n,2*(l-o)/l,l,a)}}hsvaToRgba(t){let n,i,o;const a=t.h,l=t.s,c=t.v,u=t.a,d=Math.floor(6*a),f=6*a-d,p=c*(1-l),h=c*(1-f*l),v=c*(1-(1-f)*l);switch(d%6){case 0:n=c,i=v,o=p;break;case 1:n=h,i=c,o=p;break;case 2:n=p,i=c,o=v;break;case 3:n=p,i=h,o=c;break;case 4:n=v,i=p,o=c;break;case 5:n=c,i=p,o=h;break;default:n=0,i=0,o=0}return new Jt(n,i,o,u)}cmykToRgb(t){return new Jt((1-t.c)*(1-t.k),(1-t.m)*(1-t.k),(1-t.y)*(1-t.k),t.a)}rgbaToCmyk(t){const n=1-Math.max(t.r,t.g,t.b);return 1===n?new Fe(0,0,0,1,t.a):new Fe((1-t.r-n)/(1-n),(1-t.g-n)/(1-n),(1-t.b-n)/(1-n),n,t.a)}rgbaToHsva(t){let n,i;const o=Math.min(t.r,1),a=Math.min(t.g,1),l=Math.min(t.b,1),c=Math.min(t.a,1),u=Math.max(o,a,l),d=Math.min(o,a,l),f=u,p=u-d;if(i=0===u?0:p/u,u===d)n=0;else{switch(u){case o:n=(a-l)/p+(a<l?6:0);break;case a:n=(l-o)/p+2;break;case l:n=(o-a)/p+4;break;default:n=0}n/=6}return new dr(n,i,f,c)}rgbaToHex(t,n){let i="#"+(1<<24|t.r<<16|t.g<<8|t.b).toString(16).substr(1);return n&&(i+=(256|Math.round(255*t.a)).toString(16).substr(1)),i}normalizeCMYK(t){return new Fe(t.c/100,t.m/100,t.y/100,t.k/100,t.a)}denormalizeCMYK(t){return new Fe(Math.floor(100*t.c),Math.floor(100*t.m),Math.floor(100*t.y),Math.floor(100*t.k),t.a)}denormalizeRGBA(t){return new Jt(Math.round(255*t.r),Math.round(255*t.g),Math.round(255*t.b),t.a)}stringToHsva(t="",n=!1){let i=null;t=(t||"").toLowerCase();const o=[{re:/(rgb)a?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*%?,\s*(\d{1,3})\s*%?(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(a){return new Jt(parseInt(a[2],10)/255,parseInt(a[3],10)/255,parseInt(a[4],10)/255,isNaN(parseFloat(a[5]))?1:parseFloat(a[5]))}},{re:/(hsl)a?\(\s*(\d{1,3})\s*,\s*(\d{1,3})%\s*,\s*(\d{1,3})%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(a){return new ue(parseInt(a[2],10)/360,parseInt(a[3],10)/100,parseInt(a[4],10)/100,isNaN(parseFloat(a[5]))?1:parseFloat(a[5]))}}];o.push(n?{re:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})?$/,parse:function(a){return new Jt(parseInt(a[1],16)/255,parseInt(a[2],16)/255,parseInt(a[3],16)/255,parseInt(a[4]||"FF",16)/255)}}:{re:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})$/,parse:function(a){return new Jt(parseInt(a[1],16)/255,parseInt(a[2],16)/255,parseInt(a[3],16)/255,1)}}),o.push({re:/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])$/,parse:function(a){return new Jt(parseInt(a[1]+a[1],16)/255,parseInt(a[2]+a[2],16)/255,parseInt(a[3]+a[3],16)/255,1)}});for(const a in o)if(o.hasOwnProperty(a)){const l=o[a],c=l.re.exec(t),u=c&&l.parse(c);if(u)return u instanceof Jt?i=this.rgbaToHsva(u):u instanceof ue&&(i=this.hsla2hsva(u)),i}return i}outputFormat(t,n,i){switch("auto"===n&&(n=t.a<1?"rgba":"hex"),n){case"hsla":const o=this.hsva2hsla(t),a=new ue(Math.round(360*o.h),Math.round(100*o.s),Math.round(100*o.l),Math.round(100*o.a)/100);return t.a<1||"always"===i?"hsla("+a.h+","+a.s+"%,"+a.l+"%,"+a.a+")":"hsl("+a.h+","+a.s+"%,"+a.l+"%)";case"rgba":const l=this.denormalizeRGBA(this.hsvaToRgba(t));return t.a<1||"always"===i?"rgba("+l.r+","+l.g+","+l.b+","+Math.round(100*l.a)/100+")":"rgb("+l.r+","+l.g+","+l.b+")";default:const c="always"===i||"forced"===i;return this.rgbaToHex(this.denormalizeRGBA(this.hsvaToRgba(t)),c)}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e})();const Vi="undefined"!=typeof window&&"ontouchstart"in window;let Ic=(()=>{class e{constructor(t,n,i,o,a,l){this.ngZone=t,this.elRef=n,this.cdRef=i,this.document=o,this.platformId=a,this.service=l,this.isIE10=!1,this.dialogArrowSize=10,this.dialogArrowOffset=15,this.dialogInputFields=[wt.HEX,wt.RGBA,wt.HSLA,wt.CMYK],this.useRootViewContainer=!1,this.eyeDropperSupported=(0,Et.NF)(this.platformId)&&"EyeDropper"in this.document.defaultView}handleEsc(t){this.show&&"popup"===this.cpDialogDisplay&&this.onCancelColor(t)}handleEnter(t){this.show&&"popup"===this.cpDialogDisplay&&this.onAcceptColor(t)}ngOnInit(){this.slider=new Fi(0,0,0,0),this.sliderDimMax=new qi(this.hueSlider.nativeElement.offsetWidth||140,this.cpWidth,130,this.alphaSlider.nativeElement.offsetWidth||140),this.format=this.cpCmykEnabled?wt.CMYK:"rgba"===this.cpOutputFormat?wt.RGBA:"hsla"===this.cpOutputFormat?wt.HSLA:wt.HEX,this.listenerMouseDown=i=>{this.onMouseDown(i)},this.listenerResize=()=>{this.onResize()},this.openDialog(this.initialColor,!1)}ngOnDestroy(){this.closeDialog()}ngAfterViewInit(){230===this.cpWidth&&"inline"!==this.cpDialogDisplay||(this.sliderDimMax=new qi(this.hueSlider.nativeElement.offsetWidth||140,this.cpWidth,130,this.alphaSlider.nativeElement.offsetWidth||140),this.updateColorPicker(!1),this.cdRef.detectChanges())}openDialog(t,n=!0){this.service.setActive(this),this.width||(this.cpWidth=this.directiveElementRef.nativeElement.offsetWidth),this.height||(this.height=320),this.setInitialColor(t),this.setColorFromString(t,n),this.openColorPicker()}closeDialog(){this.closeColorPicker()}setupDialog(t,n,i,o,a,l,c,u,d,f,p,h,v,g,m,C,x,_,b,y,w,S,A,M,E,k,T,O,R,P,z,N,q,I,G,F,Y,rt){this.setInitialColor(i),this.setColorMode(u),this.isIE10=10===function(){let e="";"undefined"!=typeof navigator&&(e=navigator.userAgent.toLowerCase());const r=e.indexOf("msie ");return r>0&&parseInt(e.substring(r+5,e.indexOf(".",r)),10)}(),this.directiveInstance=t,this.directiveElementRef=n,this.cpDisableInput=h,this.cpCmykEnabled=d,this.cpAlphaChannel=f,this.cpOutputFormat=p,this.cpDialogDisplay=l,this.cpIgnoredElements=v,this.cpSaveClickOutside=g,this.cpCloseClickOutside=m,this.useRootViewContainer=C,this.width=this.cpWidth=parseInt(o,10),this.height=this.cpHeight=parseInt(a,10),this.cpPosition=x,this.cpPositionOffset=parseInt(_,10),this.cpOKButton=k,this.cpOKButtonText=O,this.cpOKButtonClass=T,this.cpCancelButton=R,this.cpCancelButtonText=z,this.cpCancelButtonClass=P,this.cpEyeDropper=F,this.fallbackColor=c||"#fff",this.setPresetConfig(y,w),this.cpPresetColorsClass=S,this.cpMaxPresetColorsLength=A,this.cpPresetEmptyMessage=M,this.cpPresetEmptyMessageClass=E,this.cpAddColorButton=N,this.cpAddColorButtonText=I,this.cpAddColorButtonClass=q,this.cpRemoveColorButtonClass=G,this.cpTriggerElement=Y,this.cpExtraTemplate=rt,b||(this.dialogArrowOffset=0),"inline"===l&&(this.dialogArrowSize=0,this.dialogArrowOffset=0),"hex"===p&&"always"!==f&&"forced"!==f&&(this.cpAlphaChannel="disabled")}setColorMode(t){switch(t.toString().toUpperCase()){case"1":case"C":case"COLOR":this.cpColorMode=1;break;case"2":case"G":case"GRAYSCALE":this.cpColorMode=2;break;case"3":case"P":case"PRESETS":this.cpColorMode=3;break;default:this.cpColorMode=1}}setInitialColor(t){this.initialColor=t}setPresetConfig(t,n){this.cpPresetLabel=t,this.cpPresetColors=n}setColorFromString(t,n=!0,i=!0){let o;"always"===this.cpAlphaChannel||"forced"===this.cpAlphaChannel?(o=this.service.stringToHsva(t,!0),!o&&!this.hsva&&(o=this.service.stringToHsva(t,!1))):o=this.service.stringToHsva(t,!1),!o&&!this.hsva&&(o=this.service.stringToHsva(this.fallbackColor,!1)),o&&(this.hsva=o,this.sliderH=this.hsva.h,"hex"===this.cpOutputFormat&&"disabled"===this.cpAlphaChannel&&(this.hsva.a=1),this.updateColorPicker(n,i))}onResize(){"fixed"===this.position?this.setDialogPosition():"inline"!==this.cpDialogDisplay&&this.closeColorPicker()}onDragEnd(t){this.directiveInstance.sliderDragEnd({slider:t,color:this.outputColor})}onDragStart(t){this.directiveInstance.sliderDragStart({slider:t,color:this.outputColor})}onMouseDown(t){this.show&&!this.isIE10&&"popup"===this.cpDialogDisplay&&t.target!==this.directiveElementRef.nativeElement&&!this.isDescendant(this.elRef.nativeElement,t.target)&&!this.isDescendant(this.directiveElementRef.nativeElement,t.target)&&0===this.cpIgnoredElements.filter(n=>n===t.target).length&&this.ngZone.run(()=>{this.cpSaveClickOutside?this.directiveInstance.colorSelected(this.outputColor):(this.hsva=null,this.setColorFromString(this.initialColor,!1),this.cpCmykEnabled&&this.directiveInstance.cmykChanged(this.cmykColor),this.directiveInstance.colorChanged(this.initialColor),this.directiveInstance.colorCanceled()),this.cpCloseClickOutside&&this.closeColorPicker()})}onAcceptColor(t){t.stopPropagation(),this.outputColor&&this.directiveInstance.colorSelected(this.outputColor),"popup"===this.cpDialogDisplay&&this.closeColorPicker()}onCancelColor(t){this.hsva=null,t.stopPropagation(),this.directiveInstance.colorCanceled(),this.setColorFromString(this.initialColor,!0),"popup"===this.cpDialogDisplay&&(this.cpCmykEnabled&&this.directiveInstance.cmykChanged(this.cmykColor),this.directiveInstance.colorChanged(this.initialColor,!0),this.closeColorPicker())}onEyeDropper(){this.eyeDropperSupported&&(new window.EyeDropper).open().then(n=>{this.setColorFromString(n.sRGBHex,!0)})}onFormatToggle(t){const n=this.dialogInputFields.length-(this.cpCmykEnabled?0:1),i=((this.dialogInputFields.indexOf(this.format)+t)%n+n)%n;this.format=this.dialogInputFields[i]}onColorChange(t){this.hsva.s=t.s/t.rgX,this.hsva.v=t.v/t.rgY,this.updateColorPicker(),this.directiveInstance.sliderChanged({slider:"lightness",value:this.hsva.v,color:this.outputColor}),this.directiveInstance.sliderChanged({slider:"saturation",value:this.hsva.s,color:this.outputColor})}onHueChange(t){this.hsva.h=t.v/t.rgX,this.sliderH=this.hsva.h,this.updateColorPicker(),this.directiveInstance.sliderChanged({slider:"hue",value:this.hsva.h,color:this.outputColor})}onValueChange(t){this.hsva.v=t.v/t.rgX,this.updateColorPicker(),this.directiveInstance.sliderChanged({slider:"value",value:this.hsva.v,color:this.outputColor})}onAlphaChange(t){this.hsva.a=t.v/t.rgX,this.updateColorPicker(),this.directiveInstance.sliderChanged({slider:"alpha",value:this.hsva.a,color:this.outputColor})}onHexInput(t){if(null===t)this.updateColorPicker();else{t&&"#"!==t[0]&&(t="#"+t);let n=/^#([a-f0-9]{3}|[a-f0-9]{6})$/gi;"always"===this.cpAlphaChannel&&(n=/^#([a-f0-9]{3}|[a-f0-9]{6}|[a-f0-9]{8})$/gi);const i=n.test(t);i&&(t.length<5&&(t="#"+t.substring(1).split("").map(o=>o+o).join("")),"forced"===this.cpAlphaChannel&&(t+=Math.round(255*this.hsva.a).toString(16)),this.setColorFromString(t,!0,!1)),this.directiveInstance.inputChanged({input:"hex",valid:i,value:t,color:this.outputColor})}}onRedInput(t){const n=this.service.hsvaToRgba(this.hsva),i=!isNaN(t.v)&&t.v>=0&&t.v<=t.rg;i&&(n.r=t.v/t.rg,this.hsva=this.service.rgbaToHsva(n),this.sliderH=this.hsva.h,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"red",valid:i,value:n.r,color:this.outputColor})}onBlueInput(t){const n=this.service.hsvaToRgba(this.hsva),i=!isNaN(t.v)&&t.v>=0&&t.v<=t.rg;i&&(n.b=t.v/t.rg,this.hsva=this.service.rgbaToHsva(n),this.sliderH=this.hsva.h,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"blue",valid:i,value:n.b,color:this.outputColor})}onGreenInput(t){const n=this.service.hsvaToRgba(this.hsva),i=!isNaN(t.v)&&t.v>=0&&t.v<=t.rg;i&&(n.g=t.v/t.rg,this.hsva=this.service.rgbaToHsva(n),this.sliderH=this.hsva.h,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"green",valid:i,value:n.g,color:this.outputColor})}onHueInput(t){const n=!isNaN(t.v)&&t.v>=0&&t.v<=t.rg;n&&(this.hsva.h=t.v/t.rg,this.sliderH=this.hsva.h,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"hue",valid:n,value:this.hsva.h,color:this.outputColor})}onValueInput(t){const n=!isNaN(t.v)&&t.v>=0&&t.v<=t.rg;n&&(this.hsva.v=t.v/t.rg,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"value",valid:n,value:this.hsva.v,color:this.outputColor})}onAlphaInput(t){const n=!isNaN(t.v)&&t.v>=0&&t.v<=t.rg;n&&(this.hsva.a=t.v/t.rg,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"alpha",valid:n,value:this.hsva.a,color:this.outputColor})}onLightnessInput(t){const n=this.service.hsva2hsla(this.hsva),i=!isNaN(t.v)&&t.v>=0&&t.v<=t.rg;i&&(n.l=t.v/t.rg,this.hsva=this.service.hsla2hsva(n),this.sliderH=this.hsva.h,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"lightness",valid:i,value:n.l,color:this.outputColor})}onSaturationInput(t){const n=this.service.hsva2hsla(this.hsva),i=!isNaN(t.v)&&t.v>=0&&t.v<=t.rg;i&&(n.s=t.v/t.rg,this.hsva=this.service.hsla2hsva(n),this.sliderH=this.hsva.h,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"saturation",valid:i,value:n.s,color:this.outputColor})}onCyanInput(t){!isNaN(t.v)&&t.v>=0&&t.v<=t.rg&&(this.cmyk.c=t.v,this.updateColorPicker(!1,!0,!0)),this.directiveInstance.inputChanged({input:"cyan",valid:!0,value:this.cmyk.c,color:this.outputColor})}onMagentaInput(t){!isNaN(t.v)&&t.v>=0&&t.v<=t.rg&&(this.cmyk.m=t.v,this.updateColorPicker(!1,!0,!0)),this.directiveInstance.inputChanged({input:"magenta",valid:!0,value:this.cmyk.m,color:this.outputColor})}onYellowInput(t){!isNaN(t.v)&&t.v>=0&&t.v<=t.rg&&(this.cmyk.y=t.v,this.updateColorPicker(!1,!0,!0)),this.directiveInstance.inputChanged({input:"yellow",valid:!0,value:this.cmyk.y,color:this.outputColor})}onBlackInput(t){!isNaN(t.v)&&t.v>=0&&t.v<=t.rg&&(this.cmyk.k=t.v,this.updateColorPicker(!1,!0,!0)),this.directiveInstance.inputChanged({input:"black",valid:!0,value:this.cmyk.k,color:this.outputColor})}onAddPresetColor(t,n){t.stopPropagation(),this.cpPresetColors.filter(i=>i===n).length||(this.cpPresetColors=this.cpPresetColors.concat(n),this.directiveInstance.presetColorsChanged(this.cpPresetColors))}onRemovePresetColor(t,n){t.stopPropagation(),this.cpPresetColors=this.cpPresetColors.filter(i=>i!==n),this.directiveInstance.presetColorsChanged(this.cpPresetColors)}openColorPicker(){this.show||(this.show=!0,this.hidden=!0,setTimeout(()=>{this.hidden=!1,this.setDialogPosition(),this.cdRef.detectChanges()},0),this.directiveInstance.stateChanged(!0),this.isIE10||this.ngZone.runOutsideAngular(()=>{Vi?document.addEventListener("touchstart",this.listenerMouseDown):document.addEventListener("mousedown",this.listenerMouseDown)}),window.addEventListener("resize",this.listenerResize))}closeColorPicker(){this.show&&(this.show=!1,this.directiveInstance.stateChanged(!1),this.isIE10||(Vi?document.removeEventListener("touchstart",this.listenerMouseDown):document.removeEventListener("mousedown",this.listenerMouseDown)),window.removeEventListener("resize",this.listenerResize),this.cdRef.destroyed||this.cdRef.detectChanges())}updateColorPicker(t=!0,n=!0,i=!1){if(this.sliderDimMax){let o,a,l;2===this.cpColorMode&&(this.hsva.s=0);const c=this.outputColor;if(a=this.service.hsva2hsla(this.hsva),this.cpCmykEnabled?(i?(l=this.service.cmykToRgb(this.service.normalizeCMYK(this.cmyk)),this.hsva=this.service.rgbaToHsva(l)):(l=this.service.hsvaToRgba(this.hsva),this.cmyk=this.service.denormalizeCMYK(this.service.rgbaToCmyk(l))),l=this.service.denormalizeRGBA(l),this.sliderH=this.hsva.h):l=this.service.denormalizeRGBA(this.service.hsvaToRgba(this.hsva)),o=this.service.denormalizeRGBA(this.service.hsvaToRgba(new dr(this.sliderH||this.hsva.h,1,1,1))),n&&(this.hslaText=new ue(Math.round(360*a.h),Math.round(100*a.s),Math.round(100*a.l),Math.round(100*a.a)/100),this.rgbaText=new Jt(l.r,l.g,l.b,Math.round(100*l.a)/100),this.cpCmykEnabled&&(this.cmykText=new Fe(this.cmyk.c,this.cmyk.m,this.cmyk.y,this.cmyk.k,Math.round(100*this.cmyk.a)/100)),this.hexText=this.service.rgbaToHex(l,"always"===this.cpAlphaChannel),this.hexAlpha=this.rgbaText.a),"auto"===this.cpOutputFormat&&this.format!==wt.RGBA&&this.format!==wt.CMYK&&this.format!==wt.HSLA&&this.hsva.a<1&&(this.format=this.hsva.a<1?wt.RGBA:wt.HEX),this.hueSliderColor="rgb("+o.r+","+o.g+","+o.b+")",this.alphaSliderColor="rgb("+l.r+","+l.g+","+l.b+")",this.outputColor=this.service.outputFormat(this.hsva,this.cpOutputFormat,this.cpAlphaChannel),this.selectedColor=this.service.outputFormat(this.hsva,"rgba",null),this.format!==wt.CMYK)this.cmykColor="";else if("always"===this.cpAlphaChannel||"enabled"===this.cpAlphaChannel||"forced"===this.cpAlphaChannel){const u=Math.round(100*this.cmyk.a)/100;this.cmykColor=`cmyka(${this.cmyk.c},${this.cmyk.m},${this.cmyk.y},${this.cmyk.k},${u})`}else this.cmykColor=`cmyk(${this.cmyk.c},${this.cmyk.m},${this.cmyk.y},${this.cmyk.k})`;this.slider=new Fi((this.sliderH||this.hsva.h)*this.sliderDimMax.h-8,this.hsva.s*this.sliderDimMax.s-8,(1-this.hsva.v)*this.sliderDimMax.v-8,this.hsva.a*this.sliderDimMax.a-8),t&&c!==this.outputColor&&(this.cpCmykEnabled&&this.directiveInstance.cmykChanged(this.cmykColor),this.directiveInstance.colorChanged(this.outputColor))}}setDialogPosition(){if("inline"===this.cpDialogDisplay)this.position="relative";else{let i,t="static",n="",o=null,a=null,l=this.directiveElementRef.nativeElement.parentNode;const c=this.dialogElement.nativeElement.offsetHeight;for(;null!==l&&"HTML"!==l.tagName;){if(i=window.getComputedStyle(l),t=i.getPropertyValue("position"),n=i.getPropertyValue("transform"),"static"!==t&&null===o&&(o=l),n&&"none"!==n&&null===a&&(a=l),"fixed"===t){o=a;break}l=l.parentNode}const u=this.createDialogBox(this.directiveElementRef.nativeElement,"fixed"!==t);if(this.useRootViewContainer||"fixed"===t&&(!o||o instanceof HTMLUnknownElement))this.top=u.top,this.left=u.left;else{null===o&&(o=l);const f=this.createDialogBox(o,"fixed"!==t);this.top=u.top-f.top,this.left=u.left-f.left}"fixed"===t&&(this.position="fixed");let d=this.cpPosition;"auto"===this.cpPosition&&(d=function(e,r){let t="right",n="bottom";const{height:i,width:o}=e,{top:a,left:l}=r,c=a+r.height,u=l+r.width,d=a-i<0,f=c+i>(window.innerHeight||document.documentElement.clientHeight),p=l-o<0,h=u+o>(window.innerWidth||document.documentElement.clientWidth);return f&&(n="top"),d&&(n="bottom"),p&&(t="right"),h&&(t="left"),d&&f&&p&&h?["left","right","top","bottom"].reduce((m,C)=>e[m]>e[C]?m:C):p&&h?d?"bottom":f||a>c?"top":"bottom":d&&f?p?"right":h||l>u?"left":"right":`${n}-${t}`}(this.dialogElement.nativeElement.getBoundingClientRect(),this.cpTriggerElement.nativeElement.getBoundingClientRect())),"top"===d?(this.arrowTop=c-1,this.top-=c+this.dialogArrowSize,this.left+=this.cpPositionOffset/100*u.width-this.dialogArrowOffset):"bottom"===d?(this.top+=u.height+this.dialogArrowSize,this.left+=this.cpPositionOffset/100*u.width-this.dialogArrowOffset):"top-left"===d||"left-top"===d?(this.top-=c-u.height+u.height*this.cpPositionOffset/100,this.left-=this.cpWidth+this.dialogArrowSize-2-this.dialogArrowOffset):"top-right"===d||"right-top"===d?(this.top-=c-u.height+u.height*this.cpPositionOffset/100,this.left+=u.width+this.dialogArrowSize-2-this.dialogArrowOffset):"left"===d||"bottom-left"===d||"left-bottom"===d?(this.top+=u.height*this.cpPositionOffset/100-this.dialogArrowOffset,this.left-=this.cpWidth+this.dialogArrowSize-2):(this.top+=u.height*this.cpPositionOffset/100-this.dialogArrowOffset,this.left+=u.width+this.dialogArrowSize-2),this.cpUsePosition=d}}isDescendant(t,n){let i=n.parentNode;for(;null!==i;){if(i===t)return!0;i=i.parentNode}return!1}createDialogBox(t,n){const{top:i,left:o}=t.getBoundingClientRect();return{top:i+(n?window.pageYOffset:0),left:o+(n?window.pageXOffset:0),width:t.offsetWidth,height:t.offsetHeight}}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(s.R0b),s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(Et.K0),s.Y36(s.Lbi),s.Y36($r))},e.\u0275cmp=s.Xpm({type:e,selectors:[["color-picker"]],viewQuery:function(t,n){if(1&t&&(s.Gf(Kl,7),s.Gf(Ql,7),s.Gf($l,7)),2&t){let i;s.iGM(i=s.CRH())&&(n.dialogElement=i.first),s.iGM(i=s.CRH())&&(n.hueSlider=i.first),s.iGM(i=s.CRH())&&(n.alphaSlider=i.first)}},hostBindings:function(t,n){1&t&&s.NdJ("keyup.esc",function(o){return n.handleEsc(o)},!1,s.evT)("keyup.enter",function(o){return n.handleEnter(o)},!1,s.evT)},decls:30,vars:51,consts:[[1,"color-picker",3,"click"],["dialogPopup",""],[3,"class","top",4,"ngIf"],["class","saturation-lightness",3,"slider","rgX","rgY","background-color","newValue","dragStart","dragEnd",4,"ngIf"],[1,"hue-alpha","box"],[1,"left"],[1,"selected-color-background"],[1,"selected-color",3,"click"],["class","eyedropper-icon","xmlns","http://www.w3.org/2000/svg","height","24px","viewBox","0 0 24 24","width","24px","fill","#000000",4,"ngIf"],["type","button",3,"class","disabled","click",4,"ngIf"],[1,"right"],["style","height: 16px;",4,"ngIf"],[1,"hue",3,"slider","rgX","newValue","dragStart","dragEnd"],["hueSlider",""],[1,"cursor"],[1,"value",3,"slider","rgX","newValue","dragStart","dragEnd"],["valueSlider",""],[1,"alpha",3,"slider","rgX","newValue","dragStart","dragEnd"],["alphaSlider",""],["class","cmyk-text",3,"display",4,"ngIf"],["class","hsla-text",3,"display",4,"ngIf"],["class","rgba-text",3,"display",4,"ngIf"],["class","hex-text",3,"hex-alpha","display",4,"ngIf"],["class","value-text",4,"ngIf"],["class","type-policy",4,"ngIf"],["class","preset-area",4,"ngIf"],["class","button-area",4,"ngIf"],["class","extra-template",4,"ngIf"],[1,"saturation-lightness",3,"slider","rgX","rgY","newValue","dragStart","dragEnd"],["xmlns","http://www.w3.org/2000/svg","height","24px","viewBox","0 0 24 24","width","24px","fill","#000000",1,"eyedropper-icon"],["d","M0 0h24v24H0V0z","fill","none"],["d","M17.66 5.41l.92.92-2.69 2.69-.92-.92 2.69-2.69M17.67 3c-.26 0-.51.1-.71.29l-3.12 3.12-1.93-1.91-1.41 1.41 1.42 1.42L3 16.25V21h4.75l8.92-8.92 1.42 1.42 1.41-1.41-1.92-1.92 3.12-3.12c.4-.4.4-1.03.01-1.42l-2.34-2.34c-.2-.19-.45-.29-.7-.29zM6.92 19L5 17.08l8.06-8.06 1.92 1.92L6.92 19z"],["type","button",3,"disabled","click"],[2,"height","16px"],[1,"cmyk-text"],[1,"box"],["type","number","pattern","[0-9]*","min","0","max","100",3,"text","rg","value","keyup.enter","newValue"],["type","number","pattern","[0-9]+([\\.,][0-9]{1,2})?","min","0","max","1","step","0.1",3,"text","rg","value","keyup.enter","newValue",4,"ngIf"],[4,"ngIf"],["type","number","pattern","[0-9]+([\\.,][0-9]{1,2})?","min","0","max","1","step","0.1",3,"text","rg","value","keyup.enter","newValue"],[1,"hsla-text"],["type","number","pattern","[0-9]*","min","0","max","360",3,"text","rg","value","keyup.enter","newValue"],[1,"rgba-text"],["type","number","pattern","[0-9]*","min","0","max","255",3,"text","rg","value","keyup.enter","newValue"],[1,"hex-text"],[3,"text","value","blur","keyup.enter","newValue"],[1,"value-text"],[1,"type-policy"],[1,"type-policy-arrow",3,"click"],[1,"preset-area"],[1,"preset-label"],[3,"class",4,"ngIf"],["class","preset-color",3,"backgroundColor","click",4,"ngFor","ngForOf"],[1,"preset-color",3,"click"],[3,"class","click",4,"ngIf"],[3,"click"],[1,"button-area"],["type","button",3,"class","click",4,"ngIf"],["type","button",3,"click"],[1,"extra-template"],[4,"ngTemplateOutlet"]],template:function(t,n){1&t&&(s.TgZ(0,"div",0,1),s.NdJ("click",function(o){return o.stopPropagation()}),s.YNc(2,tc,1,5,"div",2),s.YNc(3,ec,2,8,"div",3),s.TgZ(4,"div",4),s.TgZ(5,"div",5),s._UZ(6,"div",6),s.TgZ(7,"div",7),s.NdJ("click",function(){return n.eyeDropperSupported&&n.cpEyeDropper&&n.onEyeDropper()}),s.YNc(8,rc,3,0,"svg",8),s.qZA(),s.YNc(9,nc,2,5,"button",9),s.qZA(),s.TgZ(10,"div",10),s.YNc(11,ic,1,0,"div",11),s.TgZ(12,"div",12,13),s.NdJ("newValue",function(o){return n.onHueChange(o)})("dragStart",function(){return n.onDragStart("hue")})("dragEnd",function(){return n.onDragEnd("hue")}),s._UZ(14,"div",14),s.qZA(),s.TgZ(15,"div",15,16),s.NdJ("newValue",function(o){return n.onValueChange(o)})("dragStart",function(){return n.onDragStart("value")})("dragEnd",function(){return n.onDragEnd("value")}),s._UZ(17,"div",14),s.qZA(),s.TgZ(18,"div",17,18),s.NdJ("newValue",function(o){return n.onAlphaChange(o)})("dragStart",function(){return n.onDragStart("alpha")})("dragEnd",function(){return n.onDragEnd("alpha")}),s._UZ(20,"div",14),s.qZA(),s.qZA(),s.qZA(),s.YNc(21,sc,17,12,"div",19),s.YNc(22,uc,14,10,"div",20),s.YNc(23,dc,14,10,"div",21),s.YNc(24,gc,8,7,"div",22),s.YNc(25,Cc,9,3,"div",23),s.YNc(26,xc,3,0,"div",24),s.YNc(27,yc,6,3,"div",25),s.YNc(28,Ac,3,2,"div",26),s.YNc(29,Dc,2,1,"div",27),s.qZA()),2&t&&(s.Udp("display",n.show?"block":"none")("visibility",n.hidden?"hidden":"visible")("top",n.top,"px")("left",n.left,"px")("position",n.position)("height",n.cpHeight,"px")("width",n.cpWidth,"px"),s.ekj("open",n.show),s.xp6(2),s.Q6J("ngIf","popup"===n.cpDialogDisplay),s.xp6(1),s.Q6J("ngIf",1===(n.cpColorMode||1)),s.xp6(4),s.Udp("background-color",n.selectedColor)("cursor",n.eyeDropperSupported&&n.cpEyeDropper?"pointer":null),s.xp6(1),s.Q6J("ngIf",n.eyeDropperSupported&&n.cpEyeDropper),s.xp6(1),s.Q6J("ngIf",n.cpAddColorButton),s.xp6(2),s.Q6J("ngIf","disabled"===n.cpAlphaChannel),s.xp6(1),s.Udp("display",1===(n.cpColorMode||1)?"block":"none"),s.Q6J("rgX",1),s.xp6(2),s.Udp("left",null==n.slider?null:n.slider.h,"px"),s.xp6(1),s.Udp("display",2===(n.cpColorMode||1)?"block":"none"),s.Q6J("rgX",1),s.xp6(2),s.Udp("right",null==n.slider?null:n.slider.v,"px"),s.xp6(1),s.Udp("display","disabled"===n.cpAlphaChannel?"none":"block")("background-color",n.alphaSliderColor),s.Q6J("rgX",1),s.xp6(2),s.Udp("left",null==n.slider?null:n.slider.a,"px"),s.xp6(1),s.Q6J("ngIf",!n.cpDisableInput&&1===(n.cpColorMode||1)),s.xp6(1),s.Q6J("ngIf",!n.cpDisableInput&&1===(n.cpColorMode||1)),s.xp6(1),s.Q6J("ngIf",!n.cpDisableInput&&1===(n.cpColorMode||1)),s.xp6(1),s.Q6J("ngIf",!n.cpDisableInput&&1===(n.cpColorMode||1)),s.xp6(1),s.Q6J("ngIf",!n.cpDisableInput&&2===(n.cpColorMode||1)),s.xp6(1),s.Q6J("ngIf",!n.cpDisableInput&&1===(n.cpColorMode||1)),s.xp6(1),s.Q6J("ngIf",(null==n.cpPresetColors?null:n.cpPresetColors.length)||n.cpAddColorButton),s.xp6(1),s.Q6J("ngIf",n.cpOKButton||n.cpCancelButton),s.xp6(1),s.Q6J("ngIf",n.cpExtraTemplate))},directives:[Et.O5,Rc,Pc,Et.sg,Et.tP],styles:['.color-picker{position:absolute;z-index:1000;width:230px;height:auto;border:#777 solid 1px;cursor:default;-webkit-user-select:none;user-select:none;background-color:#fff}.color-picker *{box-sizing:border-box;margin:0;font-size:11px}.color-picker input{width:0;height:26px;min-width:0;font-size:13px;text-align:center;color:#000}.color-picker input:invalid,.color-picker input:-moz-ui-invalid,.color-picker input:-moz-submit-invalid{box-shadow:none}.color-picker input::-webkit-inner-spin-button,.color-picker input::-webkit-outer-spin-button{margin:0;-webkit-appearance:none}.color-picker .arrow{position:absolute;z-index:999999;width:0;height:0;border-style:solid}.color-picker .arrow.arrow-top{left:8px;border-width:10px 5px;border-color:#777 rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,0)}.color-picker .arrow.arrow-bottom{top:-20px;left:8px;border-width:10px 5px;border-color:rgba(0,0,0,0) rgba(0,0,0,0) #777 rgba(0,0,0,0)}.color-picker .arrow.arrow-top-left,.color-picker .arrow.arrow-left-top{right:-21px;bottom:8px;border-width:5px 10px;border-color:rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,0) #777}.color-picker .arrow.arrow-top-right,.color-picker .arrow.arrow-right-top{bottom:8px;left:-20px;border-width:5px 10px;border-color:rgba(0,0,0,0) #777 rgba(0,0,0,0) rgba(0,0,0,0)}.color-picker .arrow.arrow-left,.color-picker .arrow.arrow-left-bottom,.color-picker .arrow.arrow-bottom-left{top:8px;right:-21px;border-width:5px 10px;border-color:rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,0) #777}.color-picker .arrow.arrow-right,.color-picker .arrow.arrow-right-bottom,.color-picker .arrow.arrow-bottom-right{top:8px;left:-20px;border-width:5px 10px;border-color:rgba(0,0,0,0) #777 rgba(0,0,0,0) rgba(0,0,0,0)}.color-picker .cursor{position:relative;width:16px;height:16px;border:#222 solid 2px;border-radius:50%;cursor:default}.color-picker .box{display:flex;padding:4px 8px}.color-picker .left{position:relative;padding:16px 8px}.color-picker .right{flex:1 1 auto;padding:12px 8px}.color-picker .button-area{padding:0 16px 16px;text-align:right}.color-picker .button-area button{margin-left:8px}.color-picker .preset-area{padding:4px 15px}.color-picker .preset-area .preset-label{overflow:hidden;width:100%;padding:4px;font-size:11px;white-space:nowrap;text-align:left;text-overflow:ellipsis;color:#555}.color-picker .preset-area .preset-color{position:relative;display:inline-block;width:18px;height:18px;margin:4px 6px 8px;border:#a9a9a9 solid 1px;border-radius:25%;cursor:pointer}.color-picker .preset-area .preset-empty-message{min-height:18px;margin-top:4px;margin-bottom:8px;font-style:italic;text-align:center}.color-picker .hex-text{width:100%;padding:4px 8px;font-size:11px}.color-picker .hex-text .box{padding:0 24px 8px 8px}.color-picker .hex-text .box div{float:left;flex:1 1 auto;text-align:center;color:#555;clear:left}.color-picker .hex-text .box input{flex:1 1 auto;padding:1px;border:#a9a9a9 solid 1px}.color-picker .hex-alpha .box div:first-child,.color-picker .hex-alpha .box input:first-child{flex-grow:3;margin-right:8px}.color-picker .cmyk-text,.color-picker .hsla-text,.color-picker .rgba-text,.color-picker .value-text{width:100%;padding:4px 8px;font-size:11px}.color-picker .cmyk-text .box,.color-picker .hsla-text .box,.color-picker .rgba-text .box{padding:0 24px 8px 8px}.color-picker .value-text .box{padding:0 8px 8px}.color-picker .cmyk-text .box div,.color-picker .hsla-text .box div,.color-picker .rgba-text .box div,.color-picker .value-text .box div{flex:1 1 auto;margin-right:8px;text-align:center;color:#555}.color-picker .cmyk-text .box div:last-child,.color-picker .hsla-text .box div:last-child,.color-picker .rgba-text .box div:last-child,.color-picker .value-text .box div:last-child{margin-right:0}.color-picker .cmyk-text .box input,.color-picker .hsla-text .box input,.color-picker .rgba-text .box input,.color-picker .value-text .box input{float:left;flex:1;padding:1px;margin:0 8px 0 0;border:#a9a9a9 solid 1px}.color-picker .cmyk-text .box input:last-child,.color-picker .hsla-text .box input:last-child,.color-picker .rgba-text .box input:last-child,.color-picker .value-text .box input:last-child{margin-right:0}.color-picker .hue-alpha{align-items:center;margin-bottom:3px}.color-picker .hue{direction:ltr;width:100%;height:16px;margin-bottom:16px;border:none;cursor:pointer;background-size:100% 100%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAAAQCAYAAAD06IYnAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AIWDwkUFWbCCAAAAFxJREFUaN7t0kEKg0AQAME2x83/n2qu5qCgD1iDhCoYdpnbQC9bbY1qVO/jvc6k3ad91s7/7F1/csgPrujuQ17BDYSFsBAWwgJhISyEBcJCWAgLhIWwEBYIi2f7Ar/1TCgFH2X9AAAAAElFTkSuQmCC)}.color-picker .value{direction:rtl;width:100%;height:16px;margin-bottom:16px;border:none;cursor:pointer;background-size:100% 100%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAAAQCAYAAAD06IYnAAACTklEQVR42u3SYUcrABhA4U2SkmRJMmWSJklKJiWZZpKUJJskKUmaTFImKZOUzMySpGRmliRNJilJSpKSJEtmSpIpmWmSdO736/6D+x7OP3gUCoWCv1cqlSQlJZGcnExKSgqpqamkpaWRnp5ORkYGmZmZqFQqsrKyyM7OJicnh9zcXNRqNXl5eeTn56PRaCgoKKCwsJCioiK0Wi3FxcWUlJRQWlpKWVkZ5eXlVFRUUFlZiU6no6qqiurqampqaqitraWurg69Xk99fT0GgwGj0UhDQwONjY00NTXR3NxMS0sLra2ttLW10d7ejslkwmw209HRQWdnJ11dXXR3d9PT00Nvby99fX309/czMDDA4OAgFouFoaEhrFYrw8PDjIyMMDo6ytjYGDabjfHxcSYmJpicnGRqagq73c709DQzMzPMzs4yNzfH/Pw8DocDp9OJy+XC7XazsLDA4uIiS0tLLC8vs7KywurqKmtra3g8HrxeLz6fD7/fz/r6OhsbG2xubrK1tcX29jaBQICdnR2CwSC7u7vs7e2xv7/PwcEBh4eHHB0dcXx8zMnJCaenp5ydnXF+fs7FxQWXl5dcXV1xfX3Nzc0Nt7e33N3dEQqFuL+/5+HhgXA4TCQS4fHxkaenJ56fn3l5eeH19ZVoNMrb2xvv7+98fHwQi8WIx+N8fn6SSCT4+vri+/ubn58ffn9/+VcKgSWwBJbAElgCS2AJLIElsASWwBJYAktgCSyBJbAElsASWAJLYAksgSWwBJbAElgCS2AJLIElsP4/WH8AmJ5Z6jHS4h8AAAAASUVORK5CYII=)}.color-picker .alpha{direction:ltr;width:100%;height:16px;border:none;cursor:pointer;background-size:100% 100%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAAAQCAYAAAD06IYnAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AIWDwYQlZMa3gAAAWVJREFUaN7tmEGO6jAQRCsOArHgBpyAJYGjcGocxAm4A2IHpmoWE0eBH+ezmFlNvU06shJ3W6VEelWMUQAIIF9f6qZpimsA1LYtS2uF51/u27YVAFZVRUkEoGHdPV/sIcbIEIIkUdI/9Xa7neyv61+SWFUVAVCSct00TWn2fv6u3+Ecfd3tXzy/0+nEUu+SPjo/kqzrmiQpScN6v98XewfA8/lMkiLJ2WxGSUopcT6fM6U0NX9/frfbjev1WtfrlZfLhYfDQQHG/AIOlnGwjINlHCxjHCzjYJm/TJWdCwquJXseFFzGwDNNeiKMOJTO8xQdDQaeB29+K9efeLaBo9J7vdvtJj1RjFFjfiv7qv95tjx/7leSQgh93e1ffMeIp6O+YQjho/N791t1XVOSSI7N//K+4/GoxWLBx+PB5/Op5XLJ+/3OlJJWqxU3m83ovv5iGf8KjYNlHCxjHCzjYBkHy5gf5gusvQU7U37jTAAAAABJRU5ErkJggg==)}.color-picker .type-policy{position:absolute;top:218px;right:12px;width:16px;height:24px;background-size:8px 16px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAgCAYAAAAffCjxAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAACewAAAnsB01CO3AAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAIASURBVEiJ7ZY9axRRFIafsxMStrLQJpAgpBFhi+C9w1YSo00I6RZ/g9vZpBf/QOr4GyRgkSKNSrAadsZqQGwCkuAWyRZJsySwvhZ7N/vhzrgbLH3Ld8597jlzz50zJokyxXH8DqDVar0qi6v8BbItqSGpEcfxdlmsFWXkvX8AfAVWg3UKPEnT9GKujMzsAFgZsVaCN1VTQd77XUnrgE1kv+6935268WRpzrnHZvYRWC7YvC3pRZZl3wozqtVqiyH9IgjAspkd1Gq1xUJQtVrdB9ZKIAOthdg/Qc65LUk7wNIMoCVJO865rYFhkqjX6/d7vV4GPJwBMqofURS5JEk6FYBer/eeYb/Mo9WwFnPOvQbeAvfuAAK4BN4sAJtAG/gJIElmNuiJyba3EGNmZiPeZuEVmVell/Y/6N+CzDn3AXhEOOo7Hv/3BeAz8IzQkMPnJbuPx1wC+yYJ7/0nYIP5S/0FHKdp+rwCEEXRS/rf5Hl1Gtb2M0iSpCOpCZzPATmX1EySpHMLAsiy7MjMDoHrGSDXZnaYZdnRwBh7J91utwmczAA6CbG3GgPleX4jqUH/a1CktqRGnuc3hSCAMB32gKspkCtgb3KCQMmkjeP4WNJThrNNZval1WptTIsv7JtQ4tmIdRa8qSoEpWl6YWZNoAN0zKxZNPehpLSBZv2t+Q0CJ9lLnARQLAAAAABJRU5ErkJggg==);background-repeat:no-repeat;background-position:center}.color-picker .type-policy .type-policy-arrow{display:block;width:100%;height:50%}.color-picker .selected-color{position:absolute;top:16px;left:8px;width:40px;height:40px;border:1px solid #a9a9a9;border-radius:50%}.color-picker .selected-color-background{width:40px;height:40px;border-radius:50%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAh0lEQVRYR+2W0QlAMQgD60zdfwOdqa8TmI/wQMr5K0I5bZLIzLOa2nt37VVVbd+dDx5obgCC3KBLwJ2ff4PnVidkf+ucIhw80HQaCLo3DMH3CRK3iFsmAWVl6hPNDwt8EvNE5q+YuEXcMgkonVM6SdyCoEvAnZ8v1Hjx817MilmxSUB5rdLJDycZgUAZUch/AAAAAElFTkSuQmCC)}.color-picker .saturation-lightness{direction:ltr;width:100%;height:130px;border:none;cursor:pointer;touch-action:manipulation;background-size:100% 100%;background-image:url(data:image/png;base64,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)}.color-picker .cp-add-color-button-class{position:absolute;display:inline;padding:0;margin:3px -3px;border:0;cursor:pointer;background:transparent}.color-picker .cp-add-color-button-class:hover{text-decoration:underline}.color-picker .cp-add-color-button-class:disabled{cursor:not-allowed;color:#999}.color-picker .cp-add-color-button-class:disabled:hover{text-decoration:none}.color-picker .cp-remove-color-button-class{position:absolute;top:-5px;right:-5px;display:block;width:10px;height:10px;border-radius:50%;cursor:pointer;text-align:center;background:#fff;box-shadow:1px 1px 5px #333}.color-picker .cp-remove-color-button-class:before{content:"x";position:relative;bottom:3.5px;display:inline-block;font-size:10px}.color-picker .eyedropper-icon{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);fill:#fff;mix-blend-mode:exclusion}\n'],encapsulation:2}),e})(),zc=(()=>{class e{constructor(t,n,i,o,a,l){this.injector=t,this.cfr=n,this.appRef=i,this.vcRef=o,this.elRef=a,this._service=l,this.dialogCreated=!1,this.ignoreChanges=!1,this.viewAttachedToAppRef=!1,this.cpWidth="230px",this.cpHeight="auto",this.cpToggle=!1,this.cpDisabled=!1,this.cpIgnoredElements=[],this.cpFallbackColor="",this.cpColorMode="color",this.cpCmykEnabled=!1,this.cpOutputFormat="auto",this.cpAlphaChannel="enabled",this.cpDisableInput=!1,this.cpDialogDisplay="popup",this.cpSaveClickOutside=!0,this.cpCloseClickOutside=!0,this.cpUseRootViewContainer=!1,this.cpPosition="auto",this.cpPositionOffset="0%",this.cpPositionRelativeToArrow=!1,this.cpOKButton=!1,this.cpOKButtonText="OK",this.cpOKButtonClass="cp-ok-button-class",this.cpCancelButton=!1,this.cpCancelButtonText="Cancel",this.cpCancelButtonClass="cp-cancel-button-class",this.cpEyeDropper=!1,this.cpPresetLabel="Preset colors",this.cpPresetColorsClass="cp-preset-colors-class",this.cpMaxPresetColorsLength=6,this.cpPresetEmptyMessage="No colors added",this.cpPresetEmptyMessageClass="preset-empty-message",this.cpAddColorButton=!1,this.cpAddColorButtonText="Add color",this.cpAddColorButtonClass="cp-add-color-button-class",this.cpRemoveColorButtonClass="cp-remove-color-button-class",this.cpInputChange=new s.vpe(!0),this.cpToggleChange=new s.vpe(!0),this.cpSliderChange=new s.vpe(!0),this.cpSliderDragEnd=new s.vpe(!0),this.cpSliderDragStart=new s.vpe(!0),this.colorPickerOpen=new s.vpe(!0),this.colorPickerClose=new s.vpe(!0),this.colorPickerCancel=new s.vpe(!0),this.colorPickerSelect=new s.vpe(!0),this.colorPickerChange=new s.vpe(!1),this.cpCmykColorChange=new s.vpe(!0),this.cpPresetColorsChange=new s.vpe(!0)}handleClick(){this.inputFocus()}handleFocus(){this.inputFocus()}handleInput(t){this.inputChange(t)}ngOnDestroy(){null!=this.cmpRef&&(this.viewAttachedToAppRef&&this.appRef.detachView(this.cmpRef.hostView),this.cmpRef.destroy(),this.cmpRef=null,this.dialog=null)}ngOnChanges(t){t.cpToggle&&!this.cpDisabled&&(t.cpToggle.currentValue?this.openDialog():t.cpToggle.currentValue||this.closeDialog()),t.colorPicker&&(this.dialog&&!this.ignoreChanges&&("inline"===this.cpDialogDisplay&&this.dialog.setInitialColor(t.colorPicker.currentValue),this.dialog.setColorFromString(t.colorPicker.currentValue,!1),this.cpUseRootViewContainer&&"inline"!==this.cpDialogDisplay&&this.cmpRef.changeDetectorRef.detectChanges()),this.ignoreChanges=!1),(t.cpPresetLabel||t.cpPresetColors)&&this.dialog&&this.dialog.setPresetConfig(this.cpPresetLabel,this.cpPresetColors)}openDialog(){if(this.dialogCreated)this.dialog&&this.dialog.openDialog(this.colorPicker);else{let t=this.vcRef;if(this.dialogCreated=!0,this.viewAttachedToAppRef=!1,this.cpUseRootViewContainer&&"inline"!==this.cpDialogDisplay){const o=this.injector.get(this.appRef.componentTypes[0],s.zs3.NULL);o!==s.zs3.NULL?t=o.vcRef||o.viewContainerRef||this.vcRef:this.viewAttachedToAppRef=!0}const n=this.cfr.resolveComponentFactory(Ic);if(this.viewAttachedToAppRef)this.cmpRef=n.create(this.injector),this.appRef.attachView(this.cmpRef.hostView),document.body.appendChild(this.cmpRef.hostView.rootNodes[0]);else{const i=s.zs3.create({providers:[],parent:t.injector});this.cmpRef=t.createComponent(n,0,i,[])}this.cmpRef.instance.setupDialog(this,this.elRef,this.colorPicker,this.cpWidth,this.cpHeight,this.cpDialogDisplay,this.cpFallbackColor,this.cpColorMode,this.cpCmykEnabled,this.cpAlphaChannel,this.cpOutputFormat,this.cpDisableInput,this.cpIgnoredElements,this.cpSaveClickOutside,this.cpCloseClickOutside,this.cpUseRootViewContainer,this.cpPosition,this.cpPositionOffset,this.cpPositionRelativeToArrow,this.cpPresetLabel,this.cpPresetColors,this.cpPresetColorsClass,this.cpMaxPresetColorsLength,this.cpPresetEmptyMessage,this.cpPresetEmptyMessageClass,this.cpOKButton,this.cpOKButtonClass,this.cpOKButtonText,this.cpCancelButton,this.cpCancelButtonClass,this.cpCancelButtonText,this.cpAddColorButton,this.cpAddColorButtonClass,this.cpAddColorButtonText,this.cpRemoveColorButtonClass,this.cpEyeDropper,this.elRef,this.cpExtraTemplate),this.dialog=this.cmpRef.instance,this.vcRef!==t&&this.cmpRef.changeDetectorRef.detectChanges()}}closeDialog(){this.dialog&&"popup"===this.cpDialogDisplay&&this.dialog.closeDialog()}cmykChanged(t){this.cpCmykColorChange.emit(t)}stateChanged(t){this.cpToggleChange.emit(t),t?this.colorPickerOpen.emit(this.colorPicker):this.colorPickerClose.emit(this.colorPicker)}colorChanged(t,n=!0){this.ignoreChanges=n,this.colorPickerChange.emit(t)}colorSelected(t){this.colorPickerSelect.emit(t)}colorCanceled(){this.colorPickerCancel.emit()}inputFocus(){const t=this.elRef.nativeElement,n=this.cpIgnoredElements.filter(i=>i===t);!this.cpDisabled&&!n.length&&("undefined"!=typeof document&&t===document.activeElement?this.openDialog():this.dialog&&this.dialog.show?this.closeDialog():this.openDialog())}inputChange(t){this.dialog?this.dialog.setColorFromString(t.target.value,!0):(this.colorPicker=t.target.value,this.colorPickerChange.emit(this.colorPicker))}inputChanged(t){this.cpInputChange.emit(t)}sliderChanged(t){this.cpSliderChange.emit(t)}sliderDragEnd(t){this.cpSliderDragEnd.emit(t)}sliderDragStart(t){this.cpSliderDragStart.emit(t)}presetColorsChanged(t){this.cpPresetColorsChange.emit(t)}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(s.zs3),s.Y36(s._Vd),s.Y36(s.z2F),s.Y36(s.s_b),s.Y36(s.SBq),s.Y36($r))},e.\u0275dir=s.lG2({type:e,selectors:[["","colorPicker",""]],hostBindings:function(t,n){1&t&&s.NdJ("click",function(){return n.handleClick()})("focus",function(){return n.handleFocus()})("input",function(o){return n.handleInput(o)})},inputs:{colorPicker:"colorPicker",cpWidth:"cpWidth",cpHeight:"cpHeight",cpToggle:"cpToggle",cpDisabled:"cpDisabled",cpIgnoredElements:"cpIgnoredElements",cpFallbackColor:"cpFallbackColor",cpColorMode:"cpColorMode",cpCmykEnabled:"cpCmykEnabled",cpOutputFormat:"cpOutputFormat",cpAlphaChannel:"cpAlphaChannel",cpDisableInput:"cpDisableInput",cpDialogDisplay:"cpDialogDisplay",cpSaveClickOutside:"cpSaveClickOutside",cpCloseClickOutside:"cpCloseClickOutside",cpUseRootViewContainer:"cpUseRootViewContainer",cpPosition:"cpPosition",cpPositionOffset:"cpPositionOffset",cpPositionRelativeToArrow:"cpPositionRelativeToArrow",cpOKButton:"cpOKButton",cpOKButtonText:"cpOKButtonText",cpOKButtonClass:"cpOKButtonClass",cpCancelButton:"cpCancelButton",cpCancelButtonText:"cpCancelButtonText",cpCancelButtonClass:"cpCancelButtonClass",cpEyeDropper:"cpEyeDropper",cpPresetLabel:"cpPresetLabel",cpPresetColors:"cpPresetColors",cpPresetColorsClass:"cpPresetColorsClass",cpMaxPresetColorsLength:"cpMaxPresetColorsLength",cpPresetEmptyMessage:"cpPresetEmptyMessage",cpPresetEmptyMessageClass:"cpPresetEmptyMessageClass",cpAddColorButton:"cpAddColorButton",cpAddColorButtonText:"cpAddColorButtonText",cpAddColorButtonClass:"cpAddColorButtonClass",cpRemoveColorButtonClass:"cpRemoveColorButtonClass",cpExtraTemplate:"cpExtraTemplate"},outputs:{cpInputChange:"cpInputChange",cpToggleChange:"cpToggleChange",cpSliderChange:"cpSliderChange",cpSliderDragEnd:"cpSliderDragEnd",cpSliderDragStart:"cpSliderDragStart",colorPickerOpen:"colorPickerOpen",colorPickerClose:"colorPickerClose",colorPickerCancel:"colorPickerCancel",colorPickerSelect:"colorPickerSelect",colorPickerChange:"colorPickerChange",cpCmykColorChange:"cpCmykColorChange",cpPresetColorsChange:"cpPresetColorsChange"},exportAs:["ngxColorPicker"],features:[s.TTD]}),e})(),Gc=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({providers:[$r],imports:[[Et.ez]]}),e})();var Qt=B(9838);const yt=[];for(let e=0;e<256;e++)yt[e]=(e<16?"0":"")+e.toString(16);let qe=(e=21)=>{let r="",t=crypto.getRandomValues(new Uint8Array(e));for(;e--;){let n=63&t[e];r+=n<36?n.toString(36):n<62?(n-26).toString(36).toUpperCase():n<63?"_":"-"}return r};var Yi=B(5917),tn=B(8002),en=B(1841);let rn=(()=>{class e{constructor(t){this.http=t,this.localScenes={scene:[]},this.getLocalScenes()}getLocalScenes(){const t=localStorage.getItem("localScenes");this.localScenes=t?JSON.parse(t):this.localScenes}getScenes(){return(0,Yi.of)(this.localScenes)}getScene(t){let n=t.substring(0,4),i=t.substring(4);return"ass_"===n?this.loadJsonScene(i):"git_"===n?this.http.get(`https://scqilin.github.io/scene-data/${i}.json`):(0,Yi.of)(this.localScenes.scene).pipe((0,tn.U)(o=>o.find(a=>a.id===t)))}saveScene(t,n){this.localScenes.scene.map(i=>{i.id===t&&(i=n)}),this.saveScenes()}createNewScene(t){this.localScenes.scene.length<10?this.localScenes.scene.unshift({id:qe(6),name:t,components:[],options:{width:1920,height:1080,bgColor:"#000000",bgImage:""}}):window.alert("Stop , A'zu, Ten is enough !")}deleteScene(t){this.localScenes.scene=this.localScenes.scene.filter(n=>n.id!==t)}saveScenes(){localStorage.setItem("localScenes",JSON.stringify(this.localScenes))}loadJsonScenesList(){return this.http.get("./assets/scene-data/scenes-list.json")}getJsonScenesListFromAssets(){return this.loadJsonScenesList().pipe((0,tn.U)(t=>(t.scene||[]).map(i=>{let o=i.url,a=o.substring(o.lastIndexOf("/")+1,o.lastIndexOf("."));return i.id="ass_"+a,i})))}loadJsonScene(t){return this.http.get(`./assets/scene-data/${t}.json`)}getJsonScenesListFromGitHub(){return this.http.get("https://scqilin.github.io/scene-data/scenes-list.json").pipe((0,tn.U)(t=>(t.scene||[]).map(i=>{let o=i.url,a=o.substring(o.lastIndexOf("/")+1,o.lastIndexOf("."));return i.id="git_"+a,i})))}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(en.eN))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var Nc=B(3385),Zc=B(4453),Fc=B(9374),Hi=B(4514);const qc=function(e){return["/editer/edit",e]},Vc=function(e){return["/editer/preview",e]};function Yc(e,r){if(1&e){const t=s.EpF();s.TgZ(0,"div"),s.TgZ(1,"div",5),s.TgZ(2,"span"),s._uU(3),s.qZA(),s.TgZ(4,"span"),s.TgZ(5,"a",7),s._uU(6,"Edit"),s.qZA(),s.qZA(),s.TgZ(7,"span"),s.TgZ(8,"a",8),s._uU(9,"Preview"),s.qZA(),s.qZA(),s.TgZ(10,"span"),s.TgZ(11,"a",9),s.NdJ("click",function(){const o=s.CHM(t).$implicit;return s.oxw(2).deleteScene(o.id)}),s._uU(12,"Delete"),s.qZA(),s.qZA(),s.qZA(),s.qZA()}if(2&e){const t=r.$implicit;s.xp6(3),s.Oqu(t.sid),s.xp6(2),s.Q6J("routerLink",s.VKq(3,qc,t.id)),s.xp6(3),s.Q6J("routerLink",s.VKq(5,Vc,t.id))}}function Hc(e,r){if(1&e){const t=s.EpF();s.TgZ(0,"div",3),s.TgZ(1,"div"),s.TgZ(2,"div",5),s.TgZ(3,"button",6),s.NdJ("click",function(){return s.CHM(t),s.oxw().createNewScene()}),s._uU(4," + "),s.qZA(),s.qZA(),s.qZA(),s.YNc(5,Yc,13,7,"div",4),s.qZA()}if(2&e){const t=s.oxw();s.xp6(5),s.Q6J("ngForOf",t.localArray)}}function Lc(e,r){if(1&e&&(s.TgZ(0,"span"),s.TgZ(1,"a",7),s._uU(2,"Edit"),s.qZA(),s.qZA()),2&e){const t=s.oxw().$implicit;s.xp6(1),s.MGl("routerLink","/editer/edit/",t.id,"")}}function Wc(e,r){if(1&e&&(s.TgZ(0,"div"),s.TgZ(1,"div",10),s.YNc(2,Lc,3,1,"span",11),s.TgZ(3,"span"),s.TgZ(4,"a",7),s._uU(5,"Preview"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(6,"span"),s._uU(7),s.qZA(),s.qZA()),2&e){const t=r.$implicit,n=s.oxw();s.xp6(2),s.Q6J("ngIf",n.editTag),s.xp6(2),s.MGl("routerLink","/editer/preview/",t.id,""),s.xp6(3),s.Oqu(t.name)}}function Xc(e,r){if(1&e&&(s.TgZ(0,"span"),s.TgZ(1,"a",7),s._uU(2,"Edit"),s.qZA(),s.qZA()),2&e){const t=s.oxw().$implicit;s.xp6(1),s.MGl("routerLink","/editer/edit/",t.id,"")}}function Uc(e,r){if(1&e&&(s.TgZ(0,"div"),s.TgZ(1,"div",10),s.YNc(2,Xc,3,1,"span",11),s.TgZ(3,"span"),s.TgZ(4,"a",7),s._uU(5,"Preview"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(6,"span"),s._uU(7),s.qZA(),s.qZA()),2&e){const t=r.$implicit,n=s.oxw();s.xp6(2),s.Q6J("ngIf",n.editTag),s.xp6(2),s.MGl("routerLink","/editer/preview/",t.id,""),s.xp6(3),s.Oqu(t.name)}}let Li=(()=>{class e{constructor(t,n,i){this.editService=t,this.router=n,this.http=i,this.localArray=[],this.assetsjsonArray=[],this.gitjsonArray=[],this.editTag=!1}ngOnInit(){this.getSceneList(),this.getReitTag(),this.editService.getJsonScenesListFromAssets().subscribe(t=>{this.assetsjsonArray=t}),this.editService.getJsonScenesListFromGitHub().subscribe(t=>{this.gitjsonArray=t})}createNewScene(){this.editService.createNewScene("\u5927\u5c4f"),setTimeout(()=>{this.saveScenes(),this.getSceneList()},10)}deleteScene(t){this.editService.deleteScene(t),this.getSceneList(),this.saveScenes()}getSceneList(){this.editService.getScenes().subscribe(t=>{this.localArray=JSON.parse(JSON.stringify(t.scene||[]));let n=this.localArray.length;for(let i=0;i<n;i++)this.localArray[i].sid=n-i})}saveScenes(){this.editService.saveScenes()}getReitTag(){"666"===localStorage.getItem("scqilin")&&(this.editTag=!0)}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(rn),s.Y36(Qt.F0),s.Y36(en.eN))},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-list"]],decls:7,vars:3,consts:[[1,"gutter-example"],["nzText",""],["class","pre-list",4,"ngIf"],[1,"pre-list"],[4,"ngFor","ngForOf"],[1,"grid-config-s"],["nz-button","","nzType","primary",3,"click"],[3,"routerLink"],["target","_blank",3,"routerLink"],[3,"click"],[1,"grid-config"],[4,"ngIf"]],template:function(t,n){1&t&&(s.TgZ(0,"div",0),s._UZ(1,"nz-divider",1),s.YNc(2,Hc,6,1,"div",2),s._UZ(3,"nz-divider",1),s.TgZ(4,"div",3),s.YNc(5,Wc,8,3,"div",4),s.YNc(6,Uc,8,3,"div",4),s.qZA(),s.qZA()),2&t&&(s.xp6(2),s.Q6J("ngIf",n.editTag),s.xp6(3),s.Q6J("ngForOf",n.assetsjsonArray),s.xp6(1),s.Q6J("ngForOf",n.gitjsonArray))},directives:[Nc.g,Et.O5,Et.sg,Zc.ix,Fc.dQ,Hi.w,Qt.yS],styles:[".gutter-example[_ngcontent-%COMP%]{padding:15px;text-align:center}.grid-config[_ngcontent-%COMP%]{height:168.75px;width:300px;margin:10px;font-size:14px;line-height:150px;background:#bddde8;border-radius:4px}.grid-config[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding-right:10px}.grid-config-s[_ngcontent-%COMP%]{height:50px;width:200px;margin:10px;font-size:14px;line-height:50px;background:#bddde8;border-radius:4px}.grid-config-s[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding-right:10px}.pre-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:start}"]}),e})();var Wi=B(2855);let Xi=(()=>{class e{constructor(){}ngOnInit(){}onResize(t){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-colorbar"]],decls:2,vars:0,consts:[[1,"bar"]],template:function(t,n){1&t&&(s.TgZ(0,"p",0),s._uU(1,"colorbar works!"),s.qZA())},styles:[".bar[_ngcontent-%COMP%]{background-color:#509a80;width:max-content}"]}),e})();var Ui=B(47),Ji=B(4266),ji=B(2412),Ki=B(2026);let Qi=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-head2"]],decls:2,vars:0,template:function(t,n){1&t&&(s.TgZ(0,"p"),s._uU(1,"head2 works!"),s.qZA())},encapsulation:2}),e})();var $i=B(2004),to=B(8845),eo=B(4335),ro=B(7947);let no=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-minibar"]],decls:2,vars:0,template:function(t,n){1&t&&(s.TgZ(0,"p"),s._uU(1,"minibar works!"),s.qZA())},styles:[""]}),e})();var io=B(5543),oo=B(8968),ao=B(7610),so=B(7186),lo=B(2815),co=B(4823),uo=B(1109),po=B(8075),fo=B(2957),ho=B(4282),vo=B(8503),go=B(4184),mo=B(1259),Co=B(5076),xo=B(1335),_o=B(5815),bo=B(6803);let So=(()=>{class e{constructor(){}ngOnInit(){}ngAfterViewInit(){}ngOnChanges(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-turnbook3d"]],features:[s.TTD],decls:1,vars:0,template:function(t,n){1&t&&s._uU(0,"turnbook3d")},styles:[""]}),e})();var wo=B(3371),yo=B(1566),Mo=B(66),Eo=B(3265),Ao=B(9313),To=B(7266),Do=B(1052),Oo=B(7120),ko=B(4681),Po=B(9827),Ro=B(1786),Io=B(8466),Bo=B(9676),zo=B(6310),Go=B(9554),No=B(6665),Zo=B(9),Fo=B(5466),qo=B(3250),Vo=B(6930),Yo=B(3897),Ho=B(5303),Lo=B(4170),Wo=B(2726),Xo=B(4288),Uo=B(7974);const Jc=["container"];let Jo=(()=>{class e{constructor(){this.width=100,this.height=100,this.backcolor="#1d48c4",this.points="40, 0 5, 0 0, 5 0, 16 3, 19 3, 7 7, 3 35, 3"}ngOnInit(){}ngAfterViewInit(){let t=this.container.nativeElement;setTimeout(()=>{this.width=t.offsetWidth,this.height=t.offsetHeight},100)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-borderbox01"]],viewQuery:function(t,n){if(1&t&&s.Gf(Jc,5),2&t){let i;s.iGM(i=s.CRH())&&(n.container=i.first)}},decls:11,vars:6,consts:[[2,"width","100%","height","100%"],["container",""],[1,"dv-border-box-10"],["width","150px","height","150px",1,"left-top","dv-border-svg-container"],["fill","#d3e1f8"],["width","150px","height","150px",1,"right-top","dv-border-svg-container"],["width","150px","height","150px",1,"left-bottom","dv-border-svg-container"],["width","150px","height","150px",1,"right-bottom","dv-border-svg-container"]],template:function(t,n){1&t&&(s.TgZ(0,"div",0,1),s.TgZ(2,"div",2),s.O4$(),s.TgZ(3,"svg",3),s._UZ(4,"polygon",4),s.qZA(),s.TgZ(5,"svg",5),s._UZ(6,"polygon",4),s.qZA(),s.TgZ(7,"svg",6),s._UZ(8,"polygon",4),s.qZA(),s.TgZ(9,"svg",7),s._UZ(10,"polygon",4),s.qZA(),s.qZA(),s.qZA()),2&t&&(s.xp6(2),s.Udp("box-shadow",n.backcolor+" 0px 0px 25px 3px inset"),s.xp6(2),s.uIk("points",n.points),s.xp6(2),s.uIk("points",n.points),s.xp6(2),s.uIk("points",n.points),s.xp6(2),s.uIk("points",n.points))},styles:[".dv-border-box-10[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;border-radius:6px}.dv-border-box-10[_ngcontent-%COMP%]   .dv-border-svg-container[_ngcontent-%COMP%]{position:absolute;display:block}.dv-border-box-10[_ngcontent-%COMP%]   .right-top[_ngcontent-%COMP%]{right:0px;transform:rotateY(180deg)}.dv-border-box-10[_ngcontent-%COMP%]   .left-bottom[_ngcontent-%COMP%]{bottom:0px;transform:rotateX(180deg)}.dv-border-box-10[_ngcontent-%COMP%]   .right-bottom[_ngcontent-%COMP%]{right:0px;bottom:0px;transform:rotateX(180deg) rotateY(180deg)}"]}),e})(),jo=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-borderbox02"]],decls:2,vars:0,template:function(t,n){1&t&&(s.TgZ(0,"p"),s._uU(1,"borderbox02 works!"),s.qZA())},encapsulation:2}),e})();var Ko=B(9824),Qo=B(8410),$o=B(3631),ta=B(3251),ea=B(5325),ra=B(1506);const na=[Wi.P,Xi,Ui.i,Ji.B,Ki.J,Qi,ji.F,$i._,to.t,eo.K,ro.X,no,io.b,oo.d,ao.Z,so.J,lo.O,co.g,uo.T,po.e,fo.o,ho.F,Io.R,Bo.x,zo.d,vo.p,go.$,Oo.L,Go.s,No.N,Zo.p,ko.Q,Po.c,Ro.i,mo.r,Co.X,xo.J,_o.f,bo.m,So,wo.P,yo.r,Mo.$,Eo.B,To.z,Ao.Y,Lo.G,Wo.g,Do.Y,Xo.T,Uo.v,Jo,jo,Ko.j,Qo.r,$o.q,ta.f,ea.N,ra.r,Fo.C,qo.o,Vo.m,Yo.I,Ho.W],jc=["BasicbarComponent","ColorbarComponent","BarStackComponent","BarStacksBendComponent","Head1Component","Head2Component","ClockComponent","Chinamap1Component","Worldmap1Component","MapsvgComponent","EarthComponent","MinibarComponent","MiniarealineComponent","MimipiesComponent","ChinamapComponent","MapChina4Component","D3lineareaComponent","TitleareaComponent","Chinamap2Component","Chinamapthree1Component","MulpiesComponent","YuanhuanComponent","TopolineComponent","Topoline2Component","D3polylineComponent","AlarmlistComponent","NoiseSphereComponent","UsertreeComponent","Topo25Component","Topo253dComponent","ComputerRoomComponent","TreeAndTopoComponent","D3hierarchyComponent","D3hierarchy2Component","VideosphereComponent","CenterraderComponent","LineschartComponent","LinechartComponent","AmmojsComponent","Turnbook3dComponent","Book3dbaseComponent","Book3dbasehtmlComponent","SphereComponent","PlaneComponent","SuperSportsCarComponent","RingComponent","Pie3dComponent","PieSingleComponent","Ring2Component","P5testComponent","P5barComponent","Borderbox01Component","Borderbox02Component","MarqueeComponent","TitleComponent","TipRandomPosComponent","TipRotationComponent","Table1Component","Table2Component","D3bubbleComponent","D3bubble2Component","D3bubble3Component","D3bubble4Component","D3HoneycombComponent"],Kc=[{title:"\u62d3\u6251\u7c7b",children:[{name:"d3-honeycomb",title:"\u8702\u7a9d\u56fe",selector:"D3HoneycombComponent",component:Ho.W,position:{width:800,height:900}},{name:"d3-bubble",title:"\u6c14\u6ce1\u56fe",selector:"D3bubbleComponent",component:Fo.C,position:{width:400,height:400}},{name:"d3-bubble2",title:"\u6c14\u6ce1\u56fe2",selector:"D3bubble2Component",component:qo.o,position:{width:400,height:400}},{name:"d3-bubble3",title:"\u6c14\u6ce1\u56fe3",selector:"D3bubble3Component",component:Vo.m,position:{width:400,height:400}},{name:"d3-bubble4",title:"\u6c14\u6ce1\u56fe4",selector:"D3bubble4Component",component:Yo.I,position:{width:400,height:400}},{name:"flow-chart",title:"\u6d41\u7a0b\u56fe",selector:"D3hierarchy2Component",component:Ro.i,position:{width:1e3,height:400}},{name:"computer-room",title:"\u673a\u623f\u53ef\u89c6\u5316",selector:"ComputerRoomComponent",component:Zo.p,position:{width:1e3,height:800}},{name:"Topo253d",title:"\u673a\u623f\u5173\u7cfb\u56fe",selector:"Topo253dComponent",component:No.N,position:{width:1e3,height:680}},{name:"Topo25",title:"2.5D\u62d3\u6251\u56fe",selector:"Topo25Component",component:Go.s,position:{width:750,height:600}},{name:"Usertree",title:"\u81ea\u5b9a\u4e49\u5c42\u7ea7\u6811",selector:"UsertreeComponent",component:Oo.L,position:{width:700,height:300}},{name:"Hierarchytree",title:"\u5c42\u7ea7\u6811\u62d3\u6251",selector:"TreeAndTopoComponent",component:ko.Q,position:{width:1100,height:700}},{name:"Topod3",title:"\u5c42\u7ea7\u6811",selector:"D3hierarchyComponent",component:Po.c},{name:"Topoline",title:"\u73af\u5f62\u62d3\u6251",selector:"TopolineComponent",component:Io.R,position:{width:1200,height:600}},{name:"Topoline2",title:"\u73af\u5f62\u5c42\u7ea7\u62d3\u6251",selector:"Topoline2Component",component:Bo.x,position:{width:800,height:400}},{name:"Polyline",title:"\u6d41\u7a0b\u56fe\u6298\u7ebf",selector:"D3polylineComponent",component:zo.d,position:{width:1100,height:700}}]},{title:"\u57fa\u7840\u56fe\u8868",children:[{name:"BarStackBand",title:"\u5f2f\u66f2\u5806\u53e0\u6761\u5f62\u56fe",selector:"BarStacksBendComponent",component:Ji.B,position:{width:250,height:250}},{name:"BarStack",title:"\u5806\u53e0\u6761\u5f62\u56fe",selector:"BarStackComponent",component:Ui.i,position:{width:300,height:300}},{name:"Pie3d",title:"\u997c\u56fe3D",selector:"Pie3dComponent",component:Lo.G},{name:"PieSingle",title:"\u997c\u56fe",selector:"PieSingleComponent",component:Wo.g},{name:"Basicbar",title:"\u57fa\u672c\u67f1\u72b6\u56fe",selector:"BasicbarComponent",component:Wi.P},{name:"Colorbar",title:"\u5f69\u8272\u67f1\u72b6\u56fe",selector:"ColorbarComponent",component:Xi},{name:"Minibar",title:"\u8ff7\u4f60\u67f1\u72b6\u56fe",component:no,selector:"MinibarComponent"},{name:"Miniarealine",title:"\u8ff7\u4f60\u9762\u79ef\u56fe",selector:"MiniarealineComponent",component:io.b,icon:"miniarealineicon.png"},{name:"Mimipies",title:"\u8ff7\u4f60\u997c\u56fe",selector:"MimipiesComponent",component:oo.d,icon:"minipiesicon.png"},{name:"D3linearea",title:"\u6298\u7ebf\u9762\u79ef\u56fe",selector:"D3lineareaComponent",component:lo.O,icon:"d3lineareaicon.png"},{name:"Titlearea",title:"\u6807\u9898\u9762\u79ef\u56fe",selector:"TitleareaComponent",component:co.g,icon:"titleareaicon.png"},{name:"Lineschart",title:"\u8f6e\u64ad\u6298\u7ebf\u56fe",selector:"LineschartComponent",component:xo.J},{name:"Linechart",title:"\u6298\u7ebf\u56fe",selector:"LinechartComponent",component:_o.f}]},{title:"\u6df7\u5408\u56fe\u8868",children:[{name:"Alarmlist",title:"\u544a\u8b66\u6536\u655b",selector:"AlarmlistComponent",component:vo.p},{name:"Mulpies",title:"\u6df7\u5408\u997c\u56fe",selector:"MulpiesComponent",component:fo.o}]},{title:"\u6587\u672c",children:[{name:"Title",title:"\u6807\u9898",selector:"TitleComponent",component:Qo.r,position:{width:700,height:40}},{name:"Marquee",title:"\u8dd1\u9a6c\u706f",selector:"MarqueeComponent",component:Ko.j,position:{width:700,height:40}},{name:"TipRandomPos",title:"\u968f\u673a\u6807\u7b7e",selector:"TipRandomPosComponent",component:$o.q,position:{width:300,height:300}},{name:"TipRotation",title:"\u65cb\u8f6c\u6807\u7b7e",selector:"TipRotationComponent",component:ta.f,position:{width:550,height:100}},{name:"Table1",title:"\u8868\u683c1",selector:"Table1Component",component:ea.N,position:{width:420,height:300}},{name:"Table2",title:"\u8868\u683c2",selector:"Table2Component",component:ra.r,position:{width:420,height:300}}]},{title:"\u57fa\u7840\u88c5\u9970",children:[{name:"Head1",title:"\u5934\u90e81",selector:"Head1Component",component:Ki.J,position:{width:1200,height:60}},{name:"Head2",title:"\u5934\u90e82",selector:"Head2Component",component:Qi},{name:"Clock",title:"\u65f6\u949f",selector:"ClockComponent",component:ji.F}]},{title:"\u7279\u6548\u7c7b",children:[{name:"ring",title:"Siri\u6548\u679c",selector:"RingComponent",component:Ao.Y},{name:"plane",title:"\u6d77\u9762\u98ce\u8f66\u5c0f\u8239",selector:"PlaneComponent",component:Eo.B},{name:"supersportscar",title:"\u672a\u6765\u8d85\u7ea7\u8dd1\u8f66",selector:"SuperSportsCarComponent",component:To.z}]},{title:"\u88c5\u9970\u7c7b",children:[{name:"Ring2",title:"\u88c5\u9970\u5706\u73af",selector:"Ring2Component",component:Do.Y},{name:"Yuanhuan",title:"\u88c5\u9970\u5706\u73af",selector:"YuanhuanComponent",component:ho.F},{name:"Videosphere",title:"\u89c6\u9891\u7eb9\u7406",selector:"VideosphereComponent",component:mo.r},{name:"Centerrader",title:"\u4e2d\u592e\u96f7\u8fbe",selector:"CenterraderComponent",component:Co.X}]},{title:"\u5730\u56fe\u7c7b",children:[{name:"Worldmap1",title:"\u4e16\u754c\u5730\u56fe",selector:"Worldmap1Component",component:to.t},{name:"Chinamap1",title:"\u4e2d\u56fd\u5730\u56fe1",selector:"Chinamap1Component",component:$i._},{name:"Mapsvg",title:"svg\u5730\u56fe",selector:"MapsvgComponent",component:eo.K},{name:"Chinamap2",title:"\u5730\u56fed3js",selector:"Chinamap2Component",component:uo.T,icon:"chinamap2icon.png"},{name:"Chinamapthree1",title:"\u5730\u56fethree1",selector:"Chinamapthree1Component",component:po.e,icon:"chinamap2icon.png"},{name:"Chinamap",title:"\u4e2d\u56fd\u5730\u56febar",selector:"ChinamapComponent",component:ao.Z,icon:"chinamapicon.png"},{name:"Chinamap",title:"\u4e2d\u56fd\u5730\u56feline",selector:"MapChina4Component",component:so.J,icon:"chinamapicon.png"}]},{title:"\u5706\u7403\u7c7b",children:[{name:"Noisesphere",title:"\u566a\u58f0\u7403",selector:"NoiseSphereComponent",component:go.$},{name:"Earth",title:"\u88c5\u9970\u5730\u7403",selector:"EarthComponent",component:ro.X,icon:"earthicon.png"},{name:"Sphere",title:"\u7403\u4f53",selector:"SphereComponent",component:Mo.$}]},{title:"\u5176\u4ed6\u7c7b",children:[{name:"p5test",title:"p5test",selector:"P5testComponent",component:Xo.T},{name:"p5bar",title:"p5bar",selector:"P5barComponent",component:Uo.v},{name:"Ammojs",title:"Ammojs",selector:"AmmojsComponent",component:bo.m},{name:"Turnbook3d",title:"Turnbook3d",selector:"Turnbook3dComponent",component:So},{name:"Book3d",title:"\u62d3\u6251\u673a\u7bb1",selector:"Book3dbasehtmlComponent",component:yo.r},{name:"Book3dbase",title:"\u65e0\u5b57\u5929\u4e66",selector:"Book3dbaseComponent",component:wo.P}]},{title:"\u8fb9\u6846",children:[{name:"borderbox01",title:"borderbox01",selector:"Borderbox01Component",component:Jo},{name:"borderbox02",title:"borderbox02",selector:"Borderbox02Component",component:jo}]}];let ia=(()=>{class e{constructor(t){this.viewContainerRef=t}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(s.s_b))},e.\u0275dir=s.lG2({type:e,selectors:[["","comHost",""]]}),e})();function Qc(e,r){}let oa=(()=>{class e{constructor(t){this.componentFactoryResolver=t,this.eventEmit=new s.vpe}findComponent(t){let n=null;for(let i=0;i<na.length;i++)if(jc[i]===t){n=na[i];break}return n}ngOnChanges(t){if(this.widgetConfig&&this.widgetConfig.selector){let n=this.findComponent(this.widgetConfig.selector);n&&this.loadComponent(n)}}ngOnInit(){if(this.widgetConfig&&this.widgetConfig.selector){let t=this.findComponent(this.widgetConfig.selector);t&&this.loadComponent(t)}}loadComponent(t){if(!t)return;const n=this.componentFactoryResolver.resolveComponentFactory(t),i=this.comHost.viewContainerRef;i.clear(),this.componentRef=i.createComponent(n),this.componentRef.instance.factoryData=this.widgetConfig,this.eventEmit.emit({uuid:this.widgetConfig.uuid,comInstance:this.componentRef.instance})}onResize(){var t,n;this.componentRef&&(null===(n=(t=this.componentRef.instance).ngOnChanges)||void 0===n||n.call(t,{resize:!0}))}onChangeSetting(){var t,n;this.componentRef&&(null===(n=(t=this.componentRef.instance).ngOnChanges)||void 0===n||n.call(t,{config:this.widgetConfig}))}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(s._Vd))},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-widget"]],viewQuery:function(t,n){if(1&t&&s.Gf(ia,7),2&t){let i;s.iGM(i=s.CRH())&&(n.comHost=i.first)}},inputs:{widgetConfig:"widgetConfig"},outputs:{eventEmit:"eventEmit"},features:[s.TTD],decls:2,vars:0,consts:[[2,"width","100%","height","100%"],["comHost",""]],template:function(t,n){1&t&&(s.TgZ(0,"div",0),s.YNc(1,Qc,0,0,"ng-template",1),s.qZA())},directives:[ia],encapsulation:2}),e})();var pe=B(3953);const $c=["container"];let aa=(()=>{class e{constructor(){this.eventEmit=new s.vpe}nodata(){return[]}ngOnChanges(t){}ngOnInit(){}ngAfterViewInit(){var t;let n=this.widgetConfig.selector;this.scene=new pe.O[n].component(this.container.nativeElement,pe.O[n].options||{}),this.demoData=pe.O[n].mockjs,"function"!=typeof this.demoData&&(this.demoData=this.nodata);const o=this.demoData();null===(t=this.scene)||void 0===t||t.updateData(o),this.eventEmit.emit({uuid:this.widgetConfig.uuid,comInstance:this.scene})}loadComponent(t){}onResize(){}onChangeSetting(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-mulwidget"]],viewQuery:function(t,n){if(1&t&&s.Gf($c,5),2&t){let i;s.iGM(i=s.CRH())&&(n.container=i.first)}},inputs:{widgetConfig:"widgetConfig"},outputs:{eventEmit:"eventEmit"},features:[s.TTD],decls:2,vars:0,consts:[[2,"width","100%","height","100%"],["container",""]],template:function(t,n){1&t&&s._UZ(0,"div",0,1)},encapsulation:2}),e})();const sa=function(e){return{transform:e}};function tu(e,r){if(1&e&&s._UZ(0,"app-widget",3,4),2&e){const t=s.oxw().$implicit;s.Akn(s.VKq(11,sa,"rotate("+t.position.rotate+"deg)")),s.Udp("top",t.position.top,"px")("left",t.position.left,"px")("width",t.position.width,"px")("height",t.position.height,"px"),s.Q6J("widgetConfig",t)}}function eu(e,r){if(1&e&&s._UZ(0,"app-mulwidget",3,4),2&e){const t=s.oxw().$implicit;s.Akn(s.VKq(11,sa,"rotate("+t.position.rotate+"deg)")),s.Udp("top",t.position.top,"px")("left",t.position.left,"px")("width",t.position.width,"px")("height",t.position.height,"px"),s.Q6J("widgetConfig",t)}}function ru(e,r){if(1&e&&(s.TgZ(0,"div"),s.YNc(1,tu,2,13,"app-widget",2),s.YNc(2,eu,2,13,"app-mulwidget",2),s.qZA()),2&e){const t=r.$implicit;s.xp6(1),s.Q6J("ngIf","mulcoms"!=t.type),s.xp6(1),s.Q6J("ngIf","mulcoms"===t.type)}}const nu=function(e,r,t){return{width:e,height:r,background:t}};let iu=(()=>{class e{constructor(t,n,i){this.route=t,this.http=n,this.editService=i,this.sceneAllData={components:[],options:{width:1920,height:1080,backgroundColor:"#fff"},id:"10",name:"\u65b0\u5efa\u573a\u666f"}}ngOnInit(){this.route.paramMap.subscribe(t=>{const n=t.get("id");this.editService.getScene(n).subscribe(i=>{this.sceneAllData=i})})}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(Qt.gz),s.Y36(en.eN),s.Y36(rn))},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-preview"]],decls:2,vars:7,consts:[[1,"prevoew-content"],[4,"ngFor","ngForOf"],["style","position: absolute;",3,"style","widgetConfig","top","left","width","height",4,"ngIf"],[2,"position","absolute",3,"widgetConfig"],["appwidget",""]],template:function(t,n){1&t&&(s.TgZ(0,"div",0),s.YNc(1,ru,3,2,"div",1),s.qZA()),2&t&&(s.Akn(s.kEZ(3,nu,n.sceneAllData.options.width+"px",n.sceneAllData.options.height+"px",n.sceneAllData.options.bgColor)),s.xp6(1),s.Q6J("ngForOf",n.sceneAllData.components))},directives:[Et.sg,Et.O5,oa,aa],styles:[".prevoew-content[_ngcontent-%COMP%]{position:absolute;background-color:#000;width:1920px;height:1080px}.sc-list[_ngcontent-%COMP%]{position:absolute;bottom:10px;left:10px}.sc-list[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:20px;height:20px;color:#000;display:inline-block;background-color:#faebd7;border-radius:10px;margin-right:10px;text-align:center;line-height:20px}"]}),e})();var ou=B(3599);function au(e){for(var r=[],t=1;t<arguments.length;t++)r[t-1]=arguments[t];return r.map(function(n){return n.split(" ").map(function(i){return i?""+e+i:""}).join(" ")}).join(" ")}function Lt(e,r){return function(t){t&&(e[r]=t)}}function la(e,r,t){return function(n){n&&(e[r][t]=n)}}function ca(e,r){return function(t){var n=t.prototype;e.forEach(function(i){r(n,i)})}}function ua(e,r){return void 0===r&&(r={}),function(t,n){e.forEach(function(i){var o=r[i]||i;o in t||(t[o]=function(){for(var a,l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];var u=(a=this[n])[i].apply(a,l);return u===this[n]?this:u})})}}var lu=function(){function e(){this.keys=[],this.values=[]}var r=e.prototype;return r.get=function(t){return this.values[this.keys.indexOf(t)]},r.set=function(t,n){var i=this.keys,o=this.values,a=i.indexOf(t),l=-1===a?i.length:a;i[l]=t,o[l]=n},e}(),cu=function(){function e(){this.object={}}var r=e.prototype;return r.get=function(t){return this.object[t]},r.set=function(t,n){this.object[t]=n},e}(),uu="function"==typeof Map,pu=function(){function e(){}var r=e.prototype;return r.connect=function(t,n){this.prev=t,this.next=n,t&&(t.next=this),n&&(n.prev=this)},r.disconnect=function(){var t=this.prev,n=this.next;t&&(t.next=n),n&&(n.prev=t)},r.getIndex=function(){for(var t=this,n=-1;t;)t=t.prev,++n;return n},e}(),du=function(){function e(t,n,i,o,a,l,c,u){this.prevList=t,this.list=n,this.added=i,this.removed=o,this.changed=a,this.maintained=l,this.changedBeforeAdded=c,this.fixed=u}var r=e.prototype;return Object.defineProperty(r,"ordered",{get:function(){return this.cacheOrdered||this.caculateOrdered(),this.cacheOrdered},enumerable:!0,configurable:!0}),Object.defineProperty(r,"pureChanged",{get:function(){return this.cachePureChanged||this.caculateOrdered(),this.cachePureChanged},enumerable:!0,configurable:!0}),r.caculateOrdered=function(){var t=function(e,r){var t=[],n=[];return e.forEach(function(i){var o=i[0],a=i[1],l=new pu;t[o]=l,n[a]=l}),t.forEach(function(i,o){i.connect(t[o-1])}),e.filter(function(i,o){return!r[o]}).map(function(i,o){var a=i[0],l=i[1];if(a===l)return[0,0];var c=t[a],u=n[l-1],d=c.getIndex();return c.disconnect(),u?c.connect(u,u.next):c.connect(void 0,t[0]),[d,c.getIndex()]})}(this.changedBeforeAdded,this.fixed),n=this.changed,i=[];this.cacheOrdered=t.filter(function(o,a){var u=n[a];if(o[0]!==o[1])return i.push([u[0],u[1]]),!0}),this.cachePureChanged=i},e}();function hr(e,r,t){var n=uu?Map:t?cu:lu,i=t||function(x){return x},o=[],a=[],l=[],c=e.map(i),u=r.map(i),d=new n,f=new n,p=[],h=[],v={},g=[],m=0,C=0;return c.forEach(function(x,_){d.set(x,_)}),u.forEach(function(x,_){f.set(x,_)}),c.forEach(function(x,_){var b=f.get(x);void 0===b?(++C,a.push(_)):v[b]=C}),u.forEach(function(x,_){var b=d.get(x);void 0===b?(o.push(_),++m):(l.push([b,_]),p.push([b-(C=v[_]||0),_-m]),h.push(_===b),b!==_&&g.push([b,_]))}),a.reverse(),new du(e,r,o,a,g,l,p,h)}const vu=function(){function e(t,n){void 0===t&&(t=[]),this.findKeyCallback=n,this.list=[].slice.call(t)}return e.prototype.update=function(t){var n=[].slice.call(t),i=hr(this.list,n,this.findKeyCallback);return this.list=n,i},e}();var Ve="undefined",va=typeof window!==Ve,_u=(typeof document!==Ve&&document,[{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"},{open:'\\"',close:'\\"'},{open:"\\'",close:"\\'"}]),Ct=1e-7,vr={cm:function(e){return 96*e/2.54},mm:function(e){return 96*e/254},in:function(e){return 96*e},pt:function(e){return 96*e/72},pc:function(e){return 96*e/6},"%":function(e,r){return e*r/100},vw:function(e,r){return void 0===r&&(r=window.innerWidth),e/100*r},vh:function(e,r){return void 0===r&&(r=window.innerHeight),e/100*r},vmax:function(e,r){return void 0===r&&(r=Math.max(window.innerWidth,window.innerHeight)),e/100*r},vmin:function(e,r){return void 0===r&&(r=Math.min(window.innerWidth,window.innerHeight)),e/100*r}};function fe(e,r,t,n){return(e*n+r*t)/(t+n)}function gr(e){return typeof e===Ve}function Zt(e){return e&&"object"==typeof e}function $t(e){return Array.isArray(e)}function Bt(e){return"string"==typeof e}function nn(e){return"number"==typeof e}function ma(e){return"function"==typeof e}function Ca(e,r,t,n,i){return on(e,r,t)?t:function(e,r,t,n,i){for(var a,o=function(u){var d=r[u].trim();if(d===e.close&&!on(e,r,u))return{value:u};var f=u,p=de(i,function(h){return h.open===d});if(p&&(f=Ca(p,r,u,n,i)),-1===f)return a=u,"break";a=u=f},l=t;l<n;++l){var c=o(l);if(l=a,"object"==typeof c)return c.value;if("break"===c)break}return-1}(e,r,t+1,n,i)}function on(e,r,t){if(!e.ignore)return null;var n=r.slice(Math.max(t-3,0),t+3).join("");return new RegExp(e.ignore).exec(n)}function xa(e,r){var t=Bt(r)?{separator:r}:r,n=t.separator,i=void 0===n?",":n,o=t.isSeparateFirst,a=t.isSeparateOnlyOpenClose,l=t.isSeparateOpenClose,c=void 0===l?a:l,u=t.openCloseCharacters,d=void 0===u?_u:u,f=d.map(function(S){var A=S.open,M=S.close;return A===M?A:A+"|"+M}).join("|"),h=new RegExp("(\\s*"+i+"\\s*|"+f+"|\\s+)","g"),v=e.split(h).filter(Boolean),g=v.length,m=[],C=[];function x(){return!!C.length&&(m.push(C.join("")),C=[],!0)}for(var b,_=function(S){var A=v[S].trim(),M=S,E=de(d,function(T){return T.open===A}),k=de(d,function(T){return T.close===A});if(E){if(-1!==(M=Ca(E,v,S,g,d))&&c)return x()&&o||(m.push(v.slice(S,M+1).join("")),S=M,o)?(b=S,"break"):(b=S,"continue")}else{if(k&&!on(k,v,S))throw new Error("invalid format: "+k.close);if(function(e,r){return(""===r||" "==r)&&(""===e||" "==e)||e===r}(A,i)&&!a)return x(),o?(b=S,"break"):(b=S,"continue")}-1===M&&(M=g-1),C.push(v.slice(S,M+1).join("")),b=S=M},y=0;y<g;++y){var w=_(y);if(y=b,"break"===w)break}return C.length&&m.push(C.join("")),m}function te(e){return xa(e,"")}function ee(e){return xa(e,",")}function an(e){var r=/([^(]*)\(([\s\S]*)\)([\s\S]*)/g.exec(e);return!r||r.length<4?{}:{prefix:r[1],value:r[2],suffix:r[3]}}function He(e){var r=/^([^\d|e|\-|\+]*)((?:\d|\.|-|e-|e\+)+)(\S*)$/g.exec(e);return r?{prefix:r[1],unit:r[3],value:parseFloat(r[2])}:{prefix:"",unit:"",value:NaN}}function sn(e,r){return void 0===r&&(r="-"),e.replace(/([a-z])([A-Z])/g,function(t,n,i){return""+n+r+i.toLowerCase()})}function mr(){return Date.now?Date.now():(new Date).getTime()}function jt(e,r,t){void 0===t&&(t=-1);for(var n=e.length,i=0;i<n;++i)if(r(e[i],i,e))return i;return t}function de(e,r,t){var n=jt(e,r);return n>-1?e[n]:t}var _a=function(){var e=mr(),r=va&&(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame);return r?r.bind(window):function(t){var n=mr();return window.setTimeout(function(){t(n-e)},1e3/60)}}(),Mu=function(){var e=va&&(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame);return e?e.bind(window):function(r){clearTimeout(r)}}();function ye(e){if(Object.keys)return Object.keys(e);var r=[];for(var t in r)r.push(t);return r}function pt(e,r){var t=He(e),n=t.value,i=t.unit;if(Zt(r)){var o=r[i];if(o){if(ma(o))return o(n);if(vr[i])return vr[i](n,o)}}else if("%"===i)return n*r/100;return vr[i]?vr[i](n):n}function ln(e,r,t){return Math.max(r,Math.min(e,t))}function ba(e,r,t,n){return void 0===n&&(n=e[0]/e[1]),[[j(r[0],Ct),j(r[0]/n,Ct)],[j(r[1]*n,Ct),j(r[1],Ct)]].filter(function(i){return i.every(function(o,a){var l=r[a],c=j(l,Ct);return t?o<=l||o<=c:o>=l||o>=c})})[0]||e}function cn(e){for(var r=e.length,t=0,n=r-1;n>=0;--n)t+=e[n];return r?t/r:0}function vt(e,r){var i=Math.atan2(r[1]-e[1],r[0]-e[0]);return i>=0?i:i+2*Math.PI}function un(e){var r=function(e){return[0,1].map(function(r){return cn(e.map(function(t){return t[r]}))})}(e),t=vt(r,e[0]),n=vt(r,e[1]);return t<n&&n-t<Math.PI||t>n&&n-t<-Math.PI?1:-1}function Ft(e,r){return Math.sqrt(Math.pow((r?r[0]:0)-e[0],2)+Math.pow((r?r[1]:0)-e[1],2))}function j(e,r){if(!r)return e;var t=1/r;return Math.round(e/r)/t}function Cr(e,r){return e.forEach(function(t,n){e[n]=j(e[n],r)}),e}function bt(e,r){return e.classList?e.classList.contains(r):!!e.className.match(new RegExp("(\\s|^)"+r+"(\\s|$)"))}function qt(e,r,t,n){e.addEventListener(r,t,n)}function Rt(e,r,t,n){e.removeEventListener(r,t,n)}var pn=function(e,r){return(pn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])})(e,r)};function he(e,r){function t(){this.constructor=e}pn(e,r),e.prototype=null===r?Object.create(r):(t.prototype=r.prototype,new t)}var re=function(){return(re=Object.assign||function(r){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(r[o]=t[o]);return r}).apply(this,arguments)};function wa(e,r){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)r.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(t[n[i]]=e[n[i]])}return t}function fn(e,r){if(e===r)return!1;for(var t in e)if(!(t in r))return!0;for(var t in r)if(e[t]!==r[t])return!0;return!1}function dn(e,r){var t=Object.keys(e),n=Object.keys(r),i=hr(t,n,function(c){return c}),o={},a={},l={};return i.added.forEach(function(c){var u=n[c];o[u]=r[u]}),i.removed.forEach(function(c){var u=t[c];a[u]=e[u]}),i.maintained.forEach(function(c){var d=t[c[0]];e[d]!==r[d]&&(l[d]=[e[d],r[d]])}),{added:o,removed:a,changed:l}}function ya(e){e.forEach(function(r){r()})}function Ma(e){var r=0;return e.map(function(t){return null==t?"$compat"+ ++r:""+t})}function Ea(e,r,t,n){return Bt(e)||nn(e)?new Nu("text_"+e,r,t,n,null,{}):new("string"==typeof e.type?Zu:e.type.prototype.render?qu:Fu)(e.type,r,t,n,e.ref,e.props)}function Aa(e){var r=[];return e.forEach(function(t){r=r.concat($t(t)?Aa(t):t)}),r}function Ta(e){var r=e.className,t=wa(e,["className"]);return null!=r&&(t.class=r),delete t.style,delete t.children,t}function hn(e,r){if(!r)return e;for(var t in r)gr(e[t])&&(e[t]=r[t]);return e}function zt(e,r){for(var t=[],n=2;n<arguments.length;n++)t[n-2]=arguments[n];var i=r||{},o=i.key,a=i.ref,l=wa(i,["key","ref"]);return{type:e,key:o,ref:a,props:re(re({},l),{children:Aa(t).filter(function(c){return null!=c&&!1!==c})})}}var Le=function(){function e(t,n,i,o,a,l){void 0===l&&(l={}),this.type=t,this.key=n,this.index=i,this.container=o,this.ref=a,this.props=l,this._providers=[]}var r=e.prototype;return r._should=function(t,n){return!0},r._update=function(t,n,i,o){if(this.base&&!Bt(n)&&!o&&!this._should(n.props,i))return!1;this.original=n,this._setState(i);var a=this.props;return Bt(n)||(this.props=n.props,this.ref=n.ref),this._render(t,this.base?a:{},i),!0},r._mounted=function(){var t=this.ref;t&&t(this.base)},r._setState=function(t){},r._updated=function(){var t=this.ref;t&&t(this.base)},r._destroy=function(){var t=this.ref;t&&t(null)},e}();function Da(e){var r={},t={};for(var n in e)0===n.indexOf("on")?t[n.replace("on","").toLowerCase()]=e[n]:r[n]=e[n];return{attributes:r,events:t}}var Nu=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}he(r,e);var t=r.prototype;return t._render=function(n){var i=this,o=!this.base;return o&&(this.base=document.createTextNode(this.type.replace("text_",""))),n.push(function(){o?i._mounted():i._updated()}),!0},t._unmount=function(){this.base.parentNode.removeChild(this.base)},r}(Le),Zu=function(e){function r(){var n=null!==e&&e.apply(this,arguments)||this;return n.events={},n._isSVG=!1,n}he(r,e);var t=r.prototype;return t.addEventListener=function(n,i){var o=this.events;o[n]=function(a){a.nativeEvent=a,i(a)},this.base.addEventListener(n,o[n])},t.removeEventListener=function(n){var i=this.events;this.base.removeEventListener(n,i[n]),delete i[n]},t._should=function(n){return fn(this.props,n)},t._render=function(n,i){var o=this,a=!this.base;if(a){var l=this._hasSVG();this._isSVG=l;var c=this.props.portalContainer;if(!c){var u=this.type;c=l?document.createElementNS("http://www.w3.org/2000/svg",u):document.createElement(u)}this.base=c}Xe(this,this._providers,this.props.children,n,null);var d=this.base,f=Da(i),p=f.attributes,h=f.events,v=Da(this.props),g=v.attributes,m=v.events;return function(e,r,t){var n=dn(e,r),i=n.added,o=n.removed,a=n.changed;for(var l in i)t.setAttribute(l,i[l]);for(var l in a)t.setAttribute(l,a[l][1]);for(var l in o)t.removeAttribute(l)}(Ta(p),Ta(g),d),function(e,r,t){var n=dn(e,r),i=n.added,o=n.removed,a=n.changed;for(var l in o)t.removeEventListener(l);for(var l in i)t.addEventListener(l,i[l]);for(var l in a)t.removeEventListener(l),t.addEventListener(l,a[l][1]);for(var l in o)t.removeEventListener(l)}(h,m,this),function(e,r,t){var n=t.style,i=dn(e,r),o=i.added,a=i.removed,l=i.changed;for(var c in o){var u=sn(c,"-");n.setProperty?n.setProperty(u,o[c]):n[u]=o[c]}for(var c in l)u=sn(c,"-"),n.setProperty?n.setProperty(u,l[c][1]):n[u]=l[c][1];for(var c in a)u=sn(c,"-"),n.removeProperty?n.removeProperty(u):n[u]=""}(i.style||{},this.props.style||{},d),n.push(function(){a?o._mounted():o._updated()}),!0},t._unmount=function(){var n=this.events,i=this.base;for(var o in n)i.removeEventListener(o,n[o]);this._providers.forEach(function(a){a._unmount()}),this.events={},this.props.portalContainer||i.parentNode.removeChild(i)},t._hasSVG=function(){if(this._isSVG||"svg"===this.type)return!0;var n=vn(this.container);return n&&"ownerSVGElement"in n},r}(Le);function vn(e){if(!e)return null;var r=e.base;return r instanceof Node?r:vn(e.container)}function We(e){if(!e)return null;if(e instanceof Node)return e;var r=e.$_provider._providers;return r.length?We(r[0].base):null}var Fu=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}he(r,e);var t=r.prototype;return t._render=function(n){var i=this.type(this.props);return Xe(this,this._providers,i?[i]:[],n),!0},t._unmount=function(){this._providers.forEach(function(n){n._unmount()})},r}(Le),Oa=function(e){function r(n){var i=e.call(this,"container","container",0,null)||this;return i.base=n,i}he(r,e);var t=r.prototype;return t._render=function(){return!0},t._unmount=function(){},r}(Le),qu=function(e){function r(n,i,o,a,l,c){return void 0===c&&(c={}),e.call(this,n,i,o,a,l,hn(c,n.defaultProps))||this}he(r,e);var t=r.prototype;return t._should=function(n,i){return this.base.shouldComponentUpdate(hn(n,this.type.defaultProps),i||this.base.state)},t._render=function(n,i){var o=this;this.props=hn(this.props,this.type.defaultProps);var a=!this.base;a?(this.base=new this.type(this.props),this.base.$_provider=this):this.base.props=this.props;var l=this.base,c=l.state,u=l.render();u&&u.props&&!u.props.children.length&&(u.props.children=this.props.children),Xe(this,this._providers,u?[u]:[],n),n.push(function(){a?(o._mounted(),l.componentDidMount()):(o._updated(),l.componentDidUpdate(i,c))})},t._setState=function(n){var i=this.base;!i||!n||(i.state=n)},t._unmount=function(){this._providers.forEach(function(n){n._unmount()}),clearTimeout(this.base.$_timer),this.base.componentWillUnmount()},r}(Le),gn=function(){function e(t){void 0===t&&(t={}),this.props=t,this.state={},this.$_timer=0,this.$_state={}}var r=e.prototype;return r.shouldComponentUpdate=function(t,n){return!0},r.render=function(){return null},r.setState=function(t,n,i){var o=this;this.$_timer||(this.$_state={}),clearTimeout(this.$_timer),this.$_timer=0,this.$_state=re(re({},this.$_state),t),i?this.$_setState(n,i):this.$_timer=setTimeout(function(){o.$_timer=0,o.$_setState(n,i)})},r.forceUpdate=function(t){this.setState({},t,!0)},r.componentDidMount=function(){},r.componentDidUpdate=function(t,n){},r.componentWillUnmount=function(){},r.$_setState=function(t,n){var i=[],o=this.$_provider;Xe(o.container,[o],[o.original],i,re(re({},this.state),this.$_state),n)&&(t&&i.push(t),ya(i))},e}(),mn=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return he(r,e),r.prototype.shouldComponentUpdate=function(n,i){return fn(this.props,n)||fn(this.state,i)},r}(gn),Vu=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}he(r,e);var t=r.prototype;return t.componentDidMount=function(){var n=this.props,i=n.element,o=n.container;this._portalProvider=new Oa(o),xr(i,o,this._portalProvider)},t.componentDidUpdate=function(){var n=this.props;xr(n.element,n.container,this._portalProvider)},t.componentWillUnmount=function(){xr(null,this.props.container,this._portalProvider),this._portalProvider=null},r}(mn);function Xe(e,r,t,n,i,o){var a=function(e,r,t){var n=t.map(function(c){return Bt(c)?null:c.key}),a=hr(Ma(r.map(function(c){return c.key})),Ma(n),function(c){return c});a.removed.forEach(function(c){r.splice(c,1)[0]._unmount()}),a.ordered.forEach(function(c){var d=c[1],f=r.splice(c[0],1)[0];r.splice(d,0,f);var p=We(f.base),h=We(r[d+1]&&r[d+1].base);p&&p.parentNode.insertBefore(p,h)}),a.added.forEach(function(c){r.splice(c,0,Ea(t[c],n[c],c,e))});var l=a.maintained.filter(function(c){var d=c[1],f=t[d],p=r[d];return(Bt(f)?"text_"+f:f.type)!==p.type?(p._unmount(),r.splice(d,1,Ea(f,n[d],d,e)),!0):(p.index=d,!1)});return function(){for(var e=0,r=0,t=arguments.length;r<t;r++)e+=arguments[r].length;var n=Array(e),i=0;for(r=0;r<t;r++)for(var o=arguments[r],a=0,l=o.length;a<l;a++,i++)n[i]=o[a];return n}(a.added,l.map(function(c){return c[1]}))}(e,r,t),l=r.filter(function(u,d){return u._update(n,t[d],i,o)}),c=vn(e);return c&&a.reverse().forEach(function(u){var d=r[u],f=We(d.base);if(f&&c!==f&&!f.parentNode){var p=function(e,r){for(var t=e._providers,n=t.length,i=r.index+1;i<n;++i){var o=We(t[i].base);if(o)return o}return null}(e,d);c.insertBefore(f,p)}}),l.length>0}function xr(e,r,t){void 0===t&&(t=r.__REACT_COMPAT__);var n=!!t;return t||(t=new Oa(r)),function(e,r,t){var n=[];Xe(e,e._providers,r,n,void 0),ya(n)}(t,e?[e]:[]),n||(r.__REACT_COMPAT__=t),t}function ka(e,r,t){var n=r.__REACT_COMPAT__;e&&!n&&(r.innerHTML=""),xr(e,r,n),t&&t()}function Cn(e,r){for(var t=e.length,n=0;n<t;++n)if(r(e[n],n))return!0;return!1}function Pa(e,r){for(var t=e.length,n=0;n<t;++n)if(r(e[n],n))return e[n];return null}function Ra(e){var r=e;if(void 0===r){if("undefined"==typeof navigator||!navigator)return"";r=navigator.userAgent||""}return r.toLowerCase()}function xn(e,r){try{return new RegExp(e,"g").exec(r)}catch(t){return null}}function _n(e){return e.replace(/_/g,".")}function Ue(e,r){var t=null,n="-1";return Cn(e,function(i){var o=xn("("+i.test+")((?:\\/|\\s|:)([0-9|\\.|_]+))?",r);return!(!o||i.brand||(t=i,n=o[3]||"-1",i.versionAlias?n=i.versionAlias:i.versionTest&&(n=function(e,r){var t=xn("("+e+")((?:\\/|\\s|:)([0-9|\\.|_]+))",r);return t?t[3]:""}(i.versionTest.toLowerCase(),r)||n),n=_n(n),0))}),{preset:t,version:n}}function Je(e,r){var t={brand:"",version:"-1"};return Cn(e,function(n){var i=Ba(r,n);return!!i&&(t.brand=n.id,t.version=n.versionAlias||i.version,"-1"!==t.version)}),t}function Ba(e,r){return Pa(e,function(t){return xn(""+r.test,t.brand.toLowerCase())})}var bn=[{test:"phantomjs",id:"phantomjs"},{test:"whale",id:"whale"},{test:"edgios|edge|edg",id:"edge"},{test:"msie|trident|windows phone",id:"ie",versionTest:"iemobile|msie|rv"},{test:"miuibrowser",id:"miui browser"},{test:"samsungbrowser",id:"samsung internet"},{test:"samsung",id:"samsung internet",versionTest:"version"},{test:"chrome|crios",id:"chrome"},{test:"firefox|fxios",id:"firefox"},{test:"android",id:"android browser",versionTest:"version"},{test:"safari|iphone|ipad|ipod",id:"safari",versionTest:"version"}],za=[{test:"(?=.*applewebkit/(53[0-7]|5[0-2]|[0-4]))(?=.*\\schrome)",id:"chrome",versionTest:"chrome"},{test:"chromium",id:"chrome"},{test:"whale",id:"chrome",versionAlias:"-1",brand:!0}],Sn=[{test:"applewebkit",id:"webkit",versionTest:"applewebkit|safari"}],Ga=[{test:"(?=(iphone|ipad))(?!(.*version))",id:"webview"},{test:"(?=(android|iphone|ipad))(?=.*(naver|daum|; wv))",id:"webview"},{test:"webview",id:"webview"}],Na=[{test:"windows phone",id:"windows phone"},{test:"windows 2000",id:"window",versionAlias:"5.0"},{test:"windows nt",id:"window"},{test:"win32|windows",id:"window"},{test:"iphone|ipad|ipod",id:"ios",versionTest:"iphone os|cpu os"},{test:"macos|macintel|mac os x",id:"mac"},{test:"android|linux armv81",id:"android"},{test:"tizen",id:"tizen"},{test:"webos|web0s",id:"webos"}];function Za(e){return!!Ue(Ga,e).preset}const ju=function(e){return void 0===e&&function(){if("undefined"==typeof navigator||!navigator||!navigator.userAgentData)return!1;var e=navigator.userAgentData,r=e.brands||e.uaList;return!(!r||!r.length)}()?function(e){var r=navigator.userAgentData,t=(r.uaList||r.brands).slice(),n=e&&e.fullVersionList,i=r.mobile||!1,o=t[0],a=(e&&e.platform||r.platform||navigator.platform).toLowerCase(),l={name:o.brand,version:o.version,majorVersion:-1,webkit:!1,webkitVersion:"-1",chromium:!1,chromiumVersion:"-1",webview:!!Je(Ga,t).brand||Za(Ra())},c={name:"unknown",version:"-1",majorVersion:-1};l.webkit=!l.chromium&&Cn(Sn,function(v){return Ba(t,v)});var u=Je(za,t);if(l.chromium=!!u.brand,l.chromiumVersion=u.version,!l.chromium){var d=Je(Sn,t);l.webkit=!!d.brand,l.webkitVersion=d.version}var f=Pa(Na,function(v){return new RegExp(""+v.test,"g").exec(a)});if(c.name=f?f.id:"",e&&(c.version=e.platformVersion),n&&n.length){var p=Je(bn,n);l.name=p.brand||l.name,l.version=p.version||l.version}else{var h=Je(bn,t);l.name=h.brand||l.name,l.version=h.brand&&e?e.uaFullVersion:h.version}return l.webkit&&(c.name=i?"ios":"mac"),"ios"===c.name&&l.webview&&(l.version="-1"),c.version=_n(c.version),l.version=_n(l.version),c.majorVersion=parseInt(c.version,10),l.majorVersion=parseInt(l.version,10),{browser:l,os:c,isMobile:i,isHints:!0}}():function(e){var r=Ra(e),t=!!/mobi/g.exec(r),n={name:"unknown",version:"-1",majorVersion:-1,webview:Za(r),chromium:!1,chromiumVersion:"-1",webkit:!1,webkitVersion:"-1"},i={name:"unknown",version:"-1",majorVersion:-1},o=Ue(bn,r),a=o.preset,l=o.version,c=Ue(Na,r),u=c.preset,d=c.version,f=Ue(za,r);if(n.chromium=!!f.preset,n.chromiumVersion=f.version,!n.chromium){var p=Ue(Sn,r);n.webkit=!!p.preset,n.webkitVersion=p.version}return u&&(i.name=u.id,i.version=d,i.majorVersion=parseInt(d,10)),a&&(n.name=a.id,n.version=l,n.webview&&"ios"===i.name&&"safari"!==n.name&&(n.webview=!1)),n.majorVersion=parseInt(n.version,10),{browser:n,os:i,isMobile:t,isHints:!1}}(e)};function Ku(e,r,t,n,i,o){for(var a=0;a<i;++a){var l=t+a*i,c=n+a*i;e[l]+=e[c]*o,r[l]+=r[c]*o}}function Qu(e,r,t,n,i){for(var o=0;o<i;++o){var a=t+o*i,l=n+o*i,c=e[a],u=r[a];e[a]=e[l],e[l]=c,r[a]=r[l],r[l]=u}}function $u(e,r,t,n,i){for(var o=0;o<n;++o){var a=t+o*n;e[a]/=i,r[a]/=i}}function qa(e,r,t){void 0===t&&(t=Math.sqrt(e.length));for(var n=e.slice(),i=0;i<t;++i)n[i*t+r-1]=0,n[(r-1)*t+i]=0;return n[(r-1)*(t+1)]=1,n}function Wt(e,r){void 0===r&&(r=Math.sqrt(e.length));for(var t=e.slice(),n=ft(r),i=0;i<r;++i){var o=r*i+i;if(!j(t[o],Ct))for(var a=i+1;a<r;++a)if(t[r*i+a]){Qu(t,n,i,a,r);break}if(!j(t[o],Ct))return[];for($u(t,n,i,r,t[o]),a=0;a<r;++a){var l=a,u=t[a+i*r];!j(u,Ct)||i===a||Ku(t,n,l,i,r,-u)}}return n}function Va(e,r){void 0===r&&(r=Math.sqrt(e.length));for(var t=[],n=e[r*r-1],i=0;i<r-1;++i)t[i]=e[r*(r-1)+i]/n;return t[r-1]=0,t}function ve(e,r){for(var t=e.slice(),n=e.length;n<r-1;++n)t[n]=0;return t[r-1]=1,t}function Xt(e,r,t){if(void 0===r&&(r=Math.sqrt(e.length)),r===t)return e;for(var n=ft(t),i=Math.min(r,t),o=0;o<i-1;++o){for(var a=0;a<i-1;++a)n[o*t+a]=e[o*r+a];n[(o+1)*t-1]=e[(o+1)*r-1],n[(t-1)*t+o]=e[(r-1)*r+o]}return n[t*t-1]=e[r*r-1],n}function yn(e){for(var r=[],t=1;t<arguments.length;t++)r[t-1]=arguments[t];var n=ft(e);return r.forEach(function(i){n=st(n,i,e)}),n}function st(e,r,t){void 0===t&&(t=Math.sqrt(e.length));var n=[],i=e.length/t,o=r.length/i;if(!i)return r;if(!o)return e;for(var a=0;a<t;++a)for(var l=0;l<o;++l){n[l*t+a]=0;for(var c=0;c<i;++c)n[l*t+a]+=e[c*t+a]*r[l*i+c]}return n}function Q(e,r){for(var t=Math.min(e.length,r.length),n=e.slice(),i=0;i<t;++i)n[i]=n[i]+r[i];return n}function X(e,r){for(var t=Math.min(e.length,r.length),n=e.slice(),i=0;i<t;++i)n[i]=n[i]-r[i];return n}function rp(e,r){return void 0===r&&(r=6===e.length),r?[e[0],e[1],0,e[2],e[3],0,e[4],e[5],1]:e}function Ya(e,r){return void 0===r&&(r=9===e.length),r?[e[0],e[1],e[3],e[4],e[6],e[7]]:e}function Mt(e,r,t){void 0===t&&(t=r.length);var n=st(e,r,t),i=n[t-1];return n.map(function(o){return o/i})}function np(e,r){return st(e,[1,0,0,0,0,Math.cos(r),Math.sin(r),0,0,-Math.sin(r),Math.cos(r),0,0,0,0,1],4)}function ip(e,r){return st(e,[Math.cos(r),0,-Math.sin(r),0,0,1,0,0,Math.sin(r),0,Math.cos(r),0,0,0,0,1],4)}function op(e,r){return st(e,Me(r,4))}function _r(e,r){var t=r[0],i=r[1],a=r[2];return st(e,[void 0===t?1:t,0,0,0,0,void 0===i?1:i,0,0,0,0,void 0===a?1:a,0,0,0,0,1],4)}function ne(e,r){return Mt(Me(r,3),ve(e,3))}function Mn(e,r){var t=r[0],i=r[1],a=r[2];return st(e,[1,0,0,0,0,1,0,0,0,0,1,0,void 0===t?0:t,void 0===i?0:i,void 0===a?0:a,1],4)}function Ha(e,r){return st(e,r,4)}function Me(e,r){var t=Math.cos(e),n=Math.sin(e),i=ft(r);return i[0]=t,i[1]=n,i[r]=-n,i[r+1]=t,i}function ft(e){for(var r=e*e,t=[],n=0;n<r;++n)t[n]=n%(e+1)?0:1;return t}function La(e,r){for(var t=ft(r),n=Math.min(e.length,r-1),i=0;i<n;++i)t[(r+1)*i]=e[i];return t}function je(e,r){for(var t=ft(r),n=Math.min(e.length,r-1),i=0;i<n;++i)t[r*(r-1)+i]=e[i];return t}function En(e,r,t,n,i,o,a,l){var c=e[0],u=e[1],d=r[0],f=r[1],p=t[0],h=t[1],v=n[0],g=n[1],m=i[0],C=i[1],x=o[0],_=o[1],b=a[0],y=a[1],w=l[0],S=l[1],M=Wt([c,0,d,0,p,0,v,0,u,0,f,0,h,0,g,0,1,0,1,0,1,0,1,0,0,c,0,d,0,p,0,v,0,u,0,f,0,h,0,g,0,1,0,1,0,1,0,1,-m*c,-C*c,-x*d,-_*d,-b*p,-y*p,-w*v,-S*v,-m*u,-C*u,-x*f,-_*f,-b*h,-y*h,-w*g,-S*g],8);if(!M.length)return[];var E=st(M,[m,C,x,_,b,y,w,S],8);return E[8]=1,Xt(function(e,r){void 0===r&&(r=Math.sqrt(e.length));for(var t=[],n=0;n<r;++n)for(var i=0;i<r;++i)t[i*r+n]=e[r*n+i];return t}(E),3,4)}function Ke(e){return Ee(ge(e))}function Ee(e){var r=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return e.forEach(function(t){var n=t.matrixFunction;!n||(r=n(r,t.functionValue))}),r}function ge(e){return($t(e)?e:te(e)).map(function(t){var n=an(t),i=n.prefix,o=n.value,a=null,l=i,c="";if("translate"===i||"translateX"===i||"translate3d"===i){var u=ee(o).map(function(E){return parseFloat(E)}),f=u[1],h=u[2];a=Mn,c=[u[0],void 0===f?0:f,void 0===h?0:h]}else if("translateY"===i)a=Mn,c=[0,parseFloat(o),0];else if("translateZ"===i)a=Mn,c=[0,0,parseFloat(o)];else if("scale"===i||"scale3d"===i){var g=ee(o).map(function(E){return parseFloat(E)}),C=g[1],_=g[2];a=_r,c=[m=g[0],void 0===C?m:C,void 0===_?1:_]}else if("scaleX"===i){var m;a=_r,c=[m=parseFloat(o),1,1]}else if("scaleY"===i)a=_r,c=[1,parseFloat(o),1];else if("scaleZ"===i)a=_r,c=[1,1,parseFloat(o)];else if("rotate"===i||"rotateZ"===i||"rotateX"===i||"rotateY"===i){var y=He(o),S=y.value;"rotate"===i||"rotateZ"===i?(l="rotateZ",a=op):"rotateX"===i?a=np:"rotateY"===i&&(a=ip),c="rad"===y.unit?S:S*Math.PI/180}else if("matrix3d"===i)a=Ha,c=ee(o).map(function(E){return parseFloat(E)});else if("matrix"===i){var M=ee(o).map(function(E){return parseFloat(E)});a=Ha,c=[M[0],M[1],0,0,M[2],M[3],0,0,0,0,1,0,M[4],M[5],0,1]}else l="";return{name:i,functionName:l,value:o,matrixFunction:a,functionValue:c}})}var e,An=function(e,r){return(An=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])})(e,r)},Xa="function"==typeof Map?void 0:(e=0,function(r){return r.__DIFF_KEY__||(r.__DIFF_KEY__=++e)});const up=function(e){function r(t){return void 0===t&&(t=[]),e.call(this,t,Xa)||this}return function(e,r){function t(){this.constructor=e}An(e,r),e.prototype=null===r?Object.create(r):(t.prototype=r.prototype,new t)}(r,e),r}(vu);function At(e){return j(e,Ct)}function Ua(e){return e.length<3?0:Math.abs(function(e){for(var t=0,n=e.length-1;n>=0;--n)t+=e[n];return t}(e.map(function(r,t){var n=e[t+1]||e[0];return r[0]*n[1]-n[0]*r[1]})))/2}function Ja(e,r){var t=r.width,n=r.height,i=r.left,o=r.top,a=br(e),l=a.minX,c=a.minY,f=t/(a.maxX-l),p=n/(a.maxY-c);return e.map(function(h){return[i+(h[0]-l)*f,o+(h[1]-c)*p]})}function br(e){var r=e.map(function(n){return n[0]}),t=e.map(function(n){return n[1]});return{minX:Math.min.apply(Math,r),minY:Math.min.apply(Math,t),maxX:Math.max.apply(Math,r),maxY:Math.max.apply(Math,t)}}function Tn(e,r,t){var n=e[0],i=e[1],o=br(r),c=[[o.minX,i],[o.maxX,i]],u=Ce(c[0],c[1]),d=kn(r),f=[];if(d.forEach(function(v){var g=Ce(v[0],v[1]),m=v[0];!function(e,r){return e.every(function(t,n){return 0===At(t-r[n])})}(u,g)?On(Dn(u,g),[c,v]).forEach(function(x){v.some(function(_){return function(e,r){return!At(e[0]-r[0])&&!At(e[1]-r[1])}(_,x)})?f.push({pos:x,line:v,type:"point"}):0!==At(m[1]-i)&&f.push({pos:x,line:v,type:"intersection"})}):f.push({pos:e,line:v,type:"line"})}),!t&&de(f,function(v){return v[0]===n}))return!0;var p=0,h={};return f.forEach(function(v){var g=v.pos,m=v.type;if(!(g[0]>n))if("intersection"===m)++p;else{if("line"===m)return;if("point"===m){var x=de(v.line,function(y){return y[1]!==i}),_=h[g[0]],b=x[1]>i?1:-1;_?_!==b&&++p:h[g[0]]=b}}}),p%2==1}function Ce(e,r){var t=e[0],n=e[1],a=r[0]-t,l=r[1]-n;Math.abs(a)<Ct&&(a=0),Math.abs(l)<Ct&&(l=0);var c=0,u=0,d=0;return a?l?(u=1,d=-(c=-l/a)*t-n):(u=1,d=-n):l&&(c=-1,d=t),[c,u,d]}function Dn(e,r){var t=e[0],n=e[1],i=e[2],o=r[0],a=r[1],l=r[2],c=0===t&&0===o,u=0===n&&0===a,d=[];if(c&&u)return[];if(c){var f=-i/n;return f!==-l/a?[]:[[-1/0,f],[1/0,f]]}if(u){var h=-i/t;return h!==-l/o?[]:[[h,-1/0],[h,1/0]]}if(0===t)d=[[m=-(a*(g=-i/n)+l)/o,g]];else if(0===o)d=[[m=-(n*(g=-l/a)+i)/t,g]];else if(0===n)d=[[m=-i/t,g=-(o*m+l)/a]];else if(0===a)d=[[m=-l/o,g=-(t*m+i)/n]];else{var m,g;d=[[m=(n*l-a*i)/(a*t-n*o),g=-(t*m+i)/n]]}return d.map(function(C){return[C[0],C[1]]})}function On(e,r){var t=r.map(function(f){return[0,1].map(function(p){return[Math.min(f[0][p],f[1][p]),Math.max(f[0][p],f[1][p])]})}),n=[];if(2===e.length){var i=e[0],o=i[0],a=i[1];if(At(o-e[1][0])){if(!At(a-e[1][1])){var u=Math.max.apply(Math,t.map(function(f){return f[0][0]})),d=Math.min.apply(Math,t.map(function(f){return f[0][1]}));if(At(u-d)>0)return[];n=[[u,a],[d,a]]}}else{var l=Math.max.apply(Math,t.map(function(f){return f[1][0]})),c=Math.min.apply(Math,t.map(function(f){return f[1][1]}));if(At(l-c)>0)return[];n=[[o,l],[o,c]]}}return n.length||(n=e.filter(function(f){var p=f[0],h=f[1];return t.every(function(v){return 0<=At(p-v[0][0])&&0<=At(v[0][1]-p)&&0<=At(h-v[1][0])&&0<=At(v[1][1]-h)})})),n.map(function(f){return[At(f[0]),At(f[1])]})}function kn(e){return function(){for(var e=0,r=0,t=arguments.length;r<t;r++)e+=arguments[r].length;var n=Array(e),i=0;for(r=0;r<t;r++)for(var o=arguments[r],a=0,l=o.length;a<l;a++,i++)n[i]=o[a];return n}(e.slice(1),[e[0]]).map(function(r,t){return[e[t],r]})}function xp(e,r){return Ua(function(e,r){return function(e,r){var t=e.slice(),n=r.slice();-1===un(t)&&t.reverse(),-1===un(n)&&n.reverse();var i=kn(t),o=kn(n),a=i.map(function(d){return Ce(d[0],d[1])}),l=o.map(function(d){return Ce(d[0],d[1])}),c=[];a.forEach(function(d,f){var p=i[f],h=[];l.forEach(function(v,g){var C=On(Dn(d,v),[p,o[g]]);h.push.apply(h,C.map(function(x){return{index1:f,index2:g,pos:x,type:"intersection"}}))}),h.sort(function(v,g){return Ft(p[0],v.pos)-Ft(p[0],g.pos)}),c.push.apply(c,h),Tn(p[1],n)&&c.push({index1:f,index2:-1,pos:p[1],type:"inside"})}),o.forEach(function(d,f){if(Tn(d[1],t)){var p=!1,h=jt(c,function(v){return v.index2===f?(p=!0,!1):!!p});-1===h&&(p=!1,h=jt(c,function(v){return-1===v.index1&&v.index2+1===f?(p=!0,!1):!!p})),-1===h?c.push({index1:-1,index2:f,pos:d[1],type:"inside"}):c.splice(h,0,{index1:-1,index2:f,pos:d[1],type:"inside"})}});var u={};return c.filter(function(d){var f=d.pos,p=f[0]+"x"+f[1];return!u[p]&&(u[p]=!0,!0)})}(e,r).map(function(n){return n.pos})}(e,r))}var Rn=function(){return(Rn=Object.assign||function(r){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(r[o]=t[o]);return r}).apply(this,arguments)};const In=function(){function e(){this._events={}}var r=e.prototype;return r.on=function(t,n){if(Zt(t))for(var i in t)this.on(i,t[i]);else this._addEvent(t,n,{});return this},r.off=function(t,n){if(t)if(Zt(t))for(var i in t)this.off(i);else if(n){var o=this._events[t];if(o){var a=jt(o,function(l){return l.listener===n});a>-1&&o.splice(a,1)}}else this._events[t]=[];else this._events={};return this},r.once=function(t,n){var i=this;return n&&this._addEvent(t,n,{once:!0}),new Promise(function(o){i._addEvent(t,o,{once:!0})})},r.emit=function(t,n){var i=this;void 0===n&&(n={});var o=this._events[t];if(!t||!o)return!0;var a=!1;return n.eventType=t,n.stop=function(){a=!0},n.currentTarget=this,function(){for(var e=0,r=0,t=arguments.length;r<t;r++)e+=arguments[r].length;var n=Array(e),i=0;for(r=0;r<t;r++)for(var o=arguments[r],a=0,l=o.length;a<l;a++,i++)n[i]=o[a];return n}(o).forEach(function(l){l.listener(n),l.once&&i.off(t,l.listener)}),!a},r.trigger=function(t,n){return void 0===n&&(n={}),this.emit(t,n)},r._addEvent=function(t,n,i){var o=this._events;o[t]=o[t]||[],o[t].push(Rn({listener:n},i))},e}();"undefined"!=typeof document&&document;var Nn=function(e,r){return(Nn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])})(e,r)},Ae=function(){return(Ae=Object.assign||function(r){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(r[o]=t[o]);return r}).apply(this,arguments)};function Yp(e){var r=e.container;return r===document.body?[r.scrollLeft||document.documentElement.scrollLeft,r.scrollTop||document.documentElement.scrollTop]:[r.scrollLeft,r.scrollTop]}function Zn(e){return e?function(e){return"string"==typeof e}(e)?document.querySelector(e):function(e){return"function"==typeof e}(e)?e():e instanceof Element?e:"current"in e?e.current:"value"in e?e.value:void 0:null}const Lp=function(e){function r(){var n=null!==e&&e.apply(this,arguments)||this;return n._startRect=null,n._startPos=[],n._prevTime=0,n._timer=0,n._prevScrollPos=[0,0],n._isWait=!1,n._flag=!1,n}!function(e,r){function t(){this.constructor=e}Nn(e,r),e.prototype=null===r?Object.create(r):(t.prototype=r.prototype,new t)}(r,e);var t=r.prototype;return t.dragStart=function(n,i){var o=Zn(i.container);if(o){var a=0,l=0,c=0,u=0;if(o===document.body)c=window.innerWidth,u=window.innerHeight;else{var d=o.getBoundingClientRect();a=d.top,l=d.left,c=d.width,u=d.height}this._flag=!0,this._startPos=[n.clientX,n.clientY],this._startRect={top:a,left:l,width:c,height:u},this._prevScrollPos=this._getScrollPosition([0,0],i)}else this._flag=!1},t.drag=function(n,i){if(this._flag){var o=n.clientX,a=n.clientY,l=i.threshold,c=void 0===l?0:l,d=this._startRect,f=this._startPos,p=[0,0];return d.top>a-c?(f[1]>d.top||a<f[1])&&(p[1]=-1):d.top+d.height<a+c&&(f[1]<d.top+d.height||a>f[1])&&(p[1]=1),d.left>o-c?(f[0]>d.left||o<f[0])&&(p[0]=-1):d.left+d.width<o+c&&(f[0]<d.left+d.width||o>f[0])&&(p[0]=1),clearTimeout(this._timer),!(!p[0]&&!p[1])&&this._continueDrag(Ae(Ae({},i),{direction:p,inputEvent:n,isDrag:!0}))}},t.checkScroll=function(n){var i=this;if(this._isWait)return!1;var o=n.prevScrollPos,a=void 0===o?this._prevScrollPos:o,l=n.direction,c=n.throttleTime,u=void 0===c?0:c,d=n.inputEvent,f=n.isDrag,p=this._getScrollPosition(l||[0,0],n),h=p[0]-a[0],v=p[1]-a[1],g=l||[h?Math.abs(h)/h:0,v?Math.abs(v)/v:0];return this._prevScrollPos=p,!(!h&&!v||(this.trigger("move",{offsetX:g[0]?h:0,offsetY:g[1]?v:0,inputEvent:d}),u&&f&&(this._timer=window.setTimeout(function(){i._continueDrag(n)},u)),0))},t.dragEnd=function(){clearTimeout(this._timer)},t._getScrollPosition=function(n,i){var a=i.getScrollPosition;return(void 0===a?Yp:a)({container:Zn(i.container),direction:n})},t._continueDrag=function(n){var i=this,o=n.container,a=n.direction,l=n.throttleTime,c=n.useScroll,u=n.isDrag,d=n.inputEvent;if(!u||!this._isWait){var f=Date.now?Date.now():(new Date).getTime(),p=Math.max(l+this._prevTime-f,0);if(p>0)return this._timer=window.setTimeout(function(){i._continueDrag(n)},p),!1;this._prevTime=f;var h=this._getScrollPosition(a,n);return this._prevScrollPos=h,u&&(this._isWait=!0),this.trigger("scroll",{container:Zn(o),direction:a,inputEvent:d}),this._isWait=!1,c||this.checkScroll(Ae(Ae({},n),{prevScrollPos:h,direction:a,inputEvent:d}))}},r}(In);var Fn=function(e,r){return(Fn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])})(e,r)},xt=function(){return(xt=Object.assign||function(r){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(r[o]=t[o]);return r}).apply(this,arguments)};function qn(e){return function(e,r){var i=Math.atan2(r[1]-e[1],r[0]-e[0]);return i>=0?i:i+2*Math.PI}([e[0].clientX,e[0].clientY],[e[1].clientX,e[1].clientY])/Math.PI*180}function Mr(e){return e?e.touches?function(e){for(var r=Math.min(e.length,2),t=[],n=0;n<r;++n)t.push(ls(e[n]));return t}(e.touches):[ls(e)]:[]}function ss(e,r,t){var n=t.length,i=er(e,n),o=i.clientX,a=i.clientY,l=i.originalClientX,c=i.originalClientY,u=er(r,n),d=u.clientX,f=u.clientY,p=er(t,n);return{clientX:l,clientY:c,deltaX:o-d,deltaY:a-f,distX:o-p.clientX,distY:a-p.clientY}}function Vn(e){return Math.sqrt(Math.pow(e[0].clientX-e[1].clientX,2)+Math.pow(e[0].clientY-e[1].clientY,2))}function ls(e){return{clientX:e.clientX,clientY:e.clientY}}function er(e,r){void 0===r&&(r=e.length);for(var t={clientX:0,clientY:0,originalClientX:0,originalClientY:0},n=0;n<r;++n){var i=e[n];t.originalClientX+="originalClientX"in i?i.originalClientX:i.clientX,t.originalClientY+="originalClientY"in i?i.originalClientY:i.clientY,t.clientX+=i.clientX,t.clientY+=i.clientY}return r?{clientX:t.clientX/r,clientY:t.clientY/r,originalClientX:t.originalClientX/r,originalClientY:t.originalClientY/r}:t}var Yn=function(){function e(t){this.prevClients=[],this.startClients=[],this.movement=0,this.length=0,this.startClients=t,this.prevClients=t,this.length=t.length}var r=e.prototype;return r.getAngle=function(t){return void 0===t&&(t=this.prevClients),qn(t)},r.getRotation=function(t){return void 0===t&&(t=this.prevClients),qn(t)-qn(this.startClients)},r.getPosition=function(t,n){void 0===t&&(t=this.prevClients);var i=ss(t||this.prevClients,this.prevClients,this.startClients),o=i.deltaX,a=i.deltaY;return this.movement+=Math.sqrt(o*o+a*a),this.prevClients=t,i},r.getPositions=function(t){void 0===t&&(t=this.prevClients);var n=this.prevClients;return this.startClients.map(function(i,o){return ss([t[o]],[n[o]],[i])})},r.getMovement=function(t){var n=this.movement;if(!t)return n;var i=er(t,this.length),o=er(this.prevClients,this.length),a=i.clientX-o.clientX,l=i.clientY-o.clientY;return Math.sqrt(a*a+l*l)+n},r.getDistance=function(t){return void 0===t&&(t=this.prevClients),Vn(t)},r.getScale=function(t){return void 0===t&&(t=this.prevClients),Vn(t)/Vn(this.startClients)},r.move=function(t,n){this.startClients.forEach(function(i){i.clientX-=t,i.clientY-=n})},e}(),cs=["textarea","input"];const Qp=function(e){function r(n,i){void 0===i&&(i={});var o=e.call(this)||this;o.options={},o.flag=!1,o.pinchFlag=!1,o.datas={},o.isDrag=!1,o.isPinch=!1,o.isMouse=!1,o.isTouch=!1,o.clientStores=[],o.targets=[],o.prevTime=0,o.doubleFlag=!1,o._dragFlag=!1,o._isMouseEvent=!1,o._isSecondaryButton=!1,o._preventMouseEvent=!1,o.onDragStart=function(p,h){if(void 0===h&&(h=!0),o.flag||!1!==p.cancelable){var v=o.options,g=v.container,m=v.pinchOutside,C=v.preventWheelClick,x=v.preventRightClick,_=v.preventDefault,b=v.checkInput,y=v.preventClickEventOnDragStart,w=v.preventClickEventOnDrag,S=v.preventClickEventByCondition,A=o.isTouch,M=!o.flag;if(o._isSecondaryButton=3===p.which||2===p.button,C&&(2===p.which||1===p.button)||x&&(3===p.which||2===p.button))return o.initDrag(),!1;if(M){var E=document.activeElement,k=p.target,T=k.tagName.toLowerCase(),O=cs.indexOf(T)>-1,R=k.isContentEditable;if(O||R){if(b||E===k||E&&R&&E.isContentEditable&&E.contains(k))return!1}else(_||"touchstart"===p.type)&&E&&(E.isContentEditable||cs.indexOf(E.tagName)>-1)&&E.blur();(y||w||S)&&qt(window,"click",o._onClick,!0),o.clientStores=[new Yn(Mr(p))],o.flag=!0,o.isDrag=!1,o._dragFlag=!0,o.datas={},o.doubleFlag=mr()-o.prevTime<200,o._isMouseEvent=function(e){return e&&(e.type.indexOf("mouse")>-1||"button"in e)}(p),!o._isMouseEvent&&o._preventMouseEvent&&(o._preventMouseEvent=!1),!1===(o._preventMouseEvent||o.emit("dragStart",xt(xt({datas:o.datas,inputEvent:p,isMouseEvent:o._isMouseEvent,isSecondaryButton:o._isSecondaryButton,isTrusted:h,isDouble:o.doubleFlag},o.getCurrentStore().getPosition()),{preventDefault:function(){p.preventDefault()},preventDrag:function(){o._dragFlag=!1}})))&&o.initDrag(),o._isMouseEvent&&o.flag&&_&&p.preventDefault()}if(!o.flag)return!1;var N=0;if(M&&A&&m&&(N=setTimeout(function(){qt(g,"touchstart",o.onDragStart,{passive:!1})})),!M&&A&&m&&Rt(g,"touchstart",o.onDragStart),o.flag&&function(e){return e.touches&&e.touches.length>=2}(p)){if(clearTimeout(N),M&&p.touches.length!==p.changedTouches.length)return;o.pinchFlag||o.onPinchStart(p)}}},o.onDrag=function(p,h){if(o.flag){!o._isMouseEvent&&o.options.preventDefault&&p.preventDefault();var g=Mr(p),m=o.moveClients(g,p,!1);if(o._dragFlag){if((o.pinchFlag||m.deltaX||m.deltaY)&&!1===(o._preventMouseEvent||o.emit("drag",xt(xt({},m),{isScroll:!!h,inputEvent:p}))))return void o.stop();o.pinchFlag&&o.onPinch(p,g)}o.getCurrentStore().getPosition(g,!0)}},o.onDragEnd=function(p){if(o.flag){var h=o.options,v=h.pinchOutside,g=h.container,m=h.preventClickEventOnDrag,C=h.preventClickEventOnDragStart,x=h.preventClickEventByCondition,_=o.isDrag;(m||C||x)&&requestAnimationFrame(function(){o._allowClickEvent()}),!x&&!C&&m&&!_&&o._allowClickEvent(),o.isTouch&&v&&Rt(g,"touchstart",o.onDragStart),o.pinchFlag&&o.onPinchEnd(p);var b=(null==p?void 0:p.touches)?Mr(p):[];0!==b.length&&o.options.keepDragging?o._addStore(new Yn(b)):o.flag=!1;var w=o._getPosition(),S=mr(),A=!_&&o.doubleFlag;o.prevTime=_||A?0:S,o.flag||(o._preventMouseEvent||o.emit("dragEnd",xt({datas:o.datas,isDouble:A,isDrag:_,isClick:!_,isMouseEvent:o._isMouseEvent,isSecondaryButton:o._isSecondaryButton,inputEvent:p},w)),o.clientStores=[],o._isMouseEvent||(o._preventMouseEvent=!0,requestAnimationFrame(function(){requestAnimationFrame(function(){o._preventMouseEvent=!1})})))}},o.onBlur=function(){o.onDragEnd()},o._allowClickEvent=function(){Rt(window,"click",o._onClick,!0)},o._onClick=function(p){o._preventMouseEvent=!1;var h=o.options.preventClickEventByCondition;(null==h?void 0:h(p))||(p.stopPropagation(),p.preventDefault())},o._onContextMenu=function(p){o.options.preventRightClick?o.onDragEnd(p):p.preventDefault()};var a=[].concat(n);o.options=xt({checkInput:!1,container:a.length>1?window:a[0],preventRightClick:!0,preventWheelClick:!0,preventClickEventOnDragStart:!1,preventClickEventOnDrag:!1,preventClickEventByCondition:null,preventDefault:!0,checkWindowBlur:!1,keepDragging:!1,pinchThreshold:0,events:["touch","mouse"]},i);var l=o.options,c=l.container,u=l.events,d=l.checkWindowBlur;if(o.isTouch=u.indexOf("touch")>-1,o.isMouse=u.indexOf("mouse")>-1,o.targets=a,o.isMouse&&(a.forEach(function(p){qt(p,"mousedown",o.onDragStart)}),qt(c,"mousemove",o.onDrag),qt(c,"mouseup",o.onDragEnd),qt(c,"contextmenu",o._onContextMenu)),d&&qt(window,"blur",o.onBlur),o.isTouch){var f={passive:!1};a.forEach(function(p){qt(p,"touchstart",o.onDragStart,f)}),qt(c,"touchmove",o.onDrag,f),qt(c,"touchend",o.onDragEnd,f),qt(c,"touchcancel",o.onDragEnd,f)}return o}!function(e,r){function t(){this.constructor=e}Fn(e,r),e.prototype=null===r?Object.create(r):(t.prototype=r.prototype,new t)}(r,e);var t=r.prototype;return t.stop=function(){this.isDrag=!1,this.flag=!1,this.clientStores=[],this.datas={}},t.getMovement=function(n){return this.getCurrentStore().getMovement(n)+this.clientStores.slice(1).reduce(function(i,o){return i+o.movement},0)},t.isDragging=function(){return this.isDrag},t.isFlag=function(){return this.flag},t.isPinchFlag=function(){return this.pinchFlag},t.isDoubleFlag=function(){return this.doubleFlag},t.isPinching=function(){return this.isPinch},t.scrollBy=function(n,i,o,a){void 0===a&&(a=!0),this.flag&&(this.clientStores[0].move(n,i),a&&this.onDrag(o,!0))},t.move=function(n,i){var o=n[0],a=n[1],l=this.getCurrentStore();return this.moveClients(l.prevClients.map(function(u){var d=u.clientX,f=u.clientY;return{clientX:d+o,clientY:f+a,originalClientX:d,originalClientY:f}}),i,!0)},t.triggerDragStart=function(n){this.onDragStart(n,!1)},t.setEventDatas=function(n){var i=this.datas;for(var o in n)i[o]=n[o];return this},t.getCurrentEvent=function(n){return xt(xt({datas:this.datas},this._getPosition()),{movement:this.getMovement(),isDrag:this.isDrag,isPinch:this.isPinch,isScroll:!1,inputEvent:n})},t.getEventDatas=function(){return this.datas},t.unset=function(){var n=this,i=this.targets,o=this.options.container;this.off(),Rt(window,"blur",this.onBlur),this.isMouse&&(i.forEach(function(a){Rt(a,"mousedown",n.onDragStart)}),Rt(o,"mousemove",this.onDrag),Rt(o,"mouseup",this.onDragEnd),Rt(o,"contextmenu",this._onContextMenu)),this.isTouch&&(i.forEach(function(a){Rt(a,"touchstart",n.onDragStart)}),Rt(o,"touchstart",this.onDragStart),Rt(o,"touchmove",this.onDrag),Rt(o,"touchend",this.onDragEnd),Rt(o,"touchcancel",this.onDragEnd))},t.onPinchStart=function(n){var i=this.options.pinchThreshold;if(!(this.isDrag&&this.getMovement()>i)){var o=new Yn(Mr(n));this.pinchFlag=!0,this._addStore(o),!1===this.emit("pinchStart",xt(xt({datas:this.datas,angle:o.getAngle(),touches:this.getCurrentStore().getPositions()},o.getPosition()),{inputEvent:n}))&&(this.pinchFlag=!1)}},t.onPinch=function(n,i){if(this.flag&&this.pinchFlag&&!(i.length<2)){var o=this.getCurrentStore();this.isPinch=!0,this.emit("pinch",xt(xt({datas:this.datas,movement:this.getMovement(i),angle:o.getAngle(i),rotation:o.getRotation(i),touches:o.getPositions(i),scale:o.getScale(i),distance:o.getDistance(i)},o.getPosition(i)),{inputEvent:n}))}},t.onPinchEnd=function(n){if(this.pinchFlag){var i=this.isPinch;this.isPinch=!1,this.pinchFlag=!1;var o=this.getCurrentStore();this.emit("pinchEnd",xt(xt({datas:this.datas,isPinch:i,touches:o.getPositions()},o.getPosition()),{inputEvent:n}))}},t.initDrag=function(){this.clientStores=[],this.pinchFlag=!1,this.doubleFlag=!1,this.prevTime=0,this.flag=!1,this._allowClickEvent()},t.getCurrentStore=function(){return this.clientStores[0]},t.moveClients=function(n,i,o){var a=this._getPosition(n,o);return(a.deltaX||a.deltaY)&&(this.isDrag=!0),xt(xt({datas:this.datas},a),{movement:this.getMovement(n),isDrag:this.isDrag,isPinch:this.isPinch,isScroll:!1,isMouseEvent:this._isMouseEvent,isSecondaryButton:this._isSecondaryButton,inputEvent:i})},t._addStore=function(n){this.clientStores.splice(0,0,n)},t._getPosition=function(n,i){var a=this.getCurrentStore().getPosition(n,i),l=this.clientStores.slice(1).reduce(function(d,f){var p=f.getPosition();return d.distX+=p.distX,d.distY+=p.distY,d},a),c=l.distX,u=l.distY;return xt(xt({},a),{distX:c,distY:u})},r}(In);const sf=function(e){var n,r="rCS"+function(e){return function(e){for(var r=5381,t=e.length;t;)r=33*r^e.charCodeAt(--t);return r>>>0}(e).toString(36)}(e),t=0;return{className:r,inject:function(i,o){void 0===o&&(o={});var c,a=function(e){if(e&&e.getRootNode){var r=e.getRootNode();if(11===r.nodeType)return r}}(i),l=0===t;return(a||l)&&(c=function(e,r,t,n){var i=document.createElement("style");return i.setAttribute("type","text/css"),i.setAttribute("data-styled-id",e),t.nonce&&i.setAttribute("nonce",t.nonce),i.innerHTML=function(e,r,t){return t.original?r:r.replace(/([^};{\s}][^};{]*|^\s*){/gm,function(n,i){var o=i.trim();return(o?ee(o):[""]).map(function(a){var l=a.trim();return 0===l.indexOf("@")?l:l.indexOf(":global")>-1?l.replace(/\:global/g,""):l.indexOf(":host")>-1?""+l.replace(/\:host/g,"."+e):l?"."+e+" "+l:"."+e}).join(", ")+" {"})}(e,r,t),(n||document.head||document.body).appendChild(i),i}(r,e,o,a)),l&&(n=c),a||++t,{destroy:function(){a?(i.removeChild(c),c=null):(t>0&&--t,0===t&&n&&(n.parentNode.removeChild(n),n=null))}}}}};var Hn=function(e,r){return(Hn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])})(e,r)};function us(e,r){function t(){this.constructor=e}Hn(e,r),e.prototype=null===r?Object.create(r):(t.prototype=r.prototype,new t)}var Ln=function(){return(Ln=Object.assign||function(r){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(r[o]=t[o]);return r}).apply(this,arguments)},cf=function(e){function r(){var n=null!==e&&e.apply(this,arguments)||this;return n.injectResult=null,n.tag="div",n}us(r,e);var t=r.prototype;return t.render=function(){var n=this.props,i=n.className,o=void 0===i?"":i,l=n.portalContainer,c=function(e,r){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)r.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(t[n[i]]=e[n[i]])}return t}(n,["className","cspNonce","portalContainer"]),u=this.injector.className,d=this.tag,f={};return"simple-1.1.0".indexOf("simple")>-1&&l&&(f={portalContainer:l}),zt(d,Ln({ref:Lt(this,"element"),"data-styled-id":u,className:o+" "+u},f,c))},t.componentDidMount=function(){this.injectResult=this.injector.inject(this.element,{nonce:this.props.cspNonce})},t.componentWillUnmount=function(){this.injectResult.destroy(),this.injectResult=null},t.getElement=function(){return this.element},r}(gn);const ps=function(e,r){var t=sf(r);return function(n){function i(){var o=null!==n&&n.apply(this,arguments)||this;return o.injector=t,o.tag=e,o}return us(i,n),i}(cf)};var Wn=function(e,r){return(Wn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])})(e,r)};function Te(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function t(){this.constructor=e}Wn(e,r),e.prototype=null===r?Object.create(r):(t.prototype=r.prototype,new t)}var D=function(){return(D=Object.assign||function(r){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(r[o]=t[o]);return r}).apply(this,arguments)};function L(e,r,t){if(t||2===arguments.length)for(var o,n=0,i=r.length;n<i;n++)(o||!(n in r))&&(o||(o=Array.prototype.slice.call(r,0,n)),o[n]=r[n]);return e.concat(o||Array.prototype.slice.call(r))}function rr(e,r){var t;return D({events:{},props:(t={},t[e]=Boolean,t),name:e},r)}var Xn=ju(),fs=Xn.browser.webkit,ds=fs&&function(){var e="undefined"==typeof window?{userAgent:""}:window.navigator,r=/applewebkit\/([^\s]+)/g.exec(e.userAgent.toLowerCase());return!!r&&parseFloat(r[1])<605}(),vf=parseInt(Xn.browser.webkitVersion,10)>=612||parseInt(Xn.browser.version,10)>=15,Un="moveable-",gf="\n{\n\tposition: absolute;\n\twidth: 1px;\n\theight: 1px;\n\tleft: 0;\n\ttop: 0;\n    z-index: 3000;\n    --moveable-color: #4af;\n    --zoom: 1;\n    --zoompx: 1px;\n    will-change: transform;\n}\n.control-box {\n    z-index: 0;\n}\n.line, .control {\n    position: absolute;\n\tleft: 0;\n    top: 0;\n    will-change: transform;\n}\n.control {\n\twidth: 14px;\n\theight: 14px;\n\tborder-radius: 50%;\n\tborder: 2px solid #fff;\n\tbox-sizing: border-box;\n    background: #4af;\n    background: var(--moveable-color);\n\tmargin-top: -7px;\n    margin-left: -7px;\n    border: 2px solid #fff;\n    z-index: 10;\n}\n.padding {\n    position: absolute;\n    top: 0px;\n    left: 0px;\n    width: 100px;\n    height: 100px;\n    transform-origin: 0 0;\n}\n.line {\n\twidth: 1px;\n    height: 1px;\n    background: #4af;\n    background: var(--moveable-color);\n\ttransform-origin: 0px 50%;\n}\n.line.edge {\n    z-index: 1;\n    background: transparent;\n}\n.line.dashed {\n    box-sizing: border-box;\n    background: transparent;\n}\n.line.dashed.horizontal {\n    border-top: 1px dashed #4af;\n    border-top-color: #4af;\n    border-top-color: var(--moveable-color);\n}\n.line.dashed.vertical {\n    border-left: 1px dashed #4af;\n    border-left-color: #4af;\n    border-left-color: var(--moveable-color);\n}\n.line.vertical {\n    transform: translateX(-50%);\n}\n.line.horizontal {\n    transform: translateY(-50%);\n}\n.line.vertical.bold {\n    width: 2px;\n}\n.line.horizontal.bold {\n    height: 2px;\n}\n\n.control.origin {\n\tborder-color: #f55;\n\tbackground: #fff;\n\twidth: 12px;\n\theight: 12px;\n\tmargin-top: -6px;\n    margin-left: -6px;\n\tpointer-events: none;\n}\n".concat([0,15,30,45,60,75,90,105,120,135,150,165].map(function(e){return'\n.direction[data-rotation="'.concat(e,'"] {\n\t').concat(function(e){var r=function(e,r){return'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="'.concat(32,'px" height="').concat(32,'px" viewBox="0 0 32 32" ><path d="M 16,5 L 12,10 L 14.5,10 L 14.5,22 L 12,22 L 16,27 L 20,22 L 17.5,22 L 17.5,10 L 20, 10 L 16,5 Z" stroke-linejoin="round" stroke-width="1.2" fill="black" stroke="white" style="transform:rotate(').concat(r,'deg);transform-origin: 16px 16px"></path></svg>')}(0,e),t=45*Math.round(e/45)%180,n="ns-resize";return 135===t?n="nwse-resize":45===t?n="nesw-resize":90===t&&(n="ew-resize"),"cursor:".concat(n,";cursor: url('").concat(r,"') 16 16, ").concat(n,";")}(e),"\n}\n")}).join("\n"),"\n.group {\n    z-index: -1;\n}\n.area {\n    position: absolute;\n}\n.area-pieces {\n    position: absolute;\n    top: 0;\n    left: 0;\n    display: none;\n}\n.area.avoid, .area.pass {\n    pointer-events: none;\n}\n.area.avoid+.area-pieces {\n    display: block;\n}\n.area-piece {\n    position: absolute;\n}\n\n").concat(ds?':global svg *:before {\n\tcontent:"";\n\ttransform-origin: inherit;\n}':"","\n"),mf=[[0,1,2],[1,0,3],[2,0,3],[3,1,2]],Tt=1e-7,nr=Math.pow(10,10),hs=-nr,xf=["n","w","s","e"],Jn=["n","w","s","e","nw","ne","sw","se"],_f={n:[0,-1],e:[1,0],s:[0,1],w:[-1,0],nw:[-1,-1],ne:[1,-1],sw:[-1,1],se:[1,1]},jn={n:[0,1],e:[1,3],s:[3,2],w:[2,0],nw:[0],ne:[1],sw:[2],se:[3]},vs={n:0,s:180,w:270,e:90,nw:315,ne:45,sw:225,se:135},gs=["isMoveableElement","updateRect","updateTarget","destroy","dragStart","isInside","hitTest","setState","getRect","request","isDragging","getManager","forceUpdate","waitToChangeTarget"];function ir(e,r,t,n,i,o){void 0===o&&(o="draggable");var a=r.gestos[o].move(t,e.inputEvent),l=a.originalDatas||a.datas,c=l[o]||(l[o]={});return D(D({},i?Gs(r,a):a),{isPinch:!!n,parentEvent:!0,datas:c,originalDatas:e.originalDatas})}var De=function(){function e(t){var n;void 0===t&&(t="draggable"),this.ableName=t,this.prevX=0,this.prevY=0,this.startX=0,this.startY=0,this.isDrag=!1,this.isFlag=!1,this.datas={draggable:{}},this.datas=((n={})[t]={},n)}var r=e.prototype;return r.dragStart=function(t,n){this.isDrag=!1,this.isFlag=!1;var i=n.originalDatas;return this.datas=i,i[this.ableName]||(i[this.ableName]={}),D(D({},this.move(t,n.inputEvent)),{type:"dragstart"})},r.drag=function(t,n){return this.move([t[0]-this.prevX,t[1]-this.prevY],n)},r.move=function(t,n){var i,o;return this.isFlag?(i=this.prevX+t[0],o=this.prevY+t[1],(t[0]||t[1])&&(this.isDrag=!0)):(this.prevX=t[0],this.prevY=t[1],this.startX=t[0],this.startY=t[1],i=t[0],o=t[1],this.isFlag=!0),this.prevX=i,this.prevY=o,{type:"drag",clientX:i,clientY:o,inputEvent:n,isDrag:this.isDrag,distX:i-this.startX,distY:o-this.startY,deltaX:t[0],deltaY:t[1],datas:this.datas[this.ableName],originalDatas:this.datas,parentEvent:!0,parentGesto:this}},e}();function ms(e,r){var i=r.datas,o=e.state,a=o.moveableClientRect,u=o.pos1,h=X(Re(o.rootMatrix,[r.clientX-a.left,r.clientY-a.top],o.is3d?4:3),u),m=Ut({datas:i,distX:h[0],distY:h[1]});return[m[0],m[1]]}function xe(e,r){var t=r.datas,n=e.state,i=n.allMatrix,o=n.beforeMatrix,a=n.is3d,l=n.left,c=n.top,u=n.origin,d=n.offsetMatrix,f=n.targetMatrix,p=n.transformOrigin,h=a?4:3;t.is3d=a,t.matrix=i,t.targetMatrix=f,t.beforeMatrix=o,t.offsetMatrix=d,t.transformOrigin=p,t.inverseMatrix=Wt(i,h),t.inverseBeforeMatrix=Wt(o,h),t.absoluteOrigin=ve(Q([l,c],u),h),t.startDragBeforeDist=Mt(t.inverseBeforeMatrix,t.absoluteOrigin,h),t.startDragDist=Mt(t.inverseMatrix,t.absoluteOrigin,h)}function Ar(e,r){var t=e.datas,n=e.originalDatas.beforeRenderable,i=t.transformIndex,o=n.nextTransforms,a=o.length,l=n.nextTransformAppendedIndexes,c=0;-1===i?t.transformIndex=c=o.length:c=de(l,function(p){return p.index===i&&p.functionName===r})?i:i+l.filter(function(p){return p.index<i}).length;var u=function(e,r){var t=e.slice(0,r<0?void 0:r),n=e.slice(0,r<0?void 0:r+1),i=e[r]||"",o=r<0?[]:e.slice(r),a=r<0?[]:e.slice(r+1),l=ge(t),c=ge(n),u=ge([i]),d=ge(o),f=ge(a),p=Ee(l),h=Ee(c),v=Ee(d),g=Ee(f),m=st(p,v,4);return{transforms:e,beforeFunctionMatrix:p,beforeFunctionMatrix2:h,targetFunctionMatrix:Ee(u),afterFunctionMatrix:v,afterFunctionMatrix2:g,allFunctionMatrix:m,beforeFunctions:l,beforeFunctions2:c,targetFunction:u[0],afterFunctions:d,afterFunctions2:f,beforeFunctionTexts:t,beforeFunctionTexts2:n,targetFunctionText:i,afterFunctionTexts:o,afterFunctionTexts2:a}}(o,c),d=u.targetFunction,f="rotate"===r?"rotateZ":r;t.beforeFunctionTexts=u.beforeFunctionTexts,t.afterFunctionTexts=u.afterFunctionTexts,t.beforeTransform=u.beforeFunctionMatrix,t.beforeTransform2=u.beforeFunctionMatrix2,t.targetTansform=u.targetFunctionMatrix,t.afterTransform=u.afterFunctionMatrix,t.afterTransform2=u.afterFunctionMatrix2,t.targetAllTransform=u.allFunctionMatrix,d.functionName===f?(t.afterFunctionTexts.splice(0,1),t.isAppendTransform=!1):a>c&&(t.isAppendTransform=!0,n.nextTransformAppendedIndexes=L(L([],l,!0),[{functionName:r,index:c,isAppend:!0}],!1))}function Tr(e,r,t){return"".concat(e.beforeFunctionTexts.join(" ")," ").concat(e.isAppendTransform?t:r," ").concat(e.afterFunctionTexts.join(" "))}function Cs(e,r,t){var n=e.beforeTransform,i=e.afterTransform,o=e.beforeTransform2,a=e.afterTransform2,l=e.targetAllTransform,c=t?st(l,r,4):st(r,l,4),u=st(Wt(t?o:n,4),c,4);return st(u,Wt(t?a:i,4),4)}function xs(e){var r=e.datas,a=r.startDragBeforeDist,c=r.is3d?4:3;return X(Mt(r.inverseBeforeMatrix,Q(r.absoluteOrigin,[e.distX,e.distY]),c),a)}function Ut(e,r){var t=e.datas,c=t.startDragBeforeDist,u=t.startDragDist,f=t.is3d?4:3;return X(Mt(r?t.inverseBeforeMatrix:t.inverseMatrix,Q(t.absoluteOrigin,[e.distX,e.distY]),f),r?c:u)}function _s(e){var r=[];return e[1]>=0&&(e[0]>=0&&r.push(3),e[0]<=0&&r.push(2)),e[1]<=0&&(e[0]>=0&&r.push(1),e[0]<=0&&r.push(0)),r}function gt(e,r){var t=(r[0]+1)/2,n=(r[1]+1)/2,i=[fe(e[0][0],e[1][0],t,1-t),fe(e[0][1],e[1][1],t,1-t)],o=[fe(e[2][0],e[3][0],t,1-t),fe(e[2][1],e[3][1],t,1-t)];return[fe(i[0],o[0],n,1-n),fe(i[1],o[1],n,1-n)]}function or(e,r,t,n){return st(e,$n(r,n,t),n)}function Dr(e){var r=Oe(e);return{setTransform:function(t,n){void 0===n&&(n=-1),r.startTransforms=$t(t)?t:te(t),Kn(e,n)},setTransformIndex:function(t){Kn(e,t)}}}function Or(e,r){Kn(e,jt(Oe(e).startTransforms,function(i){return 0===i.indexOf("".concat(r,"("))}))}function Kn(e,r){var t=Oe(e),n=e.datas;if(n.transformIndex=r,-1!==r){var i=t.startTransforms[r];if(i){var o=ge([i]);n.startValue=o[0].functionValue}}}function Qn(e,r){Oe(e).nextTransforms=te(r)}function Oe(e){return e.originalDatas.beforeRenderable}function bs(e){return e.originalDatas.beforeRenderable.nextTransforms}function Ss(e){return bs(e).join(" ")}function ws(e){return Oe(e).nextStyle}function ys(e,r,t,n,i){Qn(i,r);var o=Dt.drag(e,ir(i,e.state,t,n,!1)),a=o?o.transform:r;return D(D({transform:r,drag:o},lr({transform:a},i)),{afterTransform:a})}function Ms(e,r,t,n,i){var o=e.state,c=e.props.groupable,d=c?o.left:0,f=c?o.top:0,h=X(n,Es(e,t,function(e,r,t){var n=e.transformOrigin,l=r.afterTransform,c=e.is3d?4:3;return or(e.offsetMatrix,Xt(st(st(r.beforeTransform,Ke([t]),4),l,4),4,c),n,c)}(e.state,i,r)));return X(h,[d,f])}function Es(e,r,t){void 0===t&&(t=e.state.allMatrix);var n=e.state;return St(t,[n.width/2*(1+r[0]),n.height/2*(1+r[1])],n.is3d?4:3)}function As(e,r){return gt(kt(e.state),r)}function V(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return au.apply(void 0,L([Un],e,!1))}function Ts(e){e()}function If(e){return e&&"none"!==e?Zt(e)?e:Ke(e):[1,0,0,1,0,0]}function $n(e,r,t){return yn(r,je(t,r),e,je(t.map(function(n){return-n}),r))}function ti(e){var r=e.transformOrigin;return r?r.split(" "):["0","0"]}function Ds(e,r){void 0===r&&(r=Nt(e));var t=r.transform;if(t&&"none"!==t)return r.transform;if("transform"in e){var i=e.transform.baseVal;if(!i)return"";var o=i.length;if(!o)return"";for(var a=[],l=function(u){var d=i[u].matrix;a.push("matrix(".concat(["a","b","c","d","e","f"].map(function(f){return d[f]}).join(", "),")"))},c=0;c<o;++c)l(c);return a.join(" ")}return""}function kr(e,r,t){for(var n,i=document.body,o=!e||t?e:(null===(n=null==e?void 0:e.assignedSlot)||void 0===n?void 0:n.parentElement)||e.parentElement,a=!1,l=e===r||o===r,c="relative";o&&o!==i;){r===o&&(l=!0);var u=Nt(o),d=o.tagName.toLowerCase(),f=Ds(o,u);if(c=u.position,"svg"===d||"static"!==c||f&&"none"!==f||"transform"===u.willChange)break;var h=o.parentNode;if(h&&11===h.nodeType){o=h.host,a=!0;break}o=h,c="relative"}return{isCustomElement:a,isStatic:"static"===c,isEnd:l||!o||o===i,offsetParent:o||i}}function Gf(e,r){var t,c,u,n=e.tagName.toLowerCase(),i=e.offsetLeft,o=e.offsetTop,a=gr(i),l=!a;return l||"svg"===n?u=(c=ti(r).map(function(d){return parseFloat(d)})).slice():(u=(c=ds?function(e){return ti(Nt(e,":before")).map(function(t,n){var i=He(t);return i.value*function(e,r,t){return"%"===r?ri(e.ownerSVGElement)[t?"width":"height"]/100:1}(e,i.unit,0===n)})}(e):ti(r).map(function(d){return parseFloat(d)})).slice(),l=!0,i=(t=function(e,r){if(!e.getBBox||"g"===e.tagName.toLowerCase())return[0,0,0,0];var t=e.getBBox(),n=ri(e.ownerSVGElement),i=t.x-n.x,o=t.y-n.y;return[i,o,r[0]-i,r[1]-o]}(e,c))[0],o=t[1],c[0]=t[2],c[1]=t[3]),{tagName:n,isSVG:a,hasOffset:l,offset:[i||0,o||0],origin:c,targetOrigin:u}}function Os(e,r,t){void 0===t&&(t=Nt(e));var n=Nt(document.body),i=n.position;if(!(r||i&&"static"!==i))return[0,0];var o=parseInt(n.marginLeft,10),a=parseInt(n.marginTop,10);return"absolute"===t.position&&(("auto"!==t.top||"auto"!==t.bottom)&&(a=0),("auto"!==t.left||"auto"!==t.right)&&(o=0)),[o,a]}function ei(e){e.forEach(function(r){var t=r.matrix;t&&(r.matrix=Xt(t,3,4))})}function Zf(e){for(var r=e.parentElement,t=!1;r;){var n=Nt(r).transform;if(n&&"none"!==n){t=!0;break}if(r===document.body)break;r=r.parentElement}return{fixedContainer:r||document.body,hasTransform:t}}function ks(e,r,t){for(var u,d,f,n=e,i=[],o=!t&&e===r||e===document.body,a=o,l=!1,c=3,p=!1,h=kr(r,r,!0).offsetParent;n&&!a;){a=o;var v=Nt(n),g=v.position,C=rp(If(Ds(n,v))),x="fixed"===g,_={hasTransform:!1,fixedContainer:null};x&&(p=!0,h=(_=Zf(n)).fixedContainer);var b=C.length;!l&&16===b&&(l=!0,c=4,ei(i),f&&(f=Xt(f,3,4))),l&&9===b&&(C=Xt(C,3,4));var y=Gf(n,v),w=y.tagName,S=y.hasOffset,A=y.isSVG,M=y.origin,E=y.targetOrigin,k=y.offset,T=k[0],O=k[1];"svg"===w&&f?(i.push({type:"target",target:n,matrix:Ff(n,c)}),i.push({type:"offset",target:n,matrix:ft(c)})):"g"===w&&e!==n&&(T=0,O=0);var R=void 0,P=!1,z=!1;if(x)R=_.fixedContainer,P=!0;else{var N=kr(n,r);R=N.offsetParent,P=N.isEnd,z=N.isStatic}fs&&!vf&&S&&!A&&z&&("relative"===g||"static"===g)&&(T-=R.offsetLeft,O-=R.offsetTop,o=o||P);var q=0,I=0,G=0,F=0;if(x)S&&_.hasTransform&&(G=R.clientLeft,F=R.clientTop);else if(S&&h!==R&&(q=R.clientLeft,I=R.clientTop),S&&R===document.body){var Y=Os(n,!1,v);T+=Y[0],O+=Y[1]}if(i.push({type:"target",target:n,matrix:$n(C,c,M)}),i.push(S?{type:"offset",target:n,matrix:je([T-n.scrollLeft+q-G,O-n.scrollTop+I-F],c)}:{type:"offset",target:n,origin:M}),f||(f=C),u||(u=M),d||(d=E),a||x)break;n=R,o=P,(!t||n===document.body)&&(a=o)}return f||(f=ft(c)),u||(u=[0,0]),d||(d=[0,0]),{offsetContainer:h,matrixes:i,targetMatrix:f,transformOrigin:u,targetOrigin:d,is3d:l,hasFixed:p}}function Pr(e,r){return void 0===r&&(r=e.length>9),"".concat(r?"matrix3d":"matrix","(").concat(Ya(e,!r).join(","),")")}function ri(e){var r=e.clientWidth,t=e.clientHeight;if(!e)return{x:0,y:0,width:0,height:0,clientWidth:r,clientHeight:t};var n=e.viewBox,i=n&&n.baseVal||{x:0,y:0,width:0,height:0};return{x:i.x,y:i.y,width:i.width||r,height:i.height||t,clientWidth:r,clientHeight:t}}function Ff(e,r){var t=ri(e),n=t.width,i=t.height,o=t.clientWidth,a=t.clientHeight,l=o/n,c=a/i,u=e.preserveAspectRatio.baseVal,d=u.align,f=u.meetOrSlice,p=[0,0],h=[l,c],v=[0,0];if(1!==d){var g=(d-2)%3,m=Math.floor((d-2)/3);p[0]=n*g/2,p[1]=i*m/2;var C=2===f?Math.max(c,l):Math.min(l,c);h[0]=C,h[1]=C,v[0]=(o-n)/2*g,v[1]=(a-i)/2*m}var x=La(h,r);return x[r*(r-1)]=v[0],x[r*(r-1)+1]=v[1],$n(x,r,p)}function St(e,r,t){return Mt(e,ve(r,t),t)}function _e(e,r,t,n){return[[0,0],[r,0],[0,t],[r,t]].map(function(i){return St(e,i,n)})}function Gt(e){var r=e.map(function(u){return u[0]}),t=e.map(function(u){return u[1]}),n=Math.min.apply(Math,r),i=Math.min.apply(Math,t),o=Math.max.apply(Math,r),a=Math.max.apply(Math,t);return{left:n,top:i,right:o,bottom:a,width:o-n,height:a-i}}function Ps(e,r,t,n){return Gt(_e(e,r,t,n))}function Rr(e,r,t,n){var o=16===e.length?4:3,a=_e(e,t,n,o),l=a[0],c=l[0],u=l[1],d=a[1],f=d[0],p=d[1],h=a[2],v=h[0],g=h[1],m=a[3],C=m[0],x=m[1],_=St(e,r,o),b=_[0],y=_[1],w=Math.min(c,f,v,C),S=Math.min(u,p,g,x),A=Math.max(c,f,v,C);return c=c-w||0,{left:w,top:S,right:A,bottom:Math.max(u,p,g,x),origin:[b=b-w||0,y=y-S||0],pos1:[c,u=u-S||0],pos2:[f=f-w||0,p=p-S||0],pos3:[v=v-w||0,g=g-S||0],pos4:[C=C-w||0,x=x-S||0],direction:un(a)}}function Vt(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function Rs(e,r){return Vt([r[0]-e[0],r[1]-e[1]])}function ar(e,r,t,n){void 0===t&&(t=1),void 0===n&&(n=vt(e,r));var i=Rs(e,r);return{transform:"translateY(-50%) translate(".concat(e[0],"px, ").concat(e[1],"px) rotate(").concat(n,"rad) scaleY(").concat(t,")"),width:"".concat(i,"px")}}function ni(e,r){for(var t=[],n=2;n<arguments.length;n++)t[n-2]=arguments[n];var i=t.length,o=t.reduce(function(l,c){return l+c[0]},0)/i,a=t.reduce(function(l,c){return l+c[1]},0)/i;return{transform:"translateZ(0px) translate(".concat(o,"px, ").concat(a,"px) rotate(").concat(e,"rad) scale(").concat(r,")")}}function be(e,r){var t=e[r];return Zt(t)?D(D({},e),t):e}function Is(e,r){void 0===r&&(r=e?Nt(e):null);var t=e&&!gr(e.offsetWidth),n=0,i=0,o=0,a=0,l=0,c=0,u=0,d=0,f=0,p=0,h=0,v=0,g=1/0,m=1/0,C=1/0,x=1/0,_=!1;if(e)if(t||"svg"===e.tagName.toLowerCase()){var y=e.style,w="border-box"===r.boxSizing,S=parseFloat(r.borderLeftWidth)||0,A=parseFloat(r.borderRightWidth)||0,M=parseFloat(r.borderTopWidth)||0,E=parseFloat(r.borderBottomWidth)||0,P=(parseFloat(r.paddingLeft)||0)+(parseFloat(r.paddingRight)||0),z=(parseFloat(r.paddingTop)||0)+(parseFloat(r.paddingBottom)||0),I=P+(S+A),G=z+(M+E);f=Math.max(P,pt(r.minWidth,0)||0),p=Math.max(z,pt(r.minHeight,0)||0),g=pt(r.maxWidth,0),m=pt(r.maxHeight,0),isNaN(g)&&(g=1/0,m=1/0);var F=pt(y.width,0)||0,Y=pt(y.height,0)||0,rt=parseFloat(r.width)||0,J=parseFloat(r.height)||0;l=parseFloat(r.width),c=parseFloat(r.height),n=u=Math.abs(rt-F)<1?ln(f,F||l,g):rt,i=d=Math.abs(J-Y)<1?ln(p,Y||c,m):J,o=u,a=d,w?(C=g,x=m,h=f,v=p,u=n-I,d=i-G):(C=g+I,x=m+G,h=f+I,v=p+G,n=u+I,i=d+G),o=u+P,a=d+z}else{var b=e.getBBox();_=!0,l=n=b.width,c=i=b.height,u=n,d=i,o=n,a=i}return{svg:_,offsetWidth:n,offsetHeight:i,clientWidth:o,clientHeight:a,contentWidth:u,contentHeight:d,cssWidth:l,cssHeight:c,minWidth:f,minHeight:p,maxWidth:g,maxHeight:m,minOffsetWidth:h,minOffsetHeight:v,maxOffsetWidth:C,maxOffsetHeight:x}}function Bs(e,r){return vt(r>0?e[0]:e[1],r>0?e[1]:e[0])}function sr(e,r){var t,n=0,i=0,o=0,a=0;if(e)if(e===document.body||e===document.documentElement){o=window.innerWidth,a=window.innerHeight;var l=[document.documentElement.scrollLeft||document.body.scrollLeft,document.documentElement.scrollTop||document.body.scrollTop];n=(t=[-l[0],-l[1]])[0],i=t[1]}else{var c=e.getBoundingClientRect();n=c.left,i=c.top,o=c.width,a=c.height}var u={left:n,top:i,width:o,height:a,right:n+o,bottom:i+a};return e&&r&&(u.clientLeft=e.clientLeft,u.clientTop=e.clientTop,u.clientWidth=e.clientWidth,u.clientHeight=e.clientHeight,u.scrollWidth=e.scrollWidth,u.scrollHeight=e.scrollHeight,u.overflow="visible"!==Nt(e).overflow),u}function ii(e){if(e){var r=e.getAttribute("data-direction");if(r){var t=[0,0];return r.indexOf("w")>-1&&(t[0]=-1),r.indexOf("e")>-1&&(t[0]=1),r.indexOf("n")>-1&&(t[1]=-1),r.indexOf("s")>-1&&(t[1]=1),t}}}function oi(e,r){return[Q(r,e[0]),Q(r,e[1]),Q(r,e[2]),Q(r,e[3])]}function kt(e){return oi([e.pos1,e.pos2,e.pos3,e.pos4],[e.left,e.top])}function ke(e,r){var t;null===(t=e[r])||void 0===t||t.unset(),e[r]=null}function lr(e,r){if(r){var t=Oe(r);t.nextStyle=D(D({},t.nextStyle),e)}return{style:e,cssText:ye(e).map(function(n){return"".concat(n,": ").concat(e[n],";")}).join("")}}function zs(e,r,t){var n=r.afterTransform||r.transform;return D(D({},lr(D(D(D({},e.style),r.style),{transform:n}),t)),{afterTransform:n,transform:e.transform})}function U(e,r,t,n){var i=r.datas;i.datas||(i.datas={});var o=D(D({},t),{target:e.state.target,clientX:r.clientX,clientY:r.clientY,inputEvent:r.inputEvent,currentTarget:e,moveable:e,datas:i.datas,stopDrag:function(){var a;null===(a=r.stop)||void 0===a||a.call(r)}});return i.isStartEvent?n||(i.lastEvent=o):i.isStartEvent=!0,o}function It(e,r,t){var n=r.datas,i="isDrag"in t?t.isDrag:r.isDrag;return n.datas||(n.datas={}),D(D({isDrag:i},t),{moveable:e,target:e.state.target,clientX:r.clientX,clientY:r.clientY,inputEvent:r.inputEvent,currentTarget:e,lastEvent:n.lastEvent,isDouble:r.isDouble,datas:n.datas})}function ai(e,r,t){e._emitter.on(r,t)}function Z(e,r,t,n){return e.triggerEvent(r,t,n)}function Nt(e,r){return window.getComputedStyle(e,r)}function Br(e,r,t){var n={},i={};return e.filter(function(o){var a=o.name;if(n[a]||!r.some(function(l){return o[l]}))return!1;if(!t&&o.ableGroup){if(i[o.ableGroup])return!1;i[o.ableGroup]=!0}return n[a]=!0,!0})}function si(e,r){return e===r||null==e&&null==r}function Pe(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e.sort(function(t,n){return Math.abs(n)-Math.abs(t)}),e[0]}function Re(e,r,t){return Mt(Wt(e,t),ve(r,t),t)}function Gs(e,r){var t;return t=Re(e.rootMatrix,[r.distX,r.distY],e.is3d?4:3),r.distX=t[0],r.distY=t[1],r}function zr(e,r,t,n,i){return X(St(e,Q(t,r),i),n)}function Yt(e,r,t){return t?"".concat(e/r*100,"%"):"".concat(e,"px")}function Gr(e){return Math.abs(e)<=Tt?0:e}function li(e,r){return void 0===r&&(r=[e]),function(t,n){if(n.isRequest)return!!r.some(function(o){return n.requestAble===o})&&n.parentDirection;var i=n.inputEvent.target;return bt(i,V("direction"))&&(!e||bt(i,V(e)))}}function Jf(e){var r={};for(var t in e)r[e[t]]=t;return r}function cr(e,r){return e?e instanceof Element?e:Bt(e)?r?document.querySelector(e):e:ma(e)?e():"current"in e?e.current:e:null}function Ns(e,r){return e?(function(e){return!(!e||!Zt(e)||e instanceof Element)&&($t(e)||"length"in e)}(e)?[].slice.call(e):[e]).reduce(function(n,i){return Bt(i)&&r?L(L([],n,!0),[].slice.call(document.querySelectorAll(i)),!0):(n.push(cr(i,r)),n)},[]):[]}function Zs(e,r){var n=e.is3d,o=Wt(e.rootMatrix,n?4:3);return n||(o=Xt(o,3,4)),o[12]=0,o[13]=0,o[14]=0,function(e,r){var t=Mt(e,[r[0],r[1]||0,r[2]||0,1],4),n=t[3]||1;return[t[0]/n,t[1]/n,t[2]/n]}(o,r)}function Fs(e,r,t,n,i){var o=e[0],a=e[1],l=0,c=0;if(i&&o&&a){var u=vt([0,0],r),d=vt([0,0],n),f=Vt(r),p=Math.cos(u-d)*f;if(n[0])if(n[1]){var h=2*n[0]*o,v=2*n[1]*a,g=Vt([h+r[0],v+r[1]])-Vt([h,v]),m=vt([0,0],[t,1]);l=Math.cos(m)*g,c=Math.sin(m)*g}else c=(l=p)/t;else l=(c=p)*t}else l=n[0]*r[0],c=n[1]*r[1];return[l,c]}function qs(e,r,t,n){var i,o=t.ratio,a=t.startOffsetWidth,l=t.startOffsetHeight,c=0,u=0,d=n.distX,f=n.distY,p=n.parentDistance,h=n.parentDist,v=n.parentScale,g=t.fixedDirection,m=[0,1].map(function(w){return Math.abs(e[w]-g[w])}),C=[0,1].map(function(w){var S=m[w];return 0!==S&&(S=2/S),S});if(h)c=h[0],u=h[1],r&&(c?u||(u=c/o):c=u*o);else if(v)c=(v[0]-1)*a,u=(v[1]-1)*l;else if(p){var x=a*m[0],_=l*m[1],b=Vt([x,_]);c=p/b*x*C[0],u=p/b*_*C[1]}else{var y=Ut({datas:t,distX:d,distY:f});c=(i=Fs([a,l],y=C.map(function(w,S){return y[S]*w}),o,e,r))[0],u=i[1]}return{distWidth:c,distHeight:u}}var td=rr("pinchable",{events:{onPinchStart:"pinchStart",onPinch:"pinch",onPinchEnd:"pinchEnd",onPinchGroupStart:"pinchGroupStart",onPinchGroup:"pinchGroup",onPinchGroupEnd:"pinchGroupEnd"},dragStart:function(){return!0},pinchStart:function(e,r){var t=r.datas,n=r.targets,i=r.angle,o=r.originalDatas,a=e.props,l=a.pinchable,c=a.ables;if(!l)return!1;var u="onPinch".concat(n?"Group":"","Start"),d="drag".concat(n?"Group":"","ControlStart"),f=(!0===l?e.controlAbles:c.filter(function(g){return l.indexOf(g.name)>-1})).filter(function(g){return g.canPinch&&g[d]}),p=U(e,r,{});n&&(p.targets=n);var h=Z(e,u,p);t.isPinch=!1!==h,t.ables=f;var v=t.isPinch;return!!v&&(f.forEach(function(g){if(o[g.name]=o[g.name]||{},g[d]){var m=D(D({},r),{datas:o[g.name],parentRotate:i,isPinch:!0});g[d](e,m)}}),e.state.snapRenderInfo={request:r.isRequest,direction:[0,0]},v)},pinch:function(e,r){var t=r.datas,o=r.originalDatas,a=r.inputEvent,l=r.targets,c=r.angle;if(t.isPinch){var u=r.distance*(1-1/r.scale),d=U(e,r,{});l&&(d.targets=l);var f="onPinch".concat(l?"Group":"");Z(e,f,d);var p=t.ables,h="drag".concat(l?"Group":"","Control");return p.forEach(function(v){!v[h]||v[h](e,D(D({},r),{datas:o[v.name],inputEvent:a,parentDistance:u,parentRotate:c,isPinch:!0}))}),d}},pinchEnd:function(e,r){var t=r.datas,n=r.isPinch,i=r.inputEvent,o=r.targets,a=r.originalDatas;if(t.isPinch){var l="onPinch".concat(o?"Group":"","End"),c=It(e,r,{isDrag:n});o&&(c.targets=o),Z(e,l,c);var u=t.ables,d="drag".concat(o?"Group":"","ControlEnd");return u.forEach(function(f){!f[d]||f[d](e,D(D({},r),{isDrag:n,datas:a[f.name],inputEvent:i,isPinch:!0}))}),n}},pinchGroupStart:function(e,r){return this.pinchStart(e,D(D({},r),{targets:e.props.targets}))},pinchGroup:function(e,r){return this.pinch(e,D(D({},r),{targets:e.props.targets}))},pinchGroupEnd:function(e,r){return this.pinchEnd(e,D(D({},r),{targets:e.props.targets}))}});function ie(e,r,t){var n=t.originalDatas;n.groupable=n.groupable||{};var i=n.groupable;i.childDatas=i.childDatas||[];var o=i.childDatas;return e.moveables.map(function(a,l){return o[l]=o[l]||{},o[l][r]=o[l][r]||{},D(D({},t),{datas:o[l][r],originalDatas:o[l]})})}function ci(e,r,t,n,i,o,a){var l=!!t.match(/Start$/g),c=!!t.match(/End$/g),u=i.isPinch,d=i.datas,f=ie(e,r.name,i),p=e.moveables,h=f.map(function(v,g){var m=p[g],C=m.state,x=C.gestos,_=v;if(l)_=new De(a).dragStart(n,v);else{if(x[a]||(x[a]=d.childGestos[g]),!x[a])return;_=ir(v,C,n,u,o,a)}var b=r[t](m,D(D({},_),{parentFlag:!0}));return c&&(x[a]=null),b});return l&&(d.childGestos=p.map(function(v){return v.state.gestos[a]})),h}function Kt(e,r,t,n,i,o){void 0===i&&(i=function(d,f){return f});var a=!!t.match(/End$/g),l=ie(e,r.name,n),c=e.moveables;return l.map(function(d,f){var h,p=c[f];h=i(p,d);var v=r[t](p,D(D({},h),{parentFlag:!0}));return v&&o&&o(p,d,v,f),a&&(p.state.gestos={}),v})}var ed=["left","right","center"],rd=["top","bottom","middle"],oe={start:"left",end:"right",center:"center"},ae={start:"top",end:"bottom",center:"middle"};function Ie(e,r){var t=e.props,n=t.snappable,i=t.bounds,o=t.innerBounds,a=t.verticalGuidelines,l=t.horizontalGuidelines,c=t.snapGridWidth,u=t.snapGridHeight,d=e.state,f=d.guidelines;return!(!n||!d.enableSnap||r&&!0!==n&&n.indexOf(r)<0||!(c||u||i||o||f&&f.length||a&&a.length||l&&l.length))}function ui(e){return!1===e?{}:!0!==e&&e?e:{left:!0,right:!0,top:!0,bottom:!0}}function pi(e,r){var t=function(e,r){var t=ui(e),n={};for(var i in t)i in r&&t[i]&&(n[i]=r[i]);return n}(e,r),n=rd.filter(function(o){return o in t}),i=ed.filter(function(o){return o in t});return{horizontal:n.map(function(o){return t[o]}),vertical:i.map(function(o){return t[o]})}}function Nr(e,r,t,n){var o=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];for(var t=e.length-1,n=0;n<t;++n){var i=e[n];if(!gr(i))return i}return e[t]}(n,e.props.snapThreshold,5);return Vs(e.state.guidelines,r,t,o)}function Vs(e,r,t,n){return{vertical:Hs(e,"vertical",r,n),horizontal:Hs(e,"horizontal",t,n)}}function Ys(e,r,t){var n=pi(e.props.snapDirections,r);return Nr(e,n.vertical,n.horizontal,t)}function fi(e){var r=e.isSnap;if(!r)return{isSnap:!1,offset:0,dist:-1,pos:0,guideline:null};var t=e.posInfos[0],n=t.guidelineInfos[0];return{isSnap:r,offset:n.offset,dist:n.dist,pos:t.pos,guideline:n.guideline}}function Hs(e,r,t,n){if(!e||!e.length)return{isSnap:!1,index:-1,posInfos:[]};var o="vertical"===r?0:1,a=t.map(function(c,u){var d=e.map(function(f){var h=c-f.pos[o];return{offset:h,dist:Math.abs(h),guideline:f}}).filter(function(f){return!(f.guideline.type!==r||f.dist>n)}).sort(function(f,p){return f.dist-p.dist});return{pos:c,index:u,guidelineInfos:d}}).filter(function(c){return c.guidelineInfos.length>0}).sort(function(c,u){return c.guidelineInfos[0].dist-u.guidelineInfos[0].dist}),l=a.length>0;return{isSnap:l,index:l?a[0].index:-1,posInfos:a}}function Ls(e,r){var t=Math.abs(e.offset),n=Math.abs(r.offset);return e.isBound&&r.isBound?n-t:e.isBound?-1:r.isBound?1:e.isSnap&&r.isSnap?n-t:e.isSnap?-1:r.isSnap||t<Tt?1:n<Tt?-1:t-n}function Zr(e,r){return e.slice().sort(function(t,n){return t.sign[r]?n.sign[r]?Ls({isBound:t.isBound,isSnap:t.isSnap,offset:t.offset[r]},{isBound:n.isBound,isSnap:n.isSnap,offset:n.offset[r]}):-1:1})[0]}function Ws(e,r){var t=cn([r[0][0],r[1][0]]),n=cn([r[0][1],r[1][1]]);return{vertical:t<=e[0],horizontal:n<=e[1]}}function di(e,r){var a,l,t=r[0],n=r[1],i=n[0]-t[0],o=n[1]-t[1];return Math.abs(i)<Tt&&(i=0),Math.abs(o)<Tt&&(o=0),i?o?(a=o/i*(e[0]-t[0])+t[1],l=e[1]):(a=t[1],l=e[1]):(a=t[0],l=e[0]),a-l}function Xs(e,r,t,n){return void 0===n&&(n=Tt),e.every(function(i){var o=di(i,r);return o<=0===t||Math.abs(o)<=n})}function Us(e,r,t,n,i){return void 0===i&&(i=0),n&&r-i<=e||!n&&e<=t+i?{isBound:!0,offset:n?r-e:t-e}:{isBound:!1,offset:0}}function se(e,r,t,n,i,o){var a=r[0],l=r[1],c=e[0],u=t[0],d=t[1],f=Gr(d[1]-u[1]),h=l,v=a,g=-a/l;if(!Gr(d[0]-u[0]))return o&&!v?{isBound:!1,offset:0}:h?Us(g*(u[0]-c[0])+c[1],u[1],d[1],n,i):(C=u[0]-c[0],{isBound:x=Math.abs(C)<=(i||0),offset:x?C:0});if(!f){if(o&&!h)return{isBound:!1,offset:0};if(v)return Us((u[1]-c[1])/g+c[0],u[0],d[0],n,i);var x,C=u[1]-c[1];return{isBound:x=Math.abs(C)<=(i||0),offset:x?C:0}}return{isBound:!1,offset:0}}function Js(e,r,t){return r.map(function(n){var i=function(e,r){var t=r.line,i=r.verticalSign,o=r.horizontalSign,a=r.lineConstants,l=e.props.innerBounds;if(!l)return{isAllBound:!1,isBound:!1,isVerticalBound:!1,isHorizontalBound:!1,offset:[0,0]};var c=l.left,u=l.top,d=l.width,f=l.height,p=[[c,u],[c,u+f]],h=[[c,u],[c+d,u]],v=[[c+d,u],[c+d,u+f]],g=[[c,u+f],[c+d,u+f]];if(Xs([[c,u],[c+d,u],[c,u+f],[c+d,u+f]],t,r.centerSign))return{isAllBound:!1,isBound:!1,isVerticalBound:!1,isHorizontalBound:!1,offset:[0,0]};var m=se(t,a,h,i),C=se(t,a,g,i),x=se(t,a,p,o),_=se(t,a,v,o),b=m.isBound&&C.isBound,y=m.isBound||C.isBound,w=x.isBound&&_.isBound,S=x.isBound||_.isBound,A=Pe(m.offset,C.offset),M=Pe(x.offset,_.offset),E=[0,0],k=!1,T=!1;return Math.abs(M)<Math.abs(A)?(E=[A,0],k=y,T=b):(E=[0,M],k=S,T=w),{isAllBound:T,isVerticalBound:y,isHorizontalBound:S,isBound:k,offset:E}}(e,n),o=i.isBound,a=i.offset,l=i.isVerticalBound,c=i.isHorizontalBound,u=n.multiple,d=Ut({datas:t,distX:a[0],distY:a[1]}).map(function(f,p){return f*(u[p]?2/u[p]:0)});return{sign:u,isBound:o,isVerticalBound:l,isHorizontalBound:c,isSnap:!1,offset:d}})}function hi(e,r,t,n){var i=e.state,l=_e(i.allMatrix,100,100,i.is3d?4:3),c=gt(l,[0,0]);return function(e,r){var t=[],n=e[0],i=e[1];return n&&i?t.push([[0,2*i],e,[-n,i]],[[2*n,0],e,[n,-i]]):n?(t.push([[2*n,0],[n,1],[n,-1]]),r&&t.push([[0,-1],[n,-1],[-n,-1]],[[0,1],[n,1],[-n,1]])):i?(t.push([[0,2*i],[1,i],[-1,i]]),r&&t.push([[-1,0],[-1,i],[-1,-i]],[[1,0],[1,i],[1,-i]])):t.push([[-1,0],[-1,-1],[-1,1]],[[1,0],[1,-1],[1,1]],[[0,-1],[-1,-1],[1,-1]],[[0,1],[-1,1],[1,1]]),t}(t,n).map(function(u){var d=u[0],f=u[1],p=u[2],h=[gt(l,f),gt(l,p)],v=function(e){var r=e[0],t=e[1],n=t[0]-r[0],i=t[1]-r[1];Math.abs(n)<Ct&&(n=0),Math.abs(i)<Ct&&(i=0);var o=0,a=0,l=0;return n?i?(a=1,l=(o=-i/n)*r[0]-r[1]):(a=1,l=-r[1]):(o=-1,l=r[0]),[o,a,l].map(function(c){return j(c,Ct)})}(h),g=Ws(c,h),m=g.vertical,C=g.horizontal;return{multiple:d,centerSign:di(c,h)<=0,verticalSign:m,horizontalSign:C,lineConstants:v,line:[gt(r,f),gt(r,p)]}})}function js(e,r,t,n){var i=n?e.map(function(o){return ne(o,n)}):e;return[[i[0],i[1]],[i[1],i[3]],[i[3],i[2]],[i[2],i[0]]].some(function(o){var a=di(t,o)<=0;return!Xs(r,o,a)})}function vi(e,r,t){var n=e||{},i=n.position,a=n.left,c=n.top,d=n.right,p=n.bottom,v={position:void 0===i?"client":i,left:void 0===a?-1/0:a,top:void 0===c?-1/0:c,right:void 0===d?1/0:d,bottom:void 0===p?1/0:p};return{vertical:Ks(v,r,!0),horizontal:Ks(v,t,!1)}}function Fr(e,r){var t=e.state,n=t.containerClientRect,a=n.clientLeft,l=n.clientTop,c=t.snapOffset,u=c.left,d=c.top,h=r||e.props.bounds||{},g="css"===(h.position||"client"),m=h.left,x=h.top,b=h.right,y=void 0===b?g?-1/0:1/0:b,w=h.bottom,S=void 0===w?g?-1/0:1/0:w;return g&&(y=n.clientWidth+c.right-u-y,S=n.clientHeight+c.bottom-d-S),{left:(void 0===m?-1/0:m)+u-a,right:y+u-a,top:(void 0===x?-1/0:x)+d-l,bottom:S+d-l}}function Ks(e,r,t){var n=e[t?"left":"top"],i=e[t?"right":"bottom"],o=Math.min.apply(Math,r),a=Math.max.apply(Math,r),l=[];return n+1>o&&l.push({isBound:!0,offset:o-n,pos:n}),i-1<a&&l.push({isBound:!0,offset:a-i,pos:i}),l.length||l.push({isBound:!1,offset:0,pos:0}),l.sort(function(c,u){return Math.abs(u.offset)-Math.abs(c.offset)})}function Qs(e,r,t){return(t?e.map(function(i){return ne(i,t)}):e).some(function(i){return i[0]<r.left&&Math.abs(i[0]-r.left)>.1||i[0]>r.right&&Math.abs(i[0]-r.right)>.1||i[1]<r.top&&Math.abs(i[1]-r.top)>.1||i[1]>r.bottom&&Math.abs(i[1]-r.bottom)>.1})}function gi(e,r){return function(e,r){var t,o=e.size,a=e.pos,l=e.zoom,u="horizontal"===e.direction,d=u?"Y":"X";return r.createElement("div",{key:e.key,className:e.classNames.join(" "),style:(t={},t[u?"width":"height"]="".concat(o),t.transform="translate(".concat(a[0],", ").concat(a[1],") translate").concat(d,"(-50%) scale").concat(d,"(").concat(l,")"),t)})}(D(D({},e),{classNames:L([V("line","guideline",e.direction)],e.classNames,!0).filter(function(t){return t}),size:e.size||"".concat(e.sizeValue,"px"),pos:e.pos||e.posValue.map(function(t){return"".concat(j(t,.1),"px")})}),r)}function $s(e,r,t,n,i,o,a,l){var c=e.props.zoom;return t.map(function(u,d){var f=u.type,p=u.pos,h=[0,0];return h[a]=n,h[a?0:1]=-i+p,gi({key:"".concat(r,"TargetGuideline").concat(d),classNames:[V("target","bold",f)],posValue:h,sizeValue:o,zoom:c,direction:r},l)})}function tl(e,r,t,n,i,o){var a=e.props,l=a.zoom,c=a.isDisplayInnerSnapDigit,u="horizontal"===r?oe:ae,d=i[u.start],f=i[u.end];return t.filter(function(p){var v=p.elementRect;if(p.hide)return!1;if(c&&v){var g=v.rect;if(g[u.start]<=d&&f<=g[u.end])return!1}return!0}).map(function(p,h){var v=p.pos,g=p.size,m=p.element,C=p.className,x=[-n[0]+v[0],-n[1]+v[1]];return gi({key:"".concat(r,"-default-guideline-").concat(h),classNames:m?[V("bold"),C]:[V("normal"),C],direction:r,posValue:x,sizeValue:g,zoom:l},o)})}function ur(e,r,t,n,i,o,a,l){var c,u=e.props,d=u.snapDigit,f=void 0===d?0:d,p=u.isDisplaySnapDigit,h=void 0===p||p,v=u.snapDistFormat,g=void 0===v?function(y,w){return y}:v,m=u.zoom,C="horizontal"===r?"X":"Y",x="vertical"===r?"height":"width",_=Math.abs(i),b=h?parseFloat(_.toFixed(f)):0;return l.createElement("div",{key:"".concat(r,"-").concat(t,"-guideline-").concat(n),className:V("guideline-group",r),style:(c={left:"".concat(o[0],"px"),top:"".concat(o[1],"px")},c[x]="".concat(_,"px"),c)},gi({direction:r,classNames:[V(t),a],size:"100%",posValue:[0,0],sizeValue:_,zoom:m},l),l.createElement("div",{className:V("size-value","gap"),style:{transform:"translate".concat(C,"(-50%) scale(").concat(m,")")}},b>0?g(b,r):""))}function mi(e,r,t,n,i){var o=function(e,r,t,n){var i=r[0]-e[0],o=r[1]-e[1];if(Math.abs(i)<Ct&&(i=0),Math.abs(o)<Ct&&(o=0),!i)return n?[0,0]:[0,t];if(!o)return n?[t,0]:[0,0];var a=o/i,l=e[1]-a*e[0];return n?[t,a*(r[0]+t)+l-r[1]]:[(r[1]+t-l)/a-r[0],t]}(e,r,t,n);if(!o)return{isOutside:!1,offset:[0,0]};var a=Ft(e,r),l=Ft(o,e),c=Ft(o,r),u=l>a||c>a,d=Ut({datas:i,distX:o[0],distY:o[1]});return{offset:[d[0],d[1]],isOutside:u}}function qr(e,r){return e.isBound?e.offset:r.isSnap?fi(r).offset:0}function Md(e,r,t,n,i,o){if(!Ie(e,"draggable"))return[{isSnap:!1,isBound:!1,offset:0},{isSnap:!1,isBound:!1,offset:0}];var a=oi(o.absolutePoses,[r,t]),l=Gt(a),c=l.left,u=l.right,d=l.top,f=l.bottom,p={horizontal:a.map(function(R){return R[1]}),vertical:a.map(function(R){return R[0]})},g=Vr(e,i,pi(ui(e.props.snapDirections),{left:c,right:u,top:d,bottom:f,center:(c+u)/2,middle:(d+f)/2}),p),m=g.vertical,C=g.horizontal,x=function(e,r,t){var n,o=Js(e,hi(e,r,[0,0],!1).map(function(p){return D(D({},p),{multiple:p.multiple.map(function(h){return 2*Math.abs(h)})})}),t),a=Zr(o,0),l=Zr(o,1),c=0,u=0,d=a.isVerticalBound||l.isVerticalBound,f=a.isHorizontalBound||l.isHorizontalBound;return(d||f)&&(c=(n=function(e,r){var t=e.datas,d=t.absoluteOrigin,f=t.is3d?4:3;return X(Mt(t.matrix,Q(t.startDragDist,[e.distX,e.distY]),f),d)}({datas:t,distX:-a.offset[0],distY:-l.offset[1]}))[0],u=n[1]),{vertical:{isBound:d,offset:c},horizontal:{isBound:f,offset:u}}}(e,a,o),_=x.vertical,b=x.horizontal,y=m.isSnap,w=C.isSnap,S=m.isBound||_.isBound,A=C.isBound||b.isBound,k=function(e,r,t,n,i){var o=r[0],a=r[1],l=t[0],c=t[1],u=n[0],d=n[1],f=i[0],p=i[1],h=-f,v=-p;if(e&&o&&a){h=0,v=0;var g=[];if(l&&c?g.push([0,p],[f,0]):l?g.push([f,0]):c?g.push([0,p]):u&&d?g.push([0,p],[f,0]):u?g.push([f,0]):d&&g.push([0,p]),g.length){g.sort(function(_,b){return Vt(X([o,a],_))-Vt(X([o,a],b))});var m=g[0];if(m[0]&&Math.abs(o)>Ct)h=-m[0],v=a*Math.abs(o+h)/Math.abs(o)-a;else if(m[1]&&Math.abs(a)>Ct){var C=a;v=-m[1],h=o*Math.abs(a+v)/Math.abs(C)-o}if(e&&c&&l)if(Math.abs(h)>Ct&&Math.abs(h)<Math.abs(f))h*=x=Math.abs(f)/Math.abs(h),v*=x;else if(Math.abs(v)>Ct&&Math.abs(v)<Math.abs(p)){var x;h*=x=Math.abs(p)/Math.abs(v),v*=x}else h=Pe(-f,h),v=Pe(-p,v)}}else h=o||l?-f:0,v=a||c?-p:0;return[h,v]}(n,[r,t],[S,A],[y,w],[Pe(m.offset,_.offset),Pe(C.offset,b.offset)]);return[{isBound:S,isSnap:y,offset:k[0]},{isBound:A,isSnap:w,offset:k[1]}]}function Vr(e,r,t,n){void 0===n&&(n=t);var i=vi(Fr(e),n.vertical,n.horizontal),o=i.horizontal,a=i.vertical,l=r?{horizontal:{isSnap:!1,index:-1},vertical:{isSnap:!1,index:-1}}:Nr(e,t.vertical,t.horizontal),c=l.horizontal,u=l.vertical,d=qr(o[0],c),f=qr(a[0],u),p=Math.abs(d),h=Math.abs(f);return{horizontal:{isBound:o[0].isBound,isSnap:c.isSnap,snapIndex:c.index,offset:d,dist:p,bounds:o,snap:c},vertical:{isBound:a[0].isBound,isSnap:u.isSnap,snapIndex:u.index,offset:f,dist:h,bounds:a,snap:u}}}function el(e,r,t,n,i){var o=vi(r,t,n),a=o.horizontal,l=o.vertical,c=Vs(e,t,n,i),u=c.horizontal,d=c.vertical,f=qr(a[0],u),p=qr(l[0],d),h=Math.abs(f),v=Math.abs(p);return{horizontal:{isBound:a[0].isBound,isSnap:u.isSnap,snapIndex:u.index,offset:f,dist:h,bounds:a,snap:u},vertical:{isBound:l[0].isBound,isSnap:d.isSnap,snapIndex:d.index,offset:p,dist:v,bounds:l,snap:d}}}function rl(e,r){return e.isBound?e.offset:r.isSnap?r.offset:0}function Ci(e){var r=e.state,t=r.snapOffset,n=r.containerClientRect,i=n.overflow,o=n.scrollHeight,a=n.scrollWidth,l=n.clientHeight,c=n.clientWidth,u=n.clientLeft,d=n.clientTop,f=e.props,p=f.snapGap,h=void 0===p||p,v=f.verticalGuidelines,g=f.horizontalGuidelines,m=f.snapThreshold,C=void 0===m?5:m,x=f.snapGridWidth,_=void 0===x?0:x,b=f.snapGridHeight,y=void 0===b?0:b,w=f.maxSnapElementGuidelineDistance,S=void 0===w?1/0:w,A=Gt(kt(e.state)),M=A.top,E=A.left,k=A.bottom,T=A.right,O={top:M,left:E,bottom:k,right:T,center:(E+T)/2,middle:(M+k)/2},P=L([],function(e){var r=e.state,t=e.props.elementGuidelines,n=void 0===t?[]:t;if(!n.length)return r.elementRects=[],[];var i=(r.elementRects||[]).filter(function(p){return!p.refresh}),o=n.map(function(p){return Zt(p)&&"element"in p?D(D({},p),{element:cr(p.element,!0)}):{element:cr(p,!0)}}).filter(function(p){return p.element}),a=function(e,r){return hr(e,r,Xa)}(i.map(function(p){return p.element}),o.map(function(p){return p.element})),c=a.added,u=[];a.maintained.forEach(function(p){u[p[1]]=i[p[0]]}),function(e,r){if(!r.length)return[];var t=e.state,i=t.targetClientRect,o=i.top,a=i.left,l=t.rootMatrix,u=t.is3d?4:3,d=function(e,r,t){var n=St(e,[r.clientLeft,r.clientTop],t);return[r.left+n[0],r.top+n[1]]}(l,t.containerClientRect,u),f=d[0],p=d[1],v=br(kt(t)),C=X([v.minX,v.minY],Re(l,[a-f,o-p],u)).map(function(b){return function(e){return Math.round(e%1==-.5?e-1:e)}(b)}),x=C[0],_=C[1];return r.map(function(b){var y=b.element.getBoundingClientRect(),w=y.left-f,S=y.top-p,A=S+y.height,M=w+y.width,E=Re(l,[w,S],u),k=E[0],T=E[1],O=Re(l,[M,A],u),R=O[0],P=O[1];return D(D({},b),{rect:{left:k+x,right:R+x,top:T+_,bottom:P+_,center:(k+R)/2+x,middle:(T+P)/2+_}})})}(e,c.map(function(p){return o[p]})).map(function(p,h){u[c[h]]=p}),r.elementRects=u;var d=ui(e.props.elementSnapDirections),f=[];return u.forEach(function(p){var h=p.element,v=p.top,m=p.left,x=p.right,b=p.bottom,w=p.center,A=p.middle,E=p.className,k=p.rect,T=pi({top:void 0===v?d.top:v,right:void 0===x?d.right:x,left:void 0===m?d.left:m,bottom:void 0===b?d.bottom:b,center:void 0===w?d.center:w,middle:void 0===A?d.middle:A},k),O=T.horizontal,P=k.top,z=k.left,N=k.right-z,q=k.bottom-P,I=[N,q];T.vertical.forEach(function(G){f.push({type:"vertical",element:h,pos:[j(G,.1),P],size:q,sizes:I,className:E,elementRect:p})}),O.forEach(function(G){f.push({type:"horizontal",element:h,pos:[z,j(G,.1)],size:N,sizes:I,className:E,elementRect:p})})}),f}(e),!0);return h&&P.push.apply(P,function(e,r,t){var n=e.props,i=n.maxSnapElementGuidelineDistance,o=void 0===i?1/0:i,a=n.maxSnapElementGapDistance,l=void 0===a?1/0:a,c=e.state.elementRects,u=[];return[["vertical",oe,ae],["horizontal",ae,oe]].forEach(function(d){var f=d[0],p=d[1],h=d[2],v=r[p.start],g=r[p.end],m=r[p.center],C=r[h.start],x=r[h.end];function _(w){var S=w.rect;return S[p.end]<v+t?v-S[p.end]:g-t<S[p.start]?S[p.start]-g:-1}var b=c.filter(function(w){var S=w.rect;return!(S[h.start]>x||S[h.end]<C)&&_(w)>0}).sort(function(w,S){return _(w)-_(S)}),y=[];b.forEach(function(w){b.forEach(function(S){if(w!==S){var A=w.rect,M=S.rect;A[h.start]>M[h.end]||M[h.start]>A[h.end]||y.push([w,S])}})}),y.forEach(function(w){var S=w[0],A=w[1],M=S.rect,E=A.rect,k=M[p.start],T=M[p.end],O=E[p.start],R=E[p.end],P=0,z=0,N=!1,q=!1,I=!1;if(T<=v&&g<=O){if(q=!0,z=T+(P=(O-T-(g-v))/2)+(g-v)/2,Math.abs(z-m)>t)return}else if(T<O&&R<v+t){if(N=!0,z=R+(P=O-T),Math.abs(z-v)>t)return}else{if(!(T<O&&g-t<k))return;if(I=!0,z=k-(P=O-T),Math.abs(z-g)>t)return}!P||!nl(r,E,f,o)||P>l||u.push({type:f,pos:"vertical"===f?[z,0]:[0,z],element:A.element,size:0,className:A.className,isStart:N,isCenter:q,isEnd:I,gap:P,hide:!0,gapRects:[S,A]})})}),u}(e,O,C)),P.push.apply(P,function(e,r,t,n,i,o){void 0===i&&(i=0),void 0===o&&(o=0);var a=[];if(r)for(var l=0;l<=n;l+=r)a.push({type:"horizontal",pos:[0,j(l-o,.1)],size:t,hide:!0});if(e)for(l=0;l<=t;l+=e)a.push({type:"vertical",pos:[j(l-i,.1),0],size:n,hide:!0});return a}(_,y,i?a:c,i?o:l,u,d)),P.push.apply(P,il(g||!1,v||!1,i?a:c,i?o:l,u,d,t)),P.filter(function(z){var q=z.elementRect;return!z.element||!q||nl(O,q.rect,z.type,S)})}function nl(e,r,t,n){return"horizontal"===t?Math.abs(e.right-r.left)<=n||Math.abs(e.left-r.right)<=n||e.left<=r.right&&r.left<=e.right:"vertical"!==t||Math.abs(e.bottom-r.top)<=n||Math.abs(e.top-r.bottom)<=n||e.top<=r.bottom&&r.top<=e.bottom}function il(e,r,t,n,i,o,a){void 0===i&&(i=0),void 0===o&&(o=0),void 0===a&&(a={left:0,top:0,right:0,bottom:0});var l=[],c=a.left,u=a.top,p=t+a.right-c,h=n+a.bottom-u;return e&&e.forEach(function(v){var g=Zt(v)?v:{pos:v};l.push({type:"horizontal",pos:[c,j(g.pos-o+u,.1)],size:p,className:g.className})}),r&&r.forEach(function(v){var g=Zt(v)?v:{pos:v};l.push({type:"vertical",pos:[j(g.pos-i+c,.1),u],size:h,className:g.className})}),l}function xi(e){var r=e.state;if(!r.guidelines||!r.guidelines.length){var t=e.state.container,n=e.props.snapContainer||t,i=r.containerClientRect,o={left:0,top:0,bottom:0,right:0};if(t!==n){var a=cr(n,!0);if(a){var l=sr(a),c=Zs(r,[l.left-i.left,l.top-i.top]),u=Zs(r,[l.right-i.right,l.bottom-i.bottom]);o.left=j(c[0],1e-5),o.top=j(c[1],1e-5),o.right=j(u[0],1e-5),o.bottom=j(u[1],1e-5)}}r.snapOffset=o,r.guidelines=Ci(e),r.enableSnap=!0}}function ol(e,r,t,n,i,o){var a=_e(e,r,t,o?4:3);return oi(a,X(i,gt(a,n)))}function Id(e,r,t,n,i,o){var l=function(e,r,t){var n=[];if(t)1!==Math.abs(r[0])||1!==Math.abs(r[1])?n.push([r,[-1,-1]],[r,[-1,1]],[r,[1,-1]],[r,[1,1]]):n.push([r,[e[0],-e[1]]],[r,[-e[0],e[1]]]),n.push([r,e]);else if(e[0]&&e[1]||!e[0]&&!e[1]){var i=e[0]?e:[1,1];[1,-1].forEach(function(a){[1,-1].forEach(function(l){var c=[a*i[0],l*i[1]];r[0]===c[0]&&r[1]===c[1]||n.push([r,c])})})}else e[0]?(1===Math.abs(r[0])?[1]:[1,-1]).forEach(function(a){n.push([[r[0],-1],[a*e[0],-1]],[[r[0],0],[a*e[0],0]],[[r[0],1],[a*e[0],1]])}):e[1]&&(1===Math.abs(r[1])?[1]:[1,-1]).forEach(function(l){n.push([[-1,r[1]],[-1,l*e[1]]],[[0,r[1]],[0,l*e[1]]],[[1,r[1]],[1,l*e[1]]])});return n}(t,o.fixedDirection,n),c=hi(e,r,t,n),u=L(L([],function(e,r,t,n,i,o){return t.map(function(a){var l=a[0],c=a[1],u=gt(r,l),d=gt(r,c),f=n?function(e,r,t,n){var i=function(e,r,t){var n=Fr(e),i=n.left,o=n.top,a=n.right,l=n.bottom,c=t[0],u=t[1],d=X(t,r),f=d[0],p=d[1];Math.abs(f)<Tt&&(f=0),Math.abs(p)<Tt&&(p=0);var h=p>0,v=f>0,g={isBound:!1,offset:0,pos:0},m={isBound:!1,offset:0,pos:0};if(0===f&&0===p)return{vertical:g,horizontal:m};if(0===f)h?l<u&&(m.pos=l,m.offset=u-l):o>u&&(m.pos=o,m.offset=u-o);else if(0===p)v?a<c&&(g.pos=a,g.offset=c-a):i>c&&(g.pos=i,g.offset=c-i);else{var C=p/f,x=t[1]-C*c,_=0,b=0,y=!1;v&&a<=c?(_=C*a+x,b=a,y=!0):!v&&c<=i&&(_=C*i+x,b=i,y=!0),y&&(_<o||_>l)&&(y=!1),y||(h&&l<=u?(b=((_=l)-x)/C,y=!0):!h&&u<=o&&(b=((_=o)-x)/C,y=!0)),y&&(g.isBound=!0,g.pos=b,g.offset=c-b,m.isBound=!0,m.pos=_,m.offset=u-_)}return{vertical:g,horizontal:m}}(e,r,t),o=i.horizontal,a=i.vertical,l=n?{horizontal:{isSnap:!1},vertical:{isSnap:!1}}:function(e,r,t){var n=t[0],i=t[1],o=r[0],a=r[1],l=X(t,r),c=l[0],u=l[1],d=u>0,f=c>0;c=Gr(c),u=Gr(u);var p={isSnap:!1,offset:0,pos:0},h={isSnap:!1,offset:0,pos:0};if(0===c&&0===u)return{vertical:p,horizontal:h};var v=Nr(e,c?[n]:[],u?[i]:[]),g=v.vertical,m=v.horizontal;g.posInfos.filter(function(R){var P=R.pos;return f?P>=o:P<=o}),m.posInfos.filter(function(R){var P=R.pos;return d?P>=a:P<=a}),g.isSnap=g.posInfos.length>0,m.isSnap=m.posInfos.length>0;var C=fi(g),x=C.isSnap,_=C.guideline,b=fi(m),y=b.isSnap,w=b.guideline,S=y?w.pos[1]:0,A=x?_.pos[0]:0;if(0===c)y&&(h.isSnap=!0,h.pos=w.pos[1],h.offset=i-h.pos);else if(0===u)x&&(p.isSnap=!0,p.pos=A,p.offset=n-A);else{var M=u/c,E=t[1]-M*n,k=0,T=0,O=!1;x?(k=M*(T=A)+E,O=!0):y&&(T=((k=S)-E)/M,O=!0),O&&(p.isSnap=!0,p.pos=T,p.offset=n-T,h.isSnap=!0,h.pos=k,h.offset=i-k)}return{vertical:p,horizontal:h}}(e,r,t),c=l.horizontal,u=l.vertical,d=rl(o,c),f=rl(a,u),p=Math.abs(d),h=Math.abs(f);return{horizontal:{isBound:o.isBound,isSnap:c.isSnap,offset:d,dist:p},vertical:{isBound:a.isBound,isSnap:u.isSnap,offset:f,dist:h}}}(e,u,d,i):Vr(e,i,{vertical:[d[0]],horizontal:[d[1]]}),p=f.horizontal,h=p.offset,v=p.isBound,g=p.isSnap,m=f.vertical,C=m.offset,x=m.isBound,_=m.isSnap,b=X(c,l);if(!C&&!h)return{isBound:x||v,isSnap:_||g,sign:b,offset:[0,0]};var y=function(e,r,t,n){var i=vt(e,r)/Math.PI*180,o=t.vertical,u=t.horizontal,h=i%180,v=h<3||h>177,g=h>87&&h<93;return u.dist<o.dist&&(o.isBound||o.isSnap&&!g&&(!n||!v))?"vertical":!u.isBound&&(!u.isSnap||v||n&&g)?"":"horizontal"}(u,d,f,n);if(!y)return{sign:b,isBound:!1,isSnap:!1,offset:[0,0]};var w="vertical"===y,S=[0,0];return S=(S=n||1!==Math.abs(c[0])||1!==Math.abs(c[1])||l[0]===c[0]||l[1]===c[1]?mi(u,d,-(w?C:h),w,o).offset:Ut({datas:o,distX:-C,distY:-h})).map(function(A,M){return A*(b[M]?2/b[M]:0)}),{sign:b,isBound:w?x:v,isSnap:w?_:g,offset:S}})}(e,r,l,n,i,o),!0),Js(e,c,o),!0),d=Zr(u,0),f=Zr(u,1);return{width:{isBound:d.isBound,offset:d.offset[0]},height:{isBound:f.isBound,offset:f.offset[1]}}}function al(e,r,t,n,i,o,a,l){for(var c=kt(e.state),u=e.props.keepRatio,d=0,f=0,p=0;p<2;++p){var v=Id(e,r(d,f),i,u,a,l),g=v.width,m=v.height,C=g.isBound,x=m.isBound,_=g.offset,b=m.offset;if(1===p&&(C||(_=0),x||(b=0)),0===p&&a&&!C&&!x)return[0,0];if(u){var y=Math.abs(_)*(t?1/t:1),w=Math.abs(b)*(n?1/n:1);(C&&x?y<w:x||!C&&y<w)?_=t*b/n:b=n*_/t}d+=_,f+=b}if(i[0]&&i[1]){var A=function(e,r,t,n,i){var o=[-t[0],-t[1]],a=e.state,l=a.width,c=a.height,u=e.props.bounds,d=1/0,f=1/0;if(u){var h=u.left,v=void 0===h?-1/0:h,g=u.top,m=void 0===g?-1/0:g,C=u.right,x=void 0===C?1/0:C,_=u.bottom,b=void 0===_?1/0:_;[[t[0],-t[1]],[-t[0],t[1]]].forEach(function(y){var w=y[0]!==o[0],S=y[1]!==o[1],A=gt(r,y),M=360*vt(n,A)/Math.PI;if(S){var E=A.slice();(Math.abs(M-360)<2||Math.abs(M-180)<2)&&(E[1]=n[1]);var k=mi(n,E,(n[1]<A[1]?b:m)-A[1],!1,i),O=k.offset[1],R=k.isOutside;isNaN(O)||(f=c+(R?1:-1)*Math.abs(O))}if(w){E=A.slice(),(Math.abs(M-90)<2||Math.abs(M-270)<2)&&(E[0]=n[0]);var P=mi(n,E,(n[0]<A[0]?x:v)-A[0],!0,i),z=P.offset[0],N=P.isOutside;isNaN(z)||(d=l+(N?1:-1)*Math.abs(z))}})}return{maxWidth:d,maxHeight:f}}(e,c,i,o,l),M=A.maxWidth,E=A.maxHeight,k=function(e,r,t,n,i,o,a,l,c){var u=gt(r,a),d=Vr(e,l,{vertical:[u[0]],horizontal:[u[1]]}),f=d.horizontal.offset,p=d.vertical.offset;if(p||f){var h=Ut({datas:c,distX:-p,distY:-f}),g=h[1];return[Math.min(i||1/0,t+a[0]*h[0])-t,Math.min(o||1/0,n+a[1]*g)-n]}return[0,0]}(e,r(d,f).map(function(R){return R.map(function(P){return j(P,1e-4)})}),t+d,n+f,M,E,i,a,l);d+=_=k[0],f+=b=k[1]}return[d,f]}function sl(e){var r=[];return e.forEach(function(t){t.guidelineInfos.forEach(function(n){var i=n.guideline;r.indexOf(i)>-1||r.push(i)})}),r}function ll(e,r,t,n,i,o){var a=vi(Fr(e,o),r,t),c=a.horizontal;a.vertical.forEach(function(p){p.isBound&&n.push({type:"bounds",pos:p.pos})}),c.forEach(function(p){p.isBound&&i.push({type:"bounds",pos:p.pos})});var u=function(e){var r=e.props.innerBounds;if(!r)return{vertical:[],horizontal:[]};var t=e.getRect(),l=[t.pos1,t.pos2,t.pos3,t.pos4],c=gt(l,[0,0]),u=r.left,d=r.top,f=r.width,p=r.height,h=[[u,d],[u,d+p]],v=[[u,d],[u+f,d]],g=[[u+f,d],[u+f,d+p]],m=[[u,d+p],[u+f,d+p]],C=hi(e,l,[0,0],!1),x=[],_=[],b={top:!1,bottom:!1,left:!1,right:!1};return C.forEach(function(y){var w=y.line,S=y.lineConstants,A=Ws(c,w),M=A.horizontal,E=A.vertical,k=se(w,S,v,E,1,!0),T=se(w,S,m,E,1,!0),O=se(w,S,h,M,1,!0),R=se(w,S,g,M,1,!0);k.isBound&&!b.top&&(x.push(d),b.top=!0),T.isBound&&!b.bottom&&(x.push(d+p),b.bottom=!0),O.isBound&&!b.left&&(_.push(u),b.left=!0),R.isBound&&!b.right&&(_.push(u+f),b.right=!0)}),{horizontal:x,vertical:_}}(e),f=u.horizontal;u.vertical.forEach(function(p){jt(n,function(h){return"bounds"===h.type&&h.pos===p})>=0||n.push({type:"bounds",pos:p})}),f.forEach(function(p){jt(i,function(h){return"bounds"===h.type&&h.pos===p})>=0||i.push({type:"bounds",pos:p})})}var Fd=li("",["resizable","scalable"]),qd={name:"snappable",dragRelation:"strong",props:{snappable:[Boolean,Array],snapContainer:Object,snapDirections:[Boolean,Object],elementSnapDirections:[Boolean,Object],snapGap:Boolean,snapGridWidth:Number,snapGridHeight:Number,isDisplaySnapDigit:Boolean,isDisplayInnerSnapDigit:Boolean,snapDigit:Number,snapThreshold:Number,horizontalGuidelines:Array,verticalGuidelines:Array,elementGuidelines:Array,bounds:Object,innerBounds:Object,snapDistFormat:Function,maxSnapElementGuidelineDistance:Number,maxSnapElementGapDistance:Number},events:{onSnap:"snap"},css:[":host {\n    --bounds-color: #d66;\n}\n.guideline {\n    pointer-events: none;\n    z-index: 2;\n}\n.guideline.bounds {\n    background: #d66;\n    background: var(--bounds-color);\n}\n.guideline-group {\n    position: absolute;\n    top: 0;\n    left: 0;\n}\n.guideline-group .size-value {\n    position: absolute;\n    color: #f55;\n    font-size: 12px;\n    font-weight: bold;\n}\n.guideline-group.horizontal .size-value {\n    transform-origin: 50% 100%;\n    transform: translateX(-50%);\n    left: 50%;\n    bottom: 5px;\n}\n.guideline-group.vertical .size-value {\n    transform-origin: 0% 50%;\n    top: 50%;\n    transform: translateY(-50%);\n    left: 5px;\n}\n.guideline.gap {\n    background: #f55;\n}\n.size-value.gap {\n    color: #f55;\n}\n"],render:function(e,r){var t=e.state,n=t.top,i=t.left,o=t.pos1,a=t.pos2,l=t.pos3,c=t.pos4,u=t.snapRenderInfo;if(!u||!Ie(e,""))return[];t.guidelines=Ci(e);var d=Math.min(o[0],a[0],l[0],c[0]),f=Math.min(o[1],a[1],l[1],c[1]),p=u.externalPoses||[],h=kt(e.state),v=[],g=[],m=[],C=[],x=[],_=Gt(h),b=_.width,y=_.height,w=_.top,S=_.left,A=_.bottom,M=_.right,E={left:S,right:M,top:w,bottom:A,center:(S+M)/2,middle:(w+A)/2},k=p.length>0,T=k?Gt(p):{};if(!u.request){if(u.direction&&x.push(function(e,r,t){var n=[];if(t[0]&&t[1])n=[t,[-t[0],t[1]],[t[0],-t[1]]].map(function(a){return gt(r,a)});else if(t[0]||t[1])e.props.keepRatio?n=[[-1,-1],[-1,1],[1,-1],[1,1],t].map(function(a){return gt(r,a)}):(n=function(e,r){return _s(r).map(function(t){return e[t]})}(r,t)).length>1&&n.push([(n[0][0]+n[1][0])/2,(n[0][1]+n[1][1])/2]);else for(var i=[r[0],r[1],r[3],r[2],r[0]],o=0;o<4;++o)n.push(i[o]),n.push([(i[o][0]+i[o+1][0])/2,(i[o][1]+i[o+1][1])/2]);return Nr(e,n.map(function(a){return a[0]}),n.map(function(a){return a[1]}),1)}(e,h,u.direction)),u.snap){var O=Gt(h);u.center&&(O.middle=(O.top+O.bottom)/2,O.center=(O.left+O.right)/2),x.push(Ys(e,O,1))}k&&(u.center&&(T.middle=(T.top+T.bottom)/2,T.center=(T.left+T.right)/2),x.push(Ys(e,T,1))),x.forEach(function(N){var q=N.vertical.posInfos,I=N.horizontal.posInfos;v.push.apply(v,q.filter(function(G){return G.guidelineInfos.some(function(Y){return!Y.guideline.hide})}).map(function(G){return{type:"snap",pos:G.pos}})),g.push.apply(g,I.filter(function(G){return G.guidelineInfos.some(function(Y){return!Y.guideline.hide})}).map(function(G){return{type:"snap",pos:G.pos}})),m.push.apply(m,sl(q)),C.push.apply(C,sl(I))})}ll(e,[S,M],[w,A],v,g),k&&ll(e,[T.left,T.right],[T.top,T.bottom],v,g,u.externalBounds);var R=L(L([],m,!0),C,!0),P=R.filter(function(N){return N.element&&!N.gapRects}),z=R.filter(function(N){return N.gapRects}).sort(function(N,q){return N.gap-q.gap});return Z(e,"onSnap",{guidelines:R.filter(function(N){return!N.element}),elements:P,gaps:z},!0),L(L(L(L(L(L([],function(e,r,t,n,i){var o=e.props.isDisplayInnerSnapDigit,a=[];return["vertical","horizontal"].forEach(function(l){var c=r.filter(function(m){return m.type===l}),u="vertical"===l?1:0,d=u?0:1,f=function(e,r,t,n){var i="vertical"===e?0:1,o="vertical"===e?1:0,a=i?oe:ae,l=t[a.start],c=t[a.end];return function(e,r){var t=[],n=[];return e.forEach(function(i,o){var a=r(i),l=n.indexOf(a),c=t[l]||[];-1===l&&(n.push(a),t.push(c)),c.push(i)}),t}(r,function(u){return u.pos[i]}).map(function(u){var d=[],f=[];return u.forEach(function(h){var v,g,m=h.element,C=h.elementRect.rect;if(C[a.end]<l)d.push(h);else if(c<C[a.start])f.push(h);else if(C[a.start]<=l&&c<=C[a.end]&&n){var x=h.pos,_={element:m,rect:D(D({},C),(v={},v[a.end]=C[a.start],v))},b={element:m,rect:D(D({},C),(g={},g[a.start]=C[a.end],g))},y=[0,0],w=[0,0];y[i]=x[i],y[o]=x[o],w[i]=x[i],w[o]=x[o]+h.size,d.push({type:e,pos:y,size:0,elementRect:_}),f.push({type:e,pos:w,size:0,elementRect:b})}}),d.sort(function(h,v){return v.pos[o]-h.pos[o]}),f.sort(function(h,v){return h.pos[o]-v.pos[o]}),{total:u,start:d,end:f,inner:[]}})}(l,c,n,o),p=u?ae:oe,h=u?oe:ae,v=n[p.start],g=n[p.end];f.forEach(function(m){var _=m.end,b=m.inner,y=t[d]+m.total[0].pos[d]-n[h.start],w=n;m.start.forEach(function(S){var A=S.elementRect.rect,M=w[p.start]-A[p.end];if(M>0){var E=[0,0];E[u]=t[u]+w[p.start]-v-M,E[d]=y,a.push(ur(e,l,"dashed",a.length,M,E,S.className,i))}w=A}),w=n,_.forEach(function(S){var A=S.elementRect.rect,M=A[p.start]-w[p.end];if(M>0){var E=[0,0];E[u]=t[u]+w[p.end]-v,E[d]=y,a.push(ur(e,l,"dashed",a.length,M,E,S.className,i))}w=A}),b.forEach(function(S){var A=S.elementRect.rect,M=v-A[p.start],E=A[p.end]-g,k=[0,0],T=[0,0];k[u]=t[u]-M,k[d]=y,T[u]=t[u]+g-v,T[d]=y,a.push(ur(e,l,"dashed",a.length,M,k,S.className,i)),a.push(ur(e,l,"dashed",a.length,E,T,S.className,i))})})}),a}(e,P,[d,f],E,r),!0),function(e,r,t,n,i){var o=[];return["horizontal","vertical"].forEach(function(a){var l=r.filter(function(m){return m.type===a}).slice(0,1),c="vertical"===a?0:1,u=c?0:1,d=c?ae:oe,f=c?oe:ae,p=n[d.start],h=n[d.end],v=n[f.start],g=n[f.end];l.forEach(function(m){var C=m.gap,x=m.gapRects,_=Math.max.apply(Math,L([v],x.map(function(w){return w.rect[f.start]}),!1)),b=Math.min.apply(Math,L([g],x.map(function(w){return w.rect[f.end]}),!1)),y=(_+b)/2;_===b||y===(v+g)/2||x.forEach(function(w){var S=w.rect,A=w.className,M=[t[0],t[1]];if(S[d.end]<p)M[c]+=S[d.end]-p;else{if(!(h<S[d.start]))return;M[c]+=S[d.start]-p-C}M[u]+=y-v,o.push(ur(e,c?"vertical":"horizontal","gap",o.length,C,M,A,i))})})}),o}(e,z,[d,f],E,r),!0),tl(e,"horizontal",C,[i,n],E,r),!0),tl(e,"vertical",m,[i,n],E,r),!0),$s(e,"horizontal",g,d,n,b,0,r),!0),$s(e,"vertical",v,f,i,y,1,r),!0)},dragStart:function(e,r){e.state.snapRenderInfo={request:r.isRequest,snap:!0,center:!0},xi(e)},drag:function(e){e.state.guidelines=Ci(e)},pinchStart:function(e){this.unset(e)},dragEnd:function(e){this.unset(e)},dragControlCondition:function(e,r){return!(!Fd(e,r)&&!yi(e,r))||(!r.isRequest&&r.inputEvent?bt(r.inputEvent.target,V("snap-control")):void 0)},dragControlStart:function(e){e.state.snapRenderInfo=null,xi(e)},dragControl:function(e){this.drag(e)},dragControlEnd:function(e){this.unset(e)},dragGroupStart:function(e,r){this.dragStart(e,r)},dragGroup:function(e){this.drag(e)},dragGroupEnd:function(e){this.unset(e)},dragGroupControlStart:function(e){e.state.snapRenderInfo=null,xi(e)},dragGroupControl:function(e){this.drag(e)},dragGroupControlEnd:function(e){this.unset(e)},unset:function(e){var r=e.state;r.enableSnap=!1,r.guidelines=[],r.snapRenderInfo=null,r.elementRects=[]}};function cl(e,r,t,n){var i=e.state,o=i.renderPoses,a=i.rotation,l=i.direction,c=be(e.props,r).zoom,u=l>0?1:-1,d=a/Math.PI*180,f={},p=e.renderState;p.renderDirectionMap||(p.renderDirectionMap={});var h=p.renderDirectionMap;return t.forEach(function(v){f[v.dir]=!0}),t.map(function(v){var g=v.data,m=v.classNames,C=v.dir,x=jn[C];if(!x||!f[C])return null;h[C]=!0;var _=(j(d,15)+u*vs[C]+720)%180,b={};return ye(g).forEach(function(y){b["data-".concat(y)]=g[y]}),n.createElement("div",D({className:V.apply(void 0,L(["control","direction",C,r],m,!1)),"data-rotation":_,"data-direction":C},b,{key:"direction-".concat(C),style:ni.apply(void 0,L([a,c],x.map(function(y){return o[y]}),!1))}))})}function ul(e,r,t,n){var i=be(e.props,t).renderDirections,o=void 0===i?r:i;return o?cl(e,t,(!0===o?Jn:o).map(function(l){return{data:{},classNames:[],dir:l}}),n):[]}function Yr(e,r,t,n,i,o){for(var a=[],l=6;l<arguments.length;l++)a[l-6]=arguments[l];var c=vt(t,n),u=r?j(c/Math.PI*180,15)%180:-1;return e.createElement("div",{key:"line".concat(o),className:V.apply(void 0,L(["line","direction",r?"edge":"",r],a,!1)),"data-rotation":u,"data-line-index":o,"data-direction":r,style:ar(t,n,i,c)})}function pl(e,r,t,n,i){return(!0===t?xf:t).map(function(a,l){var c=jn[a],d=c[1];if(null!=d)return Yr(e,a,n[c[0]],n[d],i,"".concat(r,"Edge").concat(l),r)}).filter(Boolean)}function fl(e){return function(r,t){var n=be(r.props,e).edge;return n&&(!0===n||n.length)?L(L([],pl(t,e,n,r.state.renderPoses,r.props.zoom),!0),function(e,r,t){return ul(e,["nw","ne","sw","se"],r,t)}(r,e,t),!0):dl(r,e,t)}}function dl(e,r,t){return ul(e,Jn,r,t)}var Dt={name:"draggable",props:{draggable:Boolean,throttleDrag:Number,throttleDragRotate:Number,startDragRotate:Number,edgeDraggable:Boolean},events:{onDragStart:"dragStart",onDrag:"drag",onDragEnd:"dragEnd",onDragGroupStart:"dragGroupStart",onDragGroup:"dragGroup",onDragGroupEnd:"dragGroupEnd"},render:function(e,r){var t=e.props,i=t.zoom,o=e.state,a=o.dragInfo,l=o.beforeOrigin;if(!t.throttleDragRotate||!a)return[];var c=a.dist;if(!c[0]&&!c[1])return[];var u=Vt(c),d=vt(c,[0,0]);return[r.createElement("div",{className:V("line","horizontal","dragline","dashed"),key:"dragRotateGuideline",style:{width:"".concat(u,"px"),transform:"translate(".concat(l[0],"px, ").concat(l[1],"px) rotate(").concat(d,"rad) scaleY(").concat(i,")")}})]},dragStart:function(e,r){var t=r.datas,n=r.parentEvent,o=e.state,a=o.target,l=o.gestos;if(l.draggable)return!1;l.draggable=r.parentGesto||e.targetGesto;var c=Nt(a);t.datas={},t.left=parseFloat(c.left||"")||0,t.top=parseFloat(c.top||"")||0,t.bottom=parseFloat(c.bottom||"")||0,t.right=parseFloat(c.right||"")||0,t.startValue=[0,0],xe(e,r),Or(r,"translate"),function(e,r){r.absolutePoses=kt(e.state)}(e,t),t.prevDist=[0,0],t.prevBeforeDist=[0,0],t.isDrag=!1,t.deltaOffset=[0,0];var u=U(e,r,D({set:function(f){t.startValue=f}},Dr(r)));return!1!==(n||Z(e,"onDragStart",u))?(t.isDrag=!0,e.state.dragInfo={startRect:e.getRect(),dist:[0,0]}):(l.draggable=null,t.isPinch=!1),!!t.isDrag&&u},drag:function(e,r){if(r){Ar(r,"translate");var t=r.datas,n=r.parentEvent,i=r.parentFlag,o=r.isPinch,a=r.isRequest,l=r.deltaOffset,c=r.distX,u=r.distY,f=t.prevDist,p=t.prevBeforeDist,h=t.startValue;if(t.isDrag){l&&(c+=l[0],u+=l[1]);var v=e.props,g=v.parentMoveable,m=n?0:v.throttleDrag||0,C=n?0:v.throttleDragRotate||0,x=!1,_=0;if(!n&&C>0&&(c||u)){var b=v.startDragRotate||0,y=j(b+180*vt([0,0],[c,u])/Math.PI,C)-b,w=u*Math.abs(Math.cos((y-90)/180*Math.PI)),A=Vt([c*Math.abs(Math.cos(y/180*Math.PI)),w]);_=y*Math.PI/180,c=A*Math.cos(_),u=A*Math.sin(_)}if(!o&&!n&&!i&&(!C||c||u)){var M=Md(e,c,u,C,a||l,t),E=M[0],k=M[1];x=E.isSnap||k.isSnap||E.isBound||k.isBound,c+=E.offset,u+=k.offset}var q=Q(xs({datas:t,distX:c,distY:u}),h),I=Q(function(e){var r=e.datas,i=xs({datas:r,distX:e.distX,distY:e.distY});return Mt(Cs(r,function(e,r){for(var t=ft(4),n=0;n<3;++n)t[12+n]=e[n]||0;return t}([i[0],i[1]])),ve([0,0,0],4),4)}({datas:t,distX:c,distY:u}),h);!C&&!x&&(Cr(I,m),Cr(q,m)),Cr(I,Tt),Cr(q,Tt);var G=X(q,h),F=X(I,h),Y=X(F,f),rt=X(G,p);t.prevDist=F,t.prevBeforeDist=G,t.passDelta=Y,t.passDist=F;var J=t.left+G[0],tt=t.top+G[1],$=t.right-G[0],it=t.bottom-G[1],ut=Tr(t,"translate(".concat(I[0],"px, ").concat(I[1],"px)"),"translate(".concat(F[0],"px, ").concat(F[1],"px)"));if(Qn(r,ut),e.state.dragInfo.dist=n?[0,0]:F,n||g||!Y.every(function(K){return!K})||!rt.some(function(K){return!K})){var ot=e.state,_t=U(e,r,D({transform:ut,dist:F,delta:Y,translate:I,beforeDist:G,beforeDelta:rt,beforeTranslate:q,left:J,top:tt,right:$,bottom:it,width:ot.width,height:ot.height,isPinch:o},lr({transform:ut},r)));return!n&&Z(e,"onDrag",_t),_t}}}},dragAfter:function(e,r){var t=r.datas,n=t.deltaOffset;return!(!n[0]&&!n[1])&&(t.deltaOffset=[0,0],this.drag(e,D(D({},r),{deltaOffset:n})))},dragEnd:function(e,r){var t=r.parentEvent,n=r.datas;if(e.state.dragInfo=null,n.isDrag){n.isDrag=!1;var i=It(e,r,{});return!t&&Z(e,"onDragEnd",i),i}},dragGroupStart:function(e,r){var t=r.datas,n=r.clientX,i=r.clientY,o=this.dragStart(e,r);if(!o)return!1;var a=ci(e,this,"dragStart",[n||0,i||0],r,!1,"draggable"),c=Z(e,"onDragGroupStart",D(D({},o),{targets:e.props.targets,events:a}));return t.isDrag=!1!==c,!!t.isDrag&&o},dragGroup:function(e,r){if(r.datas.isDrag){var n=this.drag(e,r),o=ci(e,this,"drag",r.datas.passDelta,r,!1,"draggable");if(n){var a=D({targets:e.props.targets,events:o},n);return Z(e,"onDragGroup",a),a}}},dragGroupEnd:function(e,r){var t=r.isDrag;if(r.datas.isDrag){this.dragEnd(e,r);var i=ci(e,this,"dragEnd",[0,0],r,!1,"draggable");return Z(e,"onDragGroupEnd",It(e,r,{targets:e.props.targets,events:i})),t}},request:function(e){var r={},t=e.getRect(),n=0,i=0;return{isControl:!1,requestStart:function(){return{datas:r}},request:function(o){return"x"in o?n=o.x-t.left:"deltaX"in o&&(n+=o.deltaX),"y"in o?i=o.y-t.top:"deltaY"in o&&(i+=o.deltaY),{datas:r,distX:n,distY:i}},requestEnd:function(){return{datas:r,isDrag:!0}}}},unset:function(e){e.state.gestos.draggable=null,e.state.dragInfo=null}},hl=li("resizable"),_i={name:"resizable",ableGroup:"size",canPinch:!0,props:{resizable:Boolean,throttleResize:Number,renderDirections:Array,keepRatio:Boolean,resizeFormat:Function,keepRatioFinally:Boolean,edge:Boolean},events:{onResizeStart:"resizeStart",onBeforeResize:"beforeResize",onResize:"resize",onResizeEnd:"resizeEnd",onResizeGroupStart:"resizeGroupStart",onBeforeResizeGroup:"beforeResizeGroup",onResizeGroup:"resizeGroup",onResizeGroupEnd:"resizeGroupEnd"},render:fl("resizable"),dragControlCondition:hl,dragControlStart:function(e,r){var t,i=r.isPinch,o=r.isGroup,l=r.parentGesto,c=r.datas,u=r.parentFixedDirection,d=r.parentEvent,f=r.parentDirection||(i?[0,0]:ii(r.inputEvent.target)),p=e.state,v=p.width,g=p.height,m=p.gestos;if(!f||!p.target||m.resizable)return!1;m.resizable=l||e.controlGesto,!i&&xe(e,r),c.datas={},c.direction=f,c.startOffsetWidth=v,c.startOffsetHeight=g,c.prevWidth=0,c.prevHeight=0,c.minSize=[0,0],c.startWidth=p.cssWidth,c.startHeight=p.cssHeight,c.maxSize=[1/0,1/0],o||(c.minSize=[p.minOffsetWidth,p.minOffsetHeight],c.maxSize=[p.maxOffsetWidth,p.maxOffsetHeight]);var C=e.props.transformOrigin||"% %";function x(A){c.ratio=A&&isFinite(A)?A:0}function _(A){c.fixedDirection=A,c.fixedPosition=gt(c.startPositions,A)}function b(A){c.minSize=[pt("".concat(A[0]),0)||0,pt("".concat(A[1]),0)||0]}function y(A){var M=[A[0]||1/0,A[1]||1/0];(!nn(M[0])||isFinite(M[0]))&&(M[0]=pt("".concat(M[0]),0)||1/0),(!nn(M[1])||isFinite(M[1]))&&(M[1]=pt("".concat(M[1]),0)||1/0),c.maxSize=M}c.transformOrigin=C&&Bt(C)?C.split(" "):C,c.startOffsetMatrix=p.offsetMatrix,c.startTransformOrigin=p.transformOrigin,c.isWidth=null!==(t=null==r?void 0:r.parentIsWidth)&&void 0!==t?t:!f[0]&&!f[1]||f[0]||!f[1],c.startPositions=kt(e.state),x(v/g),_(u||[-f[0],-f[1]]),c.setFixedDirection=_,c.setMin=b,c.setMax=y;var w=U(e,r,{direction:f,startRatio:c.ratio,set:function(A){var E=A[1];c.startWidth=A[0],c.startHeight=E},setMin:b,setMax:y,setRatio:x,setFixedDirection:_,setOrigin:function(A){c.transformOrigin=A},dragStart:Dt.dragStart(e,(new De).dragStart([0,0],r))}),S=d||Z(e,"onResizeStart",w);return c.startFixedDirection=c.fixedDirection,!1!==S&&(c.isResize=!0,e.state.snapRenderInfo={request:r.isRequest,direction:f}),!!c.isResize&&w},dragControl:function(e,r){var t,n=r.datas,i=r.parentFlag,o=r.isPinch,a=r.parentKeepRatio,l=r.dragClient,c=r.parentDist,u=r.isRequest,d=r.isGroup,f=r.parentEvent,v=n.transformOrigin,g=n.startWidth,m=n.startHeight,C=n.prevWidth,x=n.prevHeight,_=n.minSize,b=n.maxSize,y=n.ratio,w=n.startOffsetWidth,S=n.startOffsetHeight,A=n.isWidth;if(n.isResize){if(r.resolveMatrix){var E=n.startOffsetMatrix,k=n.startTransformOrigin,T=e.state.is3d?4:3,O=Ke(bs(r)),R=Math.sqrt(O.length);T!==R&&(O=Xt(O,R,T));var P=or(E,O,k,T),z=_e(P,w,S,T);n.startPositions=z,n.nextTargetMatrix=O,n.nextAllMatrix=P}var N=be(e.props,"resizable"),q=N.resizeFormat,I=N.throttleResize,G=void 0===I?i?0:1:I,F=N.parentMoveable,Y=N.keepRatioFinally,rt=n.direction,J=rt,tt=0,$=0;!rt[0]&&!rt[1]&&(J=[1,1]);var it=y&&(null!=a?a:N.keepRatio)||!1,ot=ut(),W=ot[0],H=ot[1];f||(n.setFixedDirection(n.fixedDirection),Z(e,"onBeforeResize",U(e,r,{startFixedDirection:n.startFixedDirection,setFixedDirection:function(mt){var Ht;return n.setFixedDirection(mt),Ht=ut(),[W=Ht[0],H=Ht[1]]},boundingWidth:W,boundingHeight:H,setSize:function(mt){W=mt[0],H=mt[1]}},!0)));var _t=l;l||(_t=!i&&o?As(e,[0,0]):n.fixedPosition);var K=[0,0];if(o||(K=function(e,r,t,n,i,o,a){if(!Ie(e,"resizable"))return[0,0];var l=a.fixedDirection,c=a.nextAllMatrix,u=e.state,d=u.allMatrix,f=u.is3d;return al(e,function(p,h){return ol(c||d,r+p,t+h,l,i,f)},r,t,n,i,o,a)}(e,W,H,rt,_t,u,n)),c&&(!c[0]&&(K[0]=0),!c[1]&&(K[1]=0)),it){J[0]&&J[1]&&K[0]&&K[1]&&(Math.abs(K[0])>Math.abs(K[1])?K[1]=0:K[0]=0);var et=!K[0]&&!K[1];et&&at(),J[0]&&!J[1]||K[0]&&!K[1]||et&&A?H=(W+=K[0])/y:(!J[0]&&J[1]||!K[0]&&K[1]||et&&!A)&&(W=(H+=K[1])*y)}else W+=K[0],H+=K[1],W=Math.max(0,W),H=Math.max(0,H);t=function(e,r,t,n){if(!n)return e.map(function(h,v){return ln(h,r[v],t[v])});var i=e[0],o=e[1],a=!0===n?i/o:n,l=ba(e,r,!1,a),c=l[0],u=l[1],d=ba(e,t,!0,a),f=d[0],p=d[1];return i<c||o<u?(i=c,o=u):(i>f||o>p)&&(i=f,o=p),[i,o]}([W,H],_,b,!!it&&y),W=t[0],H=t[1],at(),it&&(d||Y)&&(A?H=W/y:W=H*y);var dt=[(tt=W-w)-C,($=H-S)-x];n.prevWidth=tt,n.prevHeight=$;var ht=function(e,r,t,n,i,o){var a=e.props.groupable,l=e.state,u=l.offsetMatrix,h=l.left,v=l.top,g=o.fixedDirection,m=o.nextTargetMatrix||l.targetMatrix,C=l.is3d?4:3,x=function(e,r,t,n,i,o){return void 0===n&&(n=r),void 0===i&&(i=t),void 0===o&&(o=[0,0]),e?e.map(function(a,l){var c=He(a),u=c.value,d=c.unit,f=l?i:n,p=l?t:r;return"%"===a||isNaN(u)?p*(f?o[l]/f:0):"%"!==d?u:p*u/100}):o}(i,r,t,l.width,l.height,l.transformOrigin),_=a?h:0,b=a?v:0;return X(function(e,r,t,n,i,o){var l=gt(_e(r,t,n,i),o);return[e[0]-l[0],e[1]-l[1]]}(n,or(u,m,x,C),r,t,C,g),[_,b])}(e,W,H,_t,v,n);if(F||!dt.every(function(mt){return!mt})||!ht.every(function(mt){return!mt})){var ct=Dt.drag(e,ir(r,e.state,ht,!!o,!1,"draggable")),nt=ct.transform,Pt=g+tt,ce=m+$,Kr=U(e,r,D({width:Pt,height:ce,offsetWidth:Math.round(W),offsetHeight:Math.round(H),startRatio:y,boundingWidth:W,boundingHeight:H,direction:rt,dist:[tt,$],delta:dt,isPinch:!!o,drag:ct},zs({style:{width:"".concat(Pt,"px"),height:"".concat(ce,"px")},transform:nt},ct,r)));return!f&&Z(e,"onResize",Kr),Kr}}function ut(){var mt=n.fixedDirection,Ht=qs(J,it,n,r);tt=Ht.distWidth,$=Ht.distHeight;var Ge=J[0]-mt[0]||it?Math.max(w+tt,Tt):w,Ne=J[1]-mt[1]||it?Math.max(S+$,Tt):S;return it&&w&&S&&(A?Ne=Ge/y:Ge=Ne*y),[Ge,Ne]}function at(){var mt;q&&(mt=q([W,H]),W=mt[0],H=mt[1]),W=j(W,G),H=j(H,G)}},dragControlAfter:function(e,r){var t=r.datas;if(t.isResize){var c=e.state,f=c.width-(t.startOffsetWidth+t.prevWidth),p=c.height-(t.startOffsetHeight+t.prevHeight),h=Math.abs(f)>3,v=Math.abs(p)>3;if(h&&(t.startWidth+=f,t.startOffsetWidth+=f,t.prevWidth+=f),v&&(t.startHeight+=p,t.startOffsetHeight+=p,t.prevHeight+=p),h||v)return this.dragControl(e,r)}},dragControlEnd:function(e,r){var t=r.datas,n=r.parentEvent;if(t.isResize){t.isResize=!1;var i=It(e,r,{});return!n&&Z(e,"onResizeEnd",i),i}},dragGroupControlCondition:hl,dragGroupControlStart:function(e,r){var t=r.datas,n=this.dragControlStart(e,D(D({},r),{isGroup:!0}));if(!n)return!1;var i=ie(e,"resizable",r);function o(v,g){var m=t.fixedDirection,C=t.fixedPosition,_=gt(g.datas.startPositions||kt(v.state),m),b=Mt(Me(-e.rotation/180*Math.PI,3),[_[0]-C[0],_[1]-C[1],1],3),w=b[1];return g.datas.originalX=b[0],g.datas.originalY=w,g}var a=t.startOffsetWidth,l=t.startOffsetHeight;function c(){var v=t.minSize;i.forEach(function(g){var m=g.datas,C=m.minSize,x=m.startOffsetWidth,_=m.startOffsetHeight,y=l*(_?C[1]/_:0);v[0]=Math.max(v[0],a*(x?C[0]/x:0)),v[1]=Math.max(v[1],y)})}function u(){var v=t.maxSize;i.forEach(function(g){var m=g.datas,C=m.maxSize,x=m.startOffsetWidth,_=m.startOffsetHeight,y=l*(_?C[1]/_:0);v[0]=Math.min(v[0],a*(x?C[0]/x:0)),v[1]=Math.min(v[1],y)})}var d=Kt(e,this,"dragControlStart",r,function(v,g){return o(v,g)});c(),u();var f=function(v){n.setFixedDirection(v),d.forEach(function(g,m){g.setFixedDirection(v),o(g.moveable,i[m])})};t.setFixedDirection=f;var p=D(D({},n),{targets:e.props.targets,events:d.map(function(v){return D(D({},v),{setMin:function(g){v.setMin(g),c()},setMax:function(g){v.setMax(g),u()}})}),setFixedDirection:f,setMin:function(v){n.setMin(v),c()},setMax:function(v){n.setMax(v),u()}}),h=Z(e,"onResizeGroupStart",p);return t.isResize=!1!==h,!!t.isResize&&n},dragGroupControl:function(e,r){var t=r.datas;if(t.isResize){var n=be(e.props,"resizable");ai(e,"onBeforeResize",function(h){Z(e,"onBeforeResizeGroup",U(e,r,D(D({},h),{targets:n.targets}),!0))});var i=this.dragControl(e,D(D({},r),{isGroup:!0}));if(i){var o=i.boundingWidth,a=i.boundingHeight,l=i.dist,c=n.keepRatio,u=[o/(o-l[0]),a/(a-l[1])],d=t.fixedPosition,f=Kt(e,this,"dragControl",r,function(h,v){var g=Mt(Me(e.rotation/180*Math.PI,3),[v.datas.originalX*u[0],v.datas.originalY*u[1],1],3),m=g[0],C=g[1];return D(D({},v),{parentDist:null,parentScale:u,dragClient:Q(d,[m,C]),parentKeepRatio:c})}),p=D({targets:n.targets,events:f},i);return Z(e,"onResizeGroup",p),p}}},dragGroupControlEnd:function(e,r){var t=r.isDrag;if(r.datas.isResize){this.dragControlEnd(e,r);var i=Kt(e,this,"dragControlEnd",r);return Z(e,"onResizeGroupEnd",It(e,r,{targets:e.props.targets,events:i})),t}},request:function(e){var r={},t=0,n=0,i=e.getRect();return{isControl:!0,requestStart:function(o){var a;return{datas:r,parentDirection:o.direction||[1,1],parentIsWidth:null===(a=null==o?void 0:o.horizontal)||void 0===a||a}},request:function(o){return"offsetWidth"in o?t=o.offsetWidth-i.offsetWidth:"deltaWidth"in o&&(t+=o.deltaWidth),"offsetHeight"in o?n=o.offsetHeight-i.offsetHeight:"deltaHeight"in o&&(n+=o.deltaHeight),{datas:r,parentDist:[t,n],parentKeepRatio:o.keepRatio}},requestEnd:function(){return{datas:r,isDrag:!0}}}},unset:function(e){e.state.gestos.resizable=null}};function bi(e,r,t,n,i){var a=e.state,l=a.is3d?4:3,c=r.origin,u=St(e.state.rootMatrix,X([c[0],c[1]],e.props.groupable?[0,0]:[a.left,a.top]),l),d=Q([i.left,i.top],u);r.startAbsoluteOrigin=d,r.prevDeg=vt(d,[t,n])/Math.PI*180,r.defaultDeg=r.prevDeg,r.prevSnapDeg=0,r.loop=0,r.startDist=Ft(d,[t,n])}function Hr(e,r,t){var n=t.defaultDeg,i=t.prevDeg,o=i%360,a=Math.floor(i/360);o<0&&(o+=360),o>e&&o>270&&e<90?++a:o<e&&o<90&&e>270&&--a;var l=r*(360*a+e-n);return t.prevDeg=n+l,l}function Si(e,r,t,n){return Hr(vt(n.startAbsoluteOrigin,[e,r])/Math.PI*180,t,n)}function wi(e,r,t,n,i,o){var a=e.props.throttleRotate,l=void 0===a?0:a,c=n,u=t.prevSnapDeg;o&&(c=function(e,r,t,n){if(!Ie(e,"rotatable"))return n;var c=n*Math.PI/180,u=[r.pos1,r.pos2,r.pos3,r.pos4].map(function(p){return X(p,t)}),d=u.map(function(p){return ne(p,c)}),f=L(L([],function(e,r,t,n,i){if(!e.props.bounds)return[];var o=i*Math.PI/180,a=Fr(e),f=a.left-n[0],p=a.right-n[0],h=a.top-n[1],v=a.bottom-n[1],g={left:f,top:h,right:p,bottom:v};if(!Qs(t,g,0))return[];var m=[];return[[f,0],[p,0],[h,1],[v,1]].forEach(function(C){var x=C[0],_=C[1];t.forEach(function(b){var y=vt([0,0],b);m.push.apply(m,function(e,r,t){var n=Vt(e),i=Math.sqrt(n*n-r*r)||0;return[i,-i].sort(function(o,a){return Math.abs(o-e[t?0:1])-Math.abs(a-e[t?0:1])}).map(function(o){return vt([0,0],t?[o,r]:[r,o])})}(b,x,_).map(function(w){return o+w-y}).filter(function(w){return!Qs(r,g,w)}).map(function(w){return j(180*w/Math.PI,Tt)}))})}),m}(e,u,d,t,n),!0),function(e,r,t,n,i){var o=e.props.innerBounds,a=i*Math.PI/180;if(!o)return[];var l=o.left,c=o.top,f=l-n[0],p=l+o.width-n[0],h=c-n[1],v=c+o.height-n[1],g=[[f,h],[p,h],[f,v],[p,v]],m=gt(t,[0,0]);if(!js(t,g,m,0))return[];var C=[],x=g.map(function(_){return[Vt(_),vt([0,0],_)]});return[[t[0],t[1]],[t[1],t[3]],[t[3],t[2]],[t[2],t[0]]].forEach(function(_){var b=vt([0,0],function(e){var r=e[0],t=e[1],n=t[0]-r[0],i=t[1]-r[1];if(!n)return[r[0],0];if(!i)return[0,r[1]];var o=i/n,a=-o*r[0]+r[1];return[-a/(o+1/o),a/(o*o+1)]}(_)),y=function(e){var r=e[0],t=e[1],n=t[0]-r[0],i=t[1]-r[1];if(!n)return Math.abs(r[0]);if(!i)return Math.abs(r[1]);var o=i/n;return Math.abs((-o*r[0]+r[1])/Math.sqrt(Math.pow(o,2)+1))}(_);C.push.apply(C,x.filter(function(w){var S=w[0];return S&&y<=S}).map(function(w){var S=w[0],A=w[1],M=Math.acos(S?y/S:0);return[a+(A+M)-b,a+(A-M)-b]}).reduce(function(w,S){return w.push.apply(w,S),w},[]).filter(function(w){return!js(r,g,m,w)}).map(function(w){return j(180*w/Math.PI,Tt)}))}),C}(e,u,d,t,n),!0);return f.sort(function(p,h){return Math.abs(p-n)-Math.abs(h-n)}),f.length?f[0]:n}(e,r,t.origin,c));var d=j(i+c,l),f=d-i;return t.prevSnapDeg=f,[f-u,c,d]}function yi(e,r){if(r.isRequest)return"rotatable"===r.requestAble;var t=r.inputEvent.target;if(bt(t,V("rotation-control"))||bt(t,V("around-control"))||bt(t,V("control"))&&bt(t,V("rotatable")))return!0;var n=e.props.rotationTarget;return!!n&&Ns(n,!0).some(function(i){return!!i&&(t===i||t.contains(i))})}var Ld=Jn.map(function(e){var r="",t="",n="center",i="center";return e.indexOf("n")>-1&&(r="top: -20px;",i="bottom"),e.indexOf("s")>-1&&(r="top: 0px;",i="top"),e.indexOf("w")>-1&&(t="left: -20px;",n="right"),e.indexOf("e")>-1&&(t="left: 0px;",n="left"),'.around-control[data-direction*="'.concat(e,'"] {\n        ').concat(t).concat(r,"\n        transform-origin: ").concat(n," ").concat(i,";\n    }")}).join("\n"),Wd=".rotation {\n    position: absolute;\n    height: 40px;\n    width: 1px;\n    transform-origin: 50% 100%;\n    height: calc(40px * var(--zoom));\n    top: auto;\n    left: 0;\n    bottom: 100%;\n    will-change: transform;\n}\n.rotation .rotation-line {\n    display: block;\n    width: 100%;\n    height: 100%;\n    transform-origin: 50% 50%;\n}\n.rotation .rotation-control {\n    border-color: #4af;\n    border-color: var(--moveable-color);\n    background:#fff;\n    cursor: alias;\n}\n.rotatable.direction.control {\n    cursor: alias;\n}\n.around-control {\n    position: absolute;\n    will-change: transform;\n    width: 20px;\n    height: 20px;\n    left: -10px;\n    top: -10px;\n    box-sizing: border-box;\n    background: transparent;\n    z-index: 8;\n    cursor: alias;\n    transform-origin: center center;\n}\n.rotatable.direction.control.move {\n    cursor: move;\n}\n".concat(Ld,"\n"),Xd={name:"rotatable",canPinch:!0,props:{rotatable:Boolean,rotationPosition:String,throttleRotate:Number,renderDirections:Object,rotationTarget:Object,rotateAroundControls:Boolean,edge:Boolean,resolveAblesWithRotatable:Object},events:{onRotateStart:"rotateStart",onBeforeRotate:"beforeRotate",onRotate:"rotate",onRotateEnd:"rotateEnd",onRotateGroupStart:"rotateGroupStart",onBeforeRotateGroup:"beforeRotateGroup",onRotateGroup:"rotateGroup",onRotateGroupEnd:"rotateGroupEnd"},css:[Wd],render:function(e,r){var t=be(e.props,"rotatable"),o=t.zoom,a=t.renderDirections,l=t.rotateAroundControls,c=t.resolveAblesWithRotatable,u=e.state;if(!t.rotatable)return null;var p=function(e,r,t){var n=r[0],i=r[1],o=r[2],a=r[3];if("none"!==e){var l=(e||"top").split("-"),c=l[0],u=l[1],d=[n,i];"left"===c?d=[o,n]:"right"===c?d=[i,a]:"bottom"===c&&(d=[a,o]);var f=[(d[0][0]+d[1][0])/2,(d[0][1]+d[1][1])/2],p=Bs(d,t);if(u){var h="top"===u||"left"===u,v="bottom"===c||"left"===c;f=d[h&&!v||!h&&v?0:1]}return[f,p]}}(t.rotationPosition,u.renderPoses,u.direction),h=[];if(p){var v=p[0],g=p[1];h.push(r.createElement("div",{key:"rotation",className:V("rotation"),style:{transform:"translate(-50%) translate(".concat(v[0],"px, ").concat(v[1],"px) rotate(").concat(g,"rad)")}},r.createElement("div",{className:V("line rotation-line"),style:{transform:"scaleX(".concat(o,")")}}),r.createElement("div",{className:V("control rotation-control"),style:{transform:"translate(0.5px) scale(".concat(o,")")}})))}if(a){var m=ye(c||{}),C={};m.forEach(function(_){c[_].forEach(function(b){C[b]=_})});var x=[];$t(a)&&(x=a.map(function(_){var b=C[_];return{data:b?{resolve:b}:{},classNames:b?["move"]:[],dir:_}})),h.push.apply(h,cl(e,"rotatable",x,r))}return l&&h.push.apply(h,function(e,r){var t=e.renderState;t.renderDirectionMap||(t.renderDirectionMap={});var n=e.state,i=n.renderPoses,o=n.rotation,c=e.props.zoom,u=n.direction>0?1:-1,d=o/Math.PI*180;return ye(t.renderDirectionMap).map(function(f){var p=jn[f];if(!p)return null;var h=(j(d,15)+u*vs[f]+720)%180;return r.createElement("div",{className:V("around-control"),"data-rotation":h,"data-direction":f,key:"direction-around-".concat(f),style:ni.apply(void 0,L([o,c],p.map(function(v){return i[v]}),!1))})})}(e,r)),h},dragControlCondition:yi,dragControlStart:function(e,r){var t,n,i=r.datas,o=r.clientX,a=r.clientY,l=r.parentRotate,c=r.parentFlag,u=r.isPinch,d=r.isRequest,f=e.state,h=f.left,v=f.top,g=f.direction,m=f.beforeDirection,C=f.targetTransform,x=f.moveableClientRect,_=f.offsetMatrix,b=f.targetMatrix,y=f.allMatrix,w=f.width,S=f.height;if(!d&&!f.target)return!1;var A=e.getRect();i.rect=A,i.transform=C,i.left=h,i.top=v;var M=function(J){i.fixedDirection=J,i.fixedPosition=Es(e,J),G&&G.setFixedDirection(J)},E=o,k=a;if(d||u||c){var T=l||0;i.beforeInfo={origin:A.beforeOrigin,prevDeg:T,defaultDeg:T,prevSnapDeg:0,startDist:0},i.afterInfo=D(D({},i.beforeInfo),{origin:A.origin}),i.absoluteInfo=D(D({},i.beforeInfo),{origin:A.origin,startValue:T})}else{var O=null===(n=r.inputEvent)||void 0===n?void 0:n.target;if(O){var R=O.getAttribute("data-direction")||"",P=_f[R];if(P){i.isControl=!0,i.isAroundControl=bt(O,V("around-control")),i.controlDirection=P;var z=O.getAttribute("data-resolve");z&&(i.resolveAble=z),t=gt(function(e,r,t){var i=16===e.length?4:3,o=r.map(function(c){return St(e,c,i)}),a=t.left,l=t.top;return o.map(function(c){return[c[0]+a,c[1]+l]})}(f.rootMatrix,f.renderPoses,x),P),E=t[0],k=t[1]}}i.beforeInfo={origin:A.beforeOrigin},i.afterInfo={origin:A.origin},i.absoluteInfo={origin:A.origin,startValue:A.rotation};var q=M;M=function(J){var tt=f.is3d?4:3,$=gt([[0,0],[w,0],[0,S],[w,S]],J),it=Q(Va(b,tt),$),W=Mt(_,ve([it[0],it[1]],tt)),H=Mt(y,ve([$[0],$[1]],tt));q(J),i.beforeInfo.origin=W,i.afterInfo.origin=H,i.absoluteInfo.origin=H,bi(e,i.beforeInfo,E,k,x),bi(e,i.afterInfo,E,k,x),bi(e,i.absoluteInfo,E,k,x)}}i.startClientX=E,i.startClientY=k,i.direction=g,i.beforeDirection=m,i.startValue=0,i.datas={},Or(r,"rotate");var I=!1,G=!1;i.isControl&&i.resolveAble&&"resizable"===i.resolveAble&&(G=_i.dragControlStart(e,D(D({},new De("resizable").dragStart([0,0],r)),{parentDirection:i.controlDirection,parentFixedDirection:i.fixedDirection}))),G||(I=Dt.dragStart(e,(new De).dragStart([0,0],r))),M(function(e){var r=e.state,i=r.transformOrigin;return[i[0]/(r.width/2)-1,i[1]/(r.height/2)-1]}(e));var Y=U(e,r,D(D({set:function(J){i.startValue=J*Math.PI/180},setFixedDirection:M},Dr(r)),{dragStart:I,resizeStart:G})),rt=Z(e,"onRotateStart",Y);return i.isRotate=!1!==rt,f.snapRenderInfo={request:r.isRequest},!!i.isRotate&&Y},dragControl:function(e,r){var t,n,i,o=r.datas,a=r.distX,l=r.distY,c=r.parentRotate,u=r.parentFlag,d=r.isPinch,f=r.groupDelta,p=o.beforeDirection,h=o.beforeInfo,v=o.afterInfo,g=o.absoluteInfo,C=o.startValue,x=o.rect,_=o.startClientX,b=o.startClientY;if(o.isRotate){Ar(r,"rotate");var A,M,E,k,T,O,R,P,z,w=p*function(e){return Rr(e.datas.beforeTransform,[50,50],100,100).direction}(r),S=e.props.parentMoveable,N=180/Math.PI*C,q=g.startValue,I=!1,G=_+a,F=b+l;if(!u&&"parentDist"in r){var Y=r.parentDist;M=Y,T=Y,P=Y}else d||u?(M=Hr(c,p,h),T=Hr(c,w,v),P=Hr(c,w,g)):(M=Si(G,F,p,h),T=Si(G,F,w,v),P=Si(G,F,w,g),I=!0);if(Z(e,"onBeforeRotate",U(e,r,{beforeRotation:N+M,rotation:N+T,absoluteRotation:q+P,setRotation:function(_t){M=T=_t-N,P=T}},!0)),A=(t=wi(e,x,h,M,N,I))[0],M=t[1],E=t[2],k=(n=wi(e,x,v,T,N,I))[0],T=n[1],O=n[2],i=wi(e,x,g,P,q,I),P=i[1],z=i[2],(R=i[0])||k||A||S){var rt=Tr(o,"rotate(".concat(O,"deg)"),"rotate(".concat(T,"deg)")),J=function(e,r,t){var n=t.fixedDirection,i=t.fixedPosition;return Ms(e,"rotate(".concat(r,"deg)"),n,i,t)}(e,T,o),tt=X(Q(f||[0,0],J),o.prevInverseDist||[0,0]);o.prevInverseDist=J,o.requestValue=null;var $=ys(e,rt,tt,d,r),it=$,ut=Ft([G,F],g.startAbsoluteOrigin)-g.startDist,ot=void 0;if("resizable"===o.resolveAble){var W=_i.dragControl(e,D(D({},ir(r,e.state,[r.deltaX,r.deltaY],!!d,!1,"resizable")),{resolveMatrix:!0,parentDistance:ut}));W&&(ot=W,it=zs(it,W,r))}var H=U(e,r,D(D({delta:k,dist:T,rotate:O,rotation:O,beforeDist:M,beforeDelta:A,beforeRotate:E,beforeRotation:E,absoluteDist:P,absoluteDelta:R,absoluteRotate:z,absoluteRotation:z,isPinch:!!d,resize:ot},$),it));return Z(e,"onRotate",H),H}}},dragControlAfter:function(e,r){},dragControlEnd:function(e,r){var t=r.datas;if(t.isRotate){t.isRotate=!1;var n=It(e,r,{});return Z(e,"onRotateEnd",n),n}},dragGroupControlCondition:yi,dragGroupControlStart:function(e,r){var t=r.datas,n=e.state,i=n.left,o=n.top,a=n.beforeOrigin,l=this.dragControlStart(e,r);if(!l)return!1;l.set(t.beforeDirection*e.rotation);var c=Kt(e,this,"dragControlStart",r,function(f,p){var h=f.state,m=h.beforeOrigin,C=Q(X([h.left,h.top],[i,o]),X(m,a));return p.datas.groupClient=C,D(D({},p),{parentRotate:0})}),d=Z(e,"onRotateGroupStart",D(D({},l),{targets:e.props.targets,events:c}));return t.isRotate=!1!==d,!!t.isRotate&&l},dragGroupControl:function(e,r){var t=r.datas;if(t.isRotate){ai(e,"onBeforeRotate",function(d){Z(e,"onBeforeRotateGroup",U(e,r,D(D({},d),{targets:e.props.targets}),!0))});var n=this.dragControl(e,r);if(n){var i=t.beforeDirection,o=n.beforeDist,l=n.beforeDelta/180*Math.PI,c=Kt(e,this,"dragControl",r,function(d,f){var p=f.datas.groupClient,h=p[0],v=p[1],g=ne([h,v],l*i),m=g[0],C=g[1],x=[m-h,C-v];return f.datas.groupClient=[m,C],D(D({},f),{parentRotate:o,groupDelta:x})});e.rotation=i*n.beforeRotation;var u=D({targets:e.props.targets,events:c,set:function(d){e.rotation=d},setGroupRotation:function(d){e.rotation=d}},n);return Z(e,"onRotateGroup",u),u}}},dragGroupControlEnd:function(e,r){var t=r.isDrag;if(r.datas.isRotate){this.dragControlEnd(e,r);var i=Kt(e,this,"dragControlEnd",r);return Z(e,"onRotateGroupEnd",It(e,r,{targets:e.props.targets,events:i})),t}},request:function(e){var r={},t=0,n=e.getRotation();return{isControl:!0,requestStart:function(){return{datas:r}},request:function(i){return"deltaRotate"in i?t+=i.deltaRotate:"rotate"in i&&(t=i.rotate-n),{datas:r,parentDist:t}},requestEnd:function(){return{datas:r,isDrag:!0}}}}},vl=li("scalable"),Ud={name:"scalable",ableGroup:"size",canPinch:!0,props:{scalable:Boolean,throttleScale:Number,renderDirections:String,keepRatio:Boolean,edge:Boolean},events:{onScaleStart:"scaleStart",onBeforeScale:"beforeScale",onScale:"scale",onScaleEnd:"scaleEnd",onScaleGroupStart:"scaleGroupStart",onBeforeScaleGroup:"beforeScaleGroup",onScaleGroup:"scaleGroup",onScaleGroupEnd:"scaleGroupEnd"},render:fl("scalable"),dragControlCondition:vl,dragControlStart:function(e,r){var t=r.datas,n=r.isPinch,a=r.parentDirection||(n?[0,0]:ii(r.inputEvent.target)),l=e.state,c=l.width,u=l.height,d=l.targetTransform,p=l.pos1,h=l.pos2,v=l.pos4;if(!a||!l.target)return!1;n||xe(e,r),t.datas={},t.transform=d,t.prevDist=[1,1],t.direction=a,t.startOffsetWidth=c,t.startOffsetHeight=u,t.startValue=[1,1];var g=Ft(p,h),m=Ft(h,v),C=!a[0]&&!a[1]||a[0]||!a[1];function x(w){t.ratio=w&&isFinite(w)?w:0}function _(w){t.fixedDirection=w,t.fixedPosition=gt(t.startPositions,w)}t.scaleWidth=g,t.scaleHeight=m,t.scaleXRatio=g/c,t.scaleYRatio=m/u,Or(r,"scale"),t.isWidth=C,t.startPositions=kt(e.state),t.setFixedDirection=_,x(Ft(p,h)/Ft(h,v)),_([-a[0],-a[1]]);var b=U(e,r,D(D({direction:a,set:function(w){t.startValue=w},setRatio:x,setFixedDirection:_},Dr(r)),{dragStart:Dt.dragStart(e,(new De).dragStart([0,0],r))})),y=Z(e,"onScaleStart",b);return t.startFixedDirection=t.fixedDirection,!1!==y&&(t.isScale=!0,e.state.snapRenderInfo={request:r.isRequest,direction:a}),!!t.isScale&&b},dragControl:function(e,r){Ar(r,"scale");var t=r.datas,n=r.parentKeepRatio,i=r.parentFlag,o=r.isPinch,a=r.dragClient,l=r.isRequest,c=t.prevDist,u=t.direction,d=t.startOffsetWidth,f=t.startOffsetHeight,h=t.startValue,v=t.isWidth,g=t.ratio;if(!t.isScale)return!1;var m=e.props,C=m.throttleScale,x=m.parentMoveable,_=u;!u[0]&&!u[1]&&(_=[1,1]);var b=g&&(null!=n?n:m.keepRatio)||!1,y=e.state;function w(){var F=qs(_,b,t,r),J=(d+F.distWidth)/d,tt=(f+F.distHeight)/f;return 0===(J=_[0]||b?J*h[0]:h[0])&&(J=1e-9*(c[0]>0?1:-1)),0===(tt=_[1]||b?tt*h[1]:h[1])&&(tt=1e-9*(c[1]>0?1:-1)),[J,tt]}var S=w();if(!o&&e.props.groupable){var M=(y.snapRenderInfo||{}).direction;$t(M)&&(M[0]||M[1])&&(y.snapRenderInfo={direction:u,request:r.isRequest})}Z(e,"onBeforeScale",U(e,r,{scale:S,setFixedDirection:function(F){return t.setFixedDirection(F),S=w()},startFixedDirection:t.startFixedDirection,setScale:function(F){S=F}},!0));var E=[S[0]/h[0],S[1]/h[1]],k=a,T=[0,0];if(a||(k=!i&&o?As(e,[0,0]):t.fixedPosition),o||(T=function(e,r,t,n,i){if(!Ie(e,"scalable"))return[0,0];var o=i.startOffsetWidth,a=i.startOffsetHeight,l=i.fixedPosition,c=i.fixedDirection,u=i.is3d,d=al(e,function(f,p){return ol(function(e,r){var t=e.transformOrigin,a=e.is3d?4:3;return or(e.offsetMatrix,st(e.targetMatrix,La(r,a),a),t,a)}(i,Q(r,[f/o,p/a])),o,a,c,l,u)},o,a,t,l,n,i);return[d[0]/o,d[1]/a]}(e,E,u,l,t)),b){_[0]&&_[1]&&T[0]&&T[1]&&(Math.abs(T[0]*d)>Math.abs(T[1]*f)?T[1]=0:T[0]=0);var O=!T[0]&&!T[1];O&&(v?E[0]=j(E[0]*h[0],C)/h[0]:E[1]=j(E[1]*h[1],C)/h[1]),_[0]&&!_[1]||T[0]&&!T[1]||O&&v?(E[0]+=T[0],E[1]=d*E[0]*h[0]/g/f/h[1]):(!_[0]&&_[1]||!T[0]&&T[1]||O&&!v)&&(E[1]+=T[1],E[0]=f*E[1]*h[1]*g/d/h[0])}else E[0]+=T[0],E[1]+=T[1],T[0]||(E[0]=j(E[0]*h[0],C)/h[0]),T[1]||(E[1]=j(E[1]*h[1],C)/h[1]);0===E[0]&&(E[0]=1e-9*(c[0]>0?1:-1)),0===E[1]&&(E[1]=1e-9*(c[1]>0?1:-1));var z=[E[0]/c[0],E[1]/c[1]];S=function(e,r){return[e[0]*r[0],e[1]*r[1]]}(E,h);var N=function(e,r,t,n,i){return Ms(e,"scale(".concat(r.join(", "),")"),t,n,i)}(e,E,t.fixedDirection,k,t),q=X(N,t.prevInverseDist||[0,0]);if(t.prevDist=E,t.prevInverseDist=N,S[0]===c[0]&&S[1]===c[1]&&q.every(function(F){return!F})&&!x)return!1;var I=Tr(t,"scale(".concat(S.join(", "),")"),"scale(".concat(E.join(", "),")")),G=U(e,r,D({offsetWidth:d,offsetHeight:f,direction:u,scale:S,dist:E,delta:z,isPinch:!!o},ys(e,I,q,o,r)));return Z(e,"onScale",G),G},dragControlEnd:function(e,r){var t=r.datas,n=r.isDrag;return!!t.isScale&&(t.isScale=!1,Z(e,"onScaleEnd",It(e,r,{})),n)},dragGroupControlCondition:vl,dragGroupControlStart:function(e,r){var t=r.datas,n=this.dragControlStart(e,r);if(!n)return!1;var i=ie(e,"resizable",r);function o(d,f){var p=t.fixedDirection,h=t.fixedPosition,g=gt(f.datas.startPositions||kt(d.state),p),m=Mt(Me(-e.rotation/180*Math.PI,3),[g[0]-h[0],g[1]-h[1],1],3),x=m[1];return f.datas.originalX=m[0],f.datas.originalY=x,f}t.moveableScale=e.scale;var a=Kt(e,this,"dragControlStart",r,function(d,f){return o(d,f)}),l=function(d){n.setFixedDirection(d),a.forEach(function(f,p){f.setFixedDirection(d),o(f.moveable,i[p])})};t.setFixedDirection=l;var c=D(D({},n),{targets:e.props.targets,events:a,setFixedDirection:l}),u=Z(e,"onScaleGroupStart",c);return t.isScale=!1!==u,!!t.isScale&&c},dragGroupControl:function(e,r){var t=r.datas;if(t.isScale){ai(e,"onBeforeScale",function(f){Z(e,"onBeforeScaleGroup",U(e,r,D(D({},f),{targets:e.props.targets}),!0))});var n=this.dragControl(e,r);if(n){var i=t.moveableScale;e.scale=[n.scale[0]*i[0],n.scale[1]*i[1]];var o=e.props.keepRatio,a=n.dist,l=n.scale,c=t.fixedPosition,u=Kt(e,this,"dragControl",r,function(f,p){var h=Mt(Me(e.rotation/180*Math.PI,3),[p.datas.originalX*a[0],p.datas.originalY*a[1],1],3),v=h[0],g=h[1];return D(D({},p),{parentDist:null,parentScale:l,parentKeepRatio:o,dragClient:Q(c,[v,g])})}),d=D({targets:e.props.targets,events:u},n);return Z(e,"onScaleGroup",d),d}}},dragGroupControlEnd:function(e,r){var t=r.isDrag;if(r.datas.isScale){this.dragControlEnd(e,r);var i=Kt(e,this,"dragControlEnd",r);return Z(e,"onScaleGroupEnd",It(e,r,{targets:e.props.targets,events:i})),t}},request:function(){var e={},r=0,t=0;return{isControl:!0,requestStart:function(n){return{datas:e,parentDirection:n.direction||[1,1]}},request:function(n){return{datas:e,parentDist:[r+=n.deltaWidth,t+=n.deltaHeight],parentKeepRatio:n.keepRatio}},requestEnd:function(){return{datas:e,isDrag:!0}}}}};function le(e,r){return e.map(function(t,n){return fe(t,r[n],1,2)})}function gl(e,r,t){var n=vt(e,r),o=vt(e,t)-n;return o>=0?o:o+2*Math.PI}var jd={name:"warpable",ableGroup:"size",props:{warpable:Boolean,renderDirections:Array,edge:Boolean},events:{onWarpStart:"warpStart",onWarp:"warp",onWarpEnd:"warpEnd"},render:function(e,r){var t=e.props,a=t.zoom;if(t.resizable||t.scalable||!t.warpable)return[];var l=e.state,c=l.pos1,u=l.pos2,d=l.pos3,f=l.pos4,p=le(c,u),h=le(u,c),v=le(c,d),g=le(d,c),m=le(d,f),C=le(f,d),x=le(u,f),_=le(f,u);return L([r.createElement("div",{className:V("line"),key:"middeLine1",style:ar(p,m,a)}),r.createElement("div",{className:V("line"),key:"middeLine2",style:ar(h,C,a)}),r.createElement("div",{className:V("line"),key:"middeLine3",style:ar(v,x,a)}),r.createElement("div",{className:V("line"),key:"middeLine4",style:ar(g,_,a)})],dl(e,"warpable",r),!0)},dragControlCondition:function(e,r){if(r.isRequest)return!1;var t=r.inputEvent.target;return bt(t,V("direction"))&&bt(t,V("warpable"))},dragControlStart:function(e,r){var t=r.datas,i=e.props.target,a=ii(r.inputEvent.target);if(!a||!i)return!1;var l=e.state,c=l.transformOrigin,u=l.is3d,d=l.targetTransform,f=l.targetMatrix,p=l.width,h=l.height,v=l.left,g=l.top;return t.datas={},t.targetTransform=d,t.warpTargetMatrix=u?f:Xt(f,3,4),t.targetInverseMatrix=qa(Wt(t.warpTargetMatrix,4),3,4),t.direction=a,t.left=v,t.top=g,t.poses=[[0,0],[p,0],[0,h],[p,h]].map(function(x){return X(x,c)}),t.nextPoses=t.poses.map(function(x){return Mt(t.warpTargetMatrix,[x[0],x[1],0,1],4)}),t.startValue=ft(4),t.prevMatrix=ft(4),t.absolutePoses=kt(l),t.posIndexes=_s(a),xe(e,r),Or(r,"matrix3d"),l.snapRenderInfo={request:r.isRequest,direction:a},!1!==Z(e,"onWarpStart",U(e,r,D({set:function(x){t.startValue=x}},Dr(r))))&&(t.isWarp=!0),t.isWarp},dragControl:function(e,r){var t=r.datas,n=r.isRequest,i=r.distX,o=r.distY,a=t.targetInverseMatrix,l=t.prevMatrix,u=t.startValue,d=t.poses,f=t.posIndexes,p=t.absolutePoses;if(!t.isWarp)return!1;if(Ar(r,"matrix3d"),Ie(e,"warpable")){var h=f.map(function(M){return p[M]});h.length>1&&h.push([(h[0][0]+h[1][0])/2,(h[0][1]+h[1][1])/2]);var v=Vr(e,n,{horizontal:h.map(function(M){return M[1]+o}),vertical:h.map(function(M){return M[0]+i})});o-=v.horizontal.offset,i-=v.vertical.offset}var C=Ut({datas:t,distX:i,distY:o},!0),x=t.nextPoses.slice();if(f.forEach(function(M){x[M]=Q(x[M],C)}),!mf.every(function(M){return function(e,r){var t=gl(e[0],e[1],e[2]),n=gl(r[0],r[1],r[2]),i=Math.PI;return!(t>=i&&n<=i||t<=i&&n>=i)}(M.map(function(E){return d[E]}),M.map(function(E){return x[E]}))}))return!1;var _=En(d[0],d[2],d[1],d[3],x[0],x[2],x[1],x[3]);if(!_.length)return!1;var y=Cs(t,st(a,_,4),!0),w=st(Wt(l,4),y,4);t.prevMatrix=y;var S=st(u,y,4),A=Tr(t,"matrix3d(".concat(S.join(", "),")"),"matrix3d(".concat(y.join(", "),")"));return Qn(r,A),Z(e,"onWarp",U(e,r,{delta:w,matrix:S,dist:y,multiply:st,transform:A})),!0},dragControlEnd:function(e,r){var t=r.datas,n=r.isDrag;return!!t.isWarp&&(t.isWarp=!1,Z(e,"onWarpEnd",It(e,r,{})),n)}},Kd=V("area-pieces"),Lr=V("area-piece"),ml=V("avoid");function Mi(e){var r=e.areaElement;if(r){var t=e.state,n=t.width,i=t.height;(function(e,r){if(e.classList)e.classList.remove(r);else{var t=new RegExp("(\\s|^)"+r+"(\\s|$)");e.className=e.className.replace(t," ")}})(r,ml),r.style.cssText+="left: 0px; top: 0px; width: ".concat(n,"px; height: ").concat(i,"px")}}function Cl(e){return e.createElement("div",{key:"area_pieces",className:Kd},e.createElement("div",{className:Lr}),e.createElement("div",{className:Lr}),e.createElement("div",{className:Lr}),e.createElement("div",{className:Lr}))}var xl={name:"dragArea",props:{dragArea:Boolean,passDragArea:Boolean},events:{onClick:"click",onClickGroup:"clickGroup"},render:function(e,r){var t=e.props,n=t.target,i=t.dragArea,o=t.groupable,l=e.state,c=l.width,u=l.height,d=l.renderPoses,f=t.passDragArea?V("area","pass"):V("area");if(o)return[r.createElement("div",{key:"area",ref:Lt(e,"areaElement"),className:f}),Cl(r)];if(!n||!i)return[];var p=En([0,0],[c,0],[0,u],[c,u],d[0],d[1],d[2],d[3]),h=p.length?Pr(p,!0):"none";return[r.createElement("div",{key:"area",ref:Lt(e,"areaElement"),className:f,style:{top:"0px",left:"0px",width:"".concat(c,"px"),height:"".concat(u,"px"),transformOrigin:"0 0",transform:h}}),Cl(r)]},dragStart:function(e,r){var n=r.clientX,i=r.clientY;if(!r.inputEvent)return!1;r.datas.isDragArea=!1;var a=e.areaElement,l=e.state,c=l.moveableClientRect,d=l.rootMatrix,f=l.is3d,p=c.left,h=c.top,v=Gt(l.renderPoses),g=v.left,m=v.top,C=v.width,x=v.height,b=Re(d,[n-p,i-h],f?4:3),y=b[0],w=b[1],S=[{left:g,top:m,width:C,height:(w-=m)-10},{left:g,top:m,width:(y-=g)-10,height:x},{left:g,top:m+w+10,width:C,height:x-w-10},{left:g+y+10,top:m,width:C-y-10,height:x}],A=[].slice.call(a.nextElementSibling.children);S.forEach(function(M,E){A[E].style.cssText="left: ".concat(M.left,"px;top: ").concat(M.top,"px; width: ").concat(M.width,"px; height: ").concat(M.height,"px;")}),function(e,r){e.classList?e.classList.add(r):e.className+=" "+r}(a,ml),l.disableNativeEvent=!0},drag:function(e,r){var t=r.datas,n=r.inputEvent;if(this.enableNativeEvent(e),!n)return!1;t.isDragArea||(t.isDragArea=!0,Mi(e))},dragEnd:function(e,r){if(this.enableNativeEvent(e),!r.inputEvent)return!1;r.datas.isDragArea||Mi(e)},dragGroupStart:function(e,r){return this.dragStart(e,r)},dragGroup:function(e,r){return this.drag(e,r)},dragGroupEnd:function(e,r){return this.dragEnd(e,r)},unset:function(e){Mi(e),e.state.disableNativeEvent=!1},enableNativeEvent:function(e){var r=e.state;r.disableNativeEvent&&_a(function(){r.disableNativeEvent=!1})}},Qd=rr("origin",{render:function(e,r){var t=e.props.zoom,n=e.state,i=n.beforeOrigin,o=n.rotation;return[r.createElement("div",{className:V("control","origin"),style:ni(o,t,i),key:"beforeOrigin"})]}});function $d(e){var r=e.scrollContainer;return[r.scrollLeft,r.scrollTop]}var th={name:"scrollable",canPinch:!0,props:{scrollable:Boolean,scrollContainer:Object,scrollThreshold:Number,getScrollPosition:Function},events:{onScroll:"scroll",onScrollGroup:"scrollGroup"},dragRelation:"strong",dragStart:function(e,r){var n=e.props.scrollContainer,i=void 0===n?e.getContainer():n,o=new Lp,a=cr(i,!0);r.datas.dragScroll=o;var l=r.isControl?"controlGesto":"targetGesto",c=r.targets;o.on("scroll",function(u){var p=U(e,r,{scrollContainer:u.container,direction:u.direction}),h=c?"onScrollGroup":"onScroll";c&&(p.targets=c),Z(e,h,p)}).on("move",function(u){e[l].scrollBy(u.offsetX,u.offsetY,r.inputEvent,!1)}),o.dragStart(r,{container:a})},checkScroll:function(e,r){var t=r.datas.dragScroll;if(t){var n=e.props,i=n.scrollContainer,o=void 0===i?e.getContainer():i,a=n.scrollThreshold,c=n.getScrollPosition,u=void 0===c?$d:c;return t.drag(r,{container:o,threshold:void 0===a?0:a,getScrollPosition:function(d){return u({scrollContainer:d.container,direction:d.direction})}}),!0}},drag:function(e,r){return this.checkScroll(e,r)},dragEnd:function(e,r){r.datas.dragScroll.dragEnd(),r.datas.dragScroll=null},dragControlStart:function(e,r){return this.dragStart(e,D(D({},r),{isControl:!0}))},dragControl:function(e,r){return this.drag(e,r)},dragControlEnd:function(e,r){return this.dragEnd(e,r)},dragGroupStart:function(e,r){return this.dragStart(e,D(D({},r),{targets:e.props.targets}))},dragGroup:function(e,r){return this.drag(e,D(D({},r),{targets:e.props.targets}))},dragGroupEnd:function(e,r){return this.dragEnd(e,D(D({},r),{targets:e.props.targets}))},dragGroupControlStart:function(e,r){return this.dragStart(e,D(D({},r),{targets:e.props.targets,isControl:!0}))},dragGroupContro:function(e,r){return this.drag(e,D(D({},r),{targets:e.props.targets}))},dragGroupControEnd:function(e,r){return this.dragEnd(e,D(D({},r),{targets:e.props.targets}))}},_l={name:"",props:{target:Object,dragTarget:Object,container:Object,portalContainer:Object,rootContainer:Object,useResizeObserver:Boolean,zoom:Number,transformOrigin:Array,edge:Object,ables:Array,className:String,pinchThreshold:Number,pinchOutside:Boolean,triggerAblesSimultaneously:Boolean,checkInput:Boolean,cspNonce:String,translateZ:Number,hideDefaultLines:Boolean,props:Object,flushSync:Function,stopPropagation:Boolean,preventClickEventOnDrag:Boolean,preventClickDefault:Boolean},events:{}},eh=rr("padding",{render:function(e,r){var t=e.props;if(t.dragArea)return[];var n=t.padding||{},i=n.left,a=n.top,l=void 0===a?0:a,c=n.right,u=void 0===c?0:c,d=n.bottom,f=void 0===d?0:d,p=e.state,h=p.renderPoses,x=[p.pos1,p.pos2,p.pos3,p.pos4],_=[];return(void 0===i?0:i)>0&&_.push([0,2]),l>0&&_.push([0,1]),u>0&&_.push([1,3]),f>0&&_.push([2,3]),_.map(function(b,y){var w=b[0],S=b[1],T=En([0,0],[100,0],[0,100],[100,100],x[w],x[S],h[w],h[S]);if(T.length)return r.createElement("div",{key:"padding".concat(y),className:V("padding"),style:{transform:Pr(T,!0)}})})}}),bl=["nw","ne","se","sw"];function Wr(e,r){var t=e[0]+e[1],n=t>r?r/t:1;return e[0]*=n,e[1]=r-e[1]*n,e}var rh=[1,2,5,6],nh=[0,3,4,7],Se=[1,-1,-1,1],we=[1,1,-1,-1];function Ei(e,r,t,n,i,o,a,l,c){void 0===o&&(o=0),void 0===a&&(a=0),void 0===l&&(l=n),void 0===c&&(c=i);var u=[],d=!1,f=e.map(function(p,h){var v=r[h],g=v.horizontal,m=v.vertical;if(m&&!d&&(d=!0,u.push("/")),d){var C=Math.max(0,1===m?p[1]-a:c-p[1]);return u.push(Yt(C,i,t)),C}return C=Math.max(0,1===g?p[0]-o:l-p[0]),u.push(Yt(C,n,t)),C});return{styles:u,raws:f}}function Sl(e){for(var r=[0,0],t=[0,0],n=e.length,i=0;i<n;++i){var o=e[i];!o.sub||(o.horizontal&&(0===r[1]&&(r[0]=i),r[1]=i-r[0]+1,t[0]=i+1),o.vertical&&(0===t[1]&&(t[0]=i),t[1]=i-t[0]+1))}return{horizontalRange:r,verticalRange:t}}function wl(e,r,t,n,i,o){var a,l,c,u;void 0===o&&(o=[0,0]);var d=e.indexOf("/"),f=(d>-1?e.slice(0,d):e).length,p=e.slice(0,f),h=e.slice(f+1),v=p[0],g=void 0===v?"0px":v,m=p[1],C=void 0===m?g:m,x=p[2],b=p[3],w=h[0],S=void 0===w?g:w,A=h[1],M=void 0===A?S:A,E=h[2],k=void 0===E?S:E,T=h[3],O=void 0===T?M:T,R=[g,C,void 0===x?g:x,void 0===b?C:b].map(function(G){return pt(G,r)}),P=[S,M,k,O].map(function(G){return pt(G,t)}),z=R.slice(),N=P.slice();a=Wr([z[0],z[1]],r),z[0]=a[0],z[1]=a[1],l=Wr([z[3],z[2]],r),z[3]=l[0],z[2]=l[1],c=Wr([N[0],N[3]],t),N[0]=c[0],N[3]=c[1],u=Wr([N[1],N[2]],t),N[1]=u[0],N[2]=u[1];var q=z.slice(0,Math.max(o[0],p.length)),I=N.slice(0,Math.max(o[1],h.length));return L(L([],q.map(function(G,F){return{horizontal:Se[F],vertical:0,pos:[n+G,i+(-1===we[F]?t:0)],sub:!0,raw:R[F],direction:bl[F]}}),!0),I.map(function(G,F){return{horizontal:0,vertical:we[F],pos:[n+(-1===Se[F]?r:0),i+G],sub:!0,raw:P[F],direction:bl[F]}}),!0)}function yl(e,r,t,n,i){void 0===i&&(i=r.length);var o=Sl(e.slice(n)),a=o.horizontalRange,l=o.verticalRange,c=t-n,u=0;if(0===c)u=i;else if(c>0&&c<a[1])u=a[1]-c;else{if(!(c>=l[0]))return;u=l[0]+l[1]-c}e.splice(t,u),r.splice(t,u)}function Ml(e,r,t,n,i,o,a,l,c,u,d){void 0===u&&(u=0),void 0===d&&(d=0);var f=Sl(e.slice(t)),p=f.horizontalRange,h=f.verticalRange;if(n>-1)for(var v=1===Se[n]?o-u:l-o,g=p[1];g<=n;++g){var C=0;if(n===g?C=o:0===g?C=u+v:-1===Se[g]&&(C=l-(r[t][0]-u)),e.splice(t+g,0,{horizontal:Se[g],vertical:0,pos:[C,m=1===we[g]?d:c]}),r.splice(t+g,0,[C,m]),0===g)break}else if(i>-1){var x=1===we[i]?a-d:c-a;if(0===p[1]&&0===h[1]){var _=[u+x,d];e.push({horizontal:Se[0],vertical:0,pos:_}),r.push(_)}var b=h[0];for(g=h[1];g<=i;++g){var m=0;if(i===g?m=a:0===g?m=d+x:1===we[g]?m=r[t+b][1]:-1===we[g]&&(m=c-(r[t+b][1]-d)),e.push({horizontal:0,vertical:we[g],pos:[C=1===Se[g]?u:l,m]}),r.push([C,m]),0===g)break}}}function El(e,r){return void 0===r&&(r=e.map(function(i){return i.raw})),{horizontals:e.map(function(i,o){return i.horizontal?r[o]:null}).filter(function(i){return null!=i}),verticals:e.map(function(i,o){return i.vertical?r[o]:null}).filter(function(i){return null!=i})}}var ih=[[0,-1,"n"],[1,0,"e"]],oh=[[-1,-1,"nw"],[0,-1,"n"],[1,-1,"ne"],[1,0,"e"],[1,1,"se"],[0,1,"s"],[-1,1,"sw"],[-1,0,"w"]];function Ai(e,r,t){var n=e.props.clipRelative,i=e.state,o=i.width,a=i.height,c=r.type,u=r.poses,d="rect"===c,f="circle"===c;if("polygon"===c)return t.map(function(w){return"".concat(Yt(w[0],o,n)," ").concat(Yt(w[1],a,n))});if(d||"inset"===c){var p=t[1][1],h=t[3][0],v=t[7][0],g=t[5][1];if(d)return[p,h,g,v].map(function(w){return"".concat(w,"px")});var m=[p,o-h,a-g,v].map(function(w,S){return Yt(w,S%2?o:a,n)});if(t.length>8){var C=X(t[4],t[0]),x=C[0],_=C[1];m.push.apply(m,L(["round"],Ei(t.slice(8),u.slice(8),n,x,_,v,p,h,g).styles,!1))}return m}if(f||"ellipse"===c){var b=t[0],y=Yt(Math.abs(t[1][1]-b[1]),f?Math.sqrt((o*o+a*a)/2):a,n);return(m=f?[y]:[Yt(Math.abs(t[2][0]-b[0]),o,n),y]).push("at",Yt(b[0],o,n),Yt(b[1],a,n)),m}}function Xr(e,r,t,n){var i=[n,(n+r)/2,r],o=[e,(e+t)/2,t];return oh.map(function(a){var l=a[0],c=a[1],u=a[2],d=i[l+1],f=o[c+1];return{vertical:Math.abs(c),horizontal:Math.abs(l),direction:u,pos:[d,f]}})}function Al(e){var r=[1/0,-1/0],t=[1/0,-1/0];return e.forEach(function(n){var i=n.pos;r[0]=Math.min(r[0],i[0]),r[1]=Math.max(r[1],i[0]),t[0]=Math.min(t[0],i[1]),t[1]=Math.max(t[1],i[1])}),[Math.abs(r[1]-r[0]),Math.abs(t[1]-t[0])]}function Tl(e,r,t,n,i){var o,a,l,c,u,d,f,p=i;if(!p){var h=Nt(e),v=h.clipPath;p="none"!==v?v:h.clip}if(p&&"none"!==p&&"auto"!==p||(p=n)){var g=an(p),m=g.prefix,C=void 0===m?p:m,x=g.value,_=void 0===x?"":x,b="circle"===C,y=" ";if("polygon"===C)return y=",",{type:C,clipText:p,poses:S=(w=ee(_||"0% 0%, 100% 0%, 100% 100%, 0% 100%")).map(function(ht){var ct=ht.split(" "),Pt=ct[1];return{vertical:1,horizontal:1,pos:[pt(ct[0],r),pt(Pt,t)]}}),splitter:y};if(b||"ellipse"===C){var R,A="",M="",E=0,k=0,w=te(_);if(b)A=void 0===(a=w[2])?"50%":a,M=void 0===(l=w[3])?"50%":l,E=pt(void 0===(o=w[0])?"50%":o,Math.sqrt((r*r+t*t)/2)),k=E;else R=void 0===(u=w[1])?"50%":u,A=void 0===(d=w[3])?"50%":d,M=void 0===(f=w[4])?"50%":f,E=pt(void 0===(c=w[0])?"50%":c,r),k=pt(R,t);var P=[pt(A,r),pt(M,t)],S=L([{vertical:1,horizontal:1,pos:P,direction:"nesw"}],ih.slice(0,b?1:2).map(function(nt){return{vertical:Math.abs(nt[1]),horizontal:nt[0],direction:nt[2],sub:!0,pos:[P[0]+nt[0]*E,P[1]+nt[1]*k]}}),!0);return{type:C,clipText:p,radiusX:E,radiusY:k,left:P[0]-E,top:P[1]-k,poses:S,splitter:y}}if("inset"===C){var z=(w=te(_||"0 0 0 0")).indexOf("round"),N=(z>-1?w.slice(0,z):w).length,q=w.slice(N+1),I=w.slice(0,N),G=I[0],F=I[1],Y=void 0===F?G:F,rt=I[2],tt=I[3],$=void 0===tt?Y:tt,it=[G,void 0===rt?G:rt].map(function(nt){return pt(nt,t)}),ut=it[0],ot=it[1],W=[$,Y].map(function(nt){return pt(nt,r)}),K=r-(_t=W[1]),at=t-ot,et=wl(q,K-(H=W[0]),at-ut,H,ut);return{type:"inset",clipText:p,poses:S=L(L([],Xr(ut,K,at,H),!0),et,!0),top:ut,left:H,right:K,bottom:at,radius:q,splitter:y}}if("rect"===C){y=",";var _t,H,dt=(w=ee(_||"0px, ".concat(r,"px, ").concat(t,"px, 0px"))).map(function(mt){return He(mt).value});return{type:"rect",clipText:p,poses:S=Xr(ut=dt[0],_t=dt[1],ot=dt[2],H=dt[3]),top:ut,right:_t,bottom:ot,left:H,values:w,splitter:y}}}}var ch={name:"clippable",props:{clippable:Boolean,defaultClipPath:String,customClipPath:String,keepRatio:Boolean,clipRelative:Boolean,clipArea:Boolean,dragWithClip:Boolean,clipTargetBounds:Boolean,clipVerticalGuidelines:Array,clipHorizontalGuidelines:Array,clipSnapThreshold:Boolean},events:{onClipStart:"clipStart",onClip:"clip",onClipEnd:"clipEnd"},css:[".control.clip-control {\n    background: #6d6;\n    cursor: pointer;\n}\n.control.clip-control.clip-radius {\n    background: #d66;\n}\n.line.clip-line {\n    background: #6e6;\n    cursor: move;\n    z-index: 1;\n}\n.clip-area {\n    position: absolute;\n    top: 0;\n    left: 0;\n}\n.clip-ellipse {\n    position: absolute;\n    cursor: move;\n    border: 1px solid #6d6;\n    border: var(--zoompx) solid #6d6;\n    border-radius: 50%;\n    transform-origin: 0px 0px;\n}",":host {\n    --bounds-color: #d66;\n}",".guideline {\n    pointer-events: none;\n    z-index: 2;\n}",".line.guideline.bounds {\n    background: #d66;\n    background: var(--bounds-color);\n}"],render:function(e,r){var t=e.props,o=t.clipArea,a=t.zoom,l=e.state,c=l.target,u=l.width,d=l.height,f=l.allMatrix,p=l.is3d,h=l.left,v=l.top,g=l.pos1,m=l.pos2,C=l.pos3,x=l.pos4,b=l.snapBoundInfos,y=l.rotation;if(!c)return[];var w=Tl(c,u,d,t.defaultClipPath||"inset",l.clipPathState||t.customClipPath);if(!w)return[];var S=p?4:3,A=w.type,E=w.poses.map(function(at){var et=St(f,at.pos,S);return[et[0]-h,et[1]-v]}),k=[],T=[],O="rect"===A,R="inset"===A,P="polygon"===A;if(O||R||P){var z=R?E.slice(0,8):E;T=z.map(function(at,et){var dt=0===et?z[z.length-1]:z[et-1],ht=vt(dt,at),ct=Rs(dt,at);return r.createElement("div",{key:"clipLine".concat(et),className:V("line","clip-line","snap-control"),"data-clip-index":et,style:{width:"".concat(ct,"px"),transform:"translate(".concat(dt[0],"px, ").concat(dt[1],"px) rotate(").concat(ht,"rad) scaleY(").concat(a,")")}})})}if(k=E.map(function(at,et){return r.createElement("div",{key:"clipControl".concat(et),className:V("control","clip-control","snap-control"),"data-clip-index":et,style:{transform:"translate(".concat(at[0],"px, ").concat(at[1],"px) rotate(").concat(y,"rad) scale(").concat(a,")")}})}),R&&k.push.apply(k,E.slice(8).map(function(at,et){return r.createElement("div",{key:"clipRadiusControl".concat(et),className:V("control","clip-control","clip-radius","snap-control"),"data-clip-index":8+et,style:{transform:"translate(".concat(at[0],"px, ").concat(at[1],"px) rotate(").concat(y,"rad) scale(").concat(a,")")}})})),"circle"===A||"ellipse"===A){var I=w.radiusX,G=w.radiusY,F=X(St(f,[w.left,w.top],S),St(f,[0,0],S)),Y=F[0],rt=F[1],J="none";if(!o){for(var tt=Math.max(10,I/5,G/5),$=[],it=0;it<=tt;++it){var ut=2*Math.PI/tt*it;$.push([I+(I-a)*Math.cos(ut),G+(G-a)*Math.sin(ut)])}$.push([I,-2]),$.push([-2,-2]),$.push([-2,2*G+2]),$.push([2*I+2,2*G+2]),$.push([2*I+2,-2]),$.push([I,-2]),J="polygon(".concat($.map(function(at){return"".concat(at[0],"px ").concat(at[1],"px")}).join(", "),")")}k.push(r.createElement("div",{key:"clipEllipse",className:V("clip-ellipse","snap-control"),style:{width:"".concat(2*I,"px"),height:"".concat(2*G,"px"),clipPath:J,transform:"translate(".concat(-h+Y,"px, ").concat(-v+rt,"px) ").concat(Pr(f))}}))}if(o){var ot=Gt(L([g,m,C,x],E,!0)),W=ot.width,H=ot.height,_t=ot.left,K=ot.top;(P||O||R)&&($=R?E.slice(0,8):E,k.push(r.createElement("div",{key:"clipArea",className:V("clip-area","snap-control"),style:{width:"".concat(W,"px"),height:"".concat(H,"px"),transform:"translate(".concat(_t,"px, ").concat(K,"px)"),clipPath:"polygon(".concat($.map(function(et){return"".concat(et[0]-_t,"px ").concat(et[1]-K,"px")}).join(", "),")")}})))}return b&&["vertical","horizontal"].forEach(function(at){var et=b[at],dt="horizontal"===at;et.isSnap&&T.push.apply(T,et.snap.posInfos.map(function(ht,ct){var nt=ht.pos,Pt=X(St(f,dt?[0,nt]:[nt,0],S),[h,v]),ce=X(St(f,dt?[u,nt]:[nt,d],S),[h,v]);return Yr(r,"",Pt,ce,a,"clip".concat(at,"snap").concat(ct),"guideline")})),et.isBound&&T.push.apply(T,et.bounds.map(function(ht,ct){var nt=ht.pos,Pt=X(St(f,dt?[0,nt]:[nt,0],S),[h,v]),ce=X(St(f,dt?[u,nt]:[nt,d],S),[h,v]);return Yr(r,"",Pt,ce,a,"clip".concat(at,"bounds").concat(ct),"guideline","bounds","bold")}))}),L(L([],k,!0),T,!0)},dragControlCondition:function(e,r){return r.inputEvent&&(r.inputEvent.target.getAttribute("class")||"").indexOf("clip")>-1},dragStart:function(e,r){var n=e.props.dragWithClip;return!(void 0===n||n)&&this.dragControlStart(e,r)},drag:function(e,r){return this.dragControl(e,D(D({},r),{isDragTarget:!0}))},dragEnd:function(e,r){return this.dragControlEnd(e,r)},dragControlStart:function(e,r){var t=e.state,n=e.props,i=n.defaultClipPath,o=n.customClipPath,a=t.target,l=t.width,c=t.height,u=r.inputEvent?r.inputEvent.target:null,d=u&&u.getAttribute("class")||"",f=r.datas,p=Tl(a,l,c,i||"inset",o);if(!p)return!1;var h=p.clipText;return!1===Z(e,"onClipStart",U(e,r,{clipType:p.type,clipStyle:h,poses:p.poses.map(function(C){return C.pos})}))?(f.isClipStart=!1,!1):(f.isControl=d&&d.indexOf("clip-control")>-1,f.isLine=d.indexOf("clip-line")>-1,f.isArea=d.indexOf("clip-area")>-1||d.indexOf("clip-ellipse")>-1,f.clipIndex=u?parseInt(u.getAttribute("data-clip-index"),10):-1,f.clipPath=p,f.isClipStart=!0,t.clipPathState=h,xe(e,r),!0)},dragControl:function(e,r){var t,n=r.datas,i=r.originalDatas,o=r.isDragTarget;if(!n.isClipStart)return!1;var l=n.isControl,c=n.isLine,u=n.isArea,d=n.clipIndex,f=n.clipPath;if(!f)return!1;var p=be(e.props,"clippable"),h=p.keepRatio,v=0,g=0,m=i.draggable,C=Ut(r);o&&m?(v=(t=m.prevBeforeDist)[0],g=t[1]):(v=C[0],g=C[1]);var x=[v,g],_=e.state,b=_.width,y=_.height,w=!u&&!l&&!c,S=f.type,A=f.poses,M=f.splitter,E=A.map(function(lt){return lt.pos});w&&(v=-v,g=-g);var k=!l||"nesw"===A[d].direction,T="inset"===S||"rect"===S,O=A.map(function(){return[0,0]});if(l&&!k){var R=A[d],z=R.vertical,N=[v*Math.abs(R.horizontal),g*Math.abs(z)];O=function(e,r,t,n,i){var o=e[r],a=o.direction,l=o.sub,c=e.map(function(){return[0,0]}),u=a?a.split(""):[];if(n&&r<8){var d=u.filter(function(O){return"w"===O||"e"===O}),f=u.filter(function(O){return"n"===O||"s"===O}),p=d[0],h=f[0];c[r]=t;var v=Al(e),g=v[0],m=v[1],C=g&&m?g/m:0;if(C&&i){var _=e[(r+4)%8].pos,b=[0,0];a.indexOf("w")>-1?b[0]=-1:a.indexOf("e")>-1&&(b[0]=1),a.indexOf("n")>-1?b[1]=-1:a.indexOf("s")>-1&&(b[1]=1);var y=Fs([g,m],t,C,b,!0),w=g+y[0],S=m+y[1],A=_[1],M=_[1],E=_[0],k=_[0];-1===b[0]?E=k-w:1===b[0]?k=E+w:(E-=w/2,k+=w/2),-1===b[1]?A=M-S:(1===b[1]||(A=M-S/2),M=A+S);var T=Xr(A,k,M,E);e.forEach(function(O,R){c[R][0]=T[R].pos[0]-O.pos[0],c[R][1]=T[R].pos[1]-O.pos[1]})}else e.forEach(function(O,R){var P=O.direction;!P||(P.indexOf(p)>-1&&(c[R][0]=t[0]),P.indexOf(h)>-1&&(c[R][1]=t[1]))}),p&&(c[1][0]=t[0]/2,c[5][0]=t[0]/2),h&&(c[3][1]=t[1]/2,c[7][1]=t[1]/2)}else a&&!l?u.forEach(function(O){var R="n"===O||"s"===O;e.forEach(function(P,z){var N=P.direction,q=P.horizontal,I=P.vertical;!N||-1===N.indexOf(O)||(c[z]=[R||!q?0:t[0],R&&I?t[1]:0])})}):c[r]=t;return c}(A,d,N,T,h)}else k&&(O=E.map(function(){return[v,g]}));var q=E.map(function(lt,Ot){return Q(lt,O[Ot])}),I=L([],q,!0);_.snapBoundInfos=null;var G="circle"===f.type,F="ellipse"===f.type;if(G||F){var Y=Gt(q),rt=Math.abs(Y.bottom-Y.top),J=Math.abs(F?Y.right-Y.left:rt),tt=q[0][1]+rt,$=q[0][0]-J,it=q[0][0]+J;G&&(I.push([it,Y.bottom]),O.push([1,0])),I.push([Y.left,tt]),O.push([0,1]),I.push([$,Y.bottom]),O.push([1,0])}var ut=il((p.clipHorizontalGuidelines||[]).map(function(lt){return pt("".concat(lt),y)}),(p.clipVerticalGuidelines||[]).map(function(lt){return pt("".concat(lt),b)}),b,y),ot=[],W=[];if(G||F)ot=[I[4][0],I[2][0]],W=[I[1][1],I[3][1]];else if(T){var _t=[O[0],O[2],O[4],O[6]];ot=(H=[I[0],I[2],I[4],I[6]]).filter(function(lt,Ot){return _t[Ot][0]}).map(function(lt){return lt[0]}),W=H.filter(function(lt,Ot){return _t[Ot][1]}).map(function(lt){return lt[1]})}else ot=I.filter(function(lt,Ot){return O[Ot][0]}).map(function(lt){return lt[0]}),W=I.filter(function(lt,Ot){return O[Ot][1]}).map(function(lt){return lt[1]});var K=[0,0],at=el(ut,p.clipTargetBounds&&{left:0,top:0,right:b,bottom:y},ot,W,5),et=at.horizontal,dt=at.vertical,ht=et.offset,ct=dt.offset;if(et.isBound&&(K[1]+=ht),dt.isBound&&(K[0]+=ct),(F||G)&&0===O[0][0]&&0===O[0][1]){var nt=(Y=Gt(q)).bottom-Y.top,Pt=F?Y.right-Y.left:nt;Pt-=dt.isBound?Math.abs(ct):0===dt.snapIndex?-ct:ct,nt-=et.isBound?Math.abs(ht):0===et.snapIndex?-ht:ht,G&&(Pt=nt=Ls(dt,et)>0?nt:Pt);var mt=I[0];I[1][1]=mt[1]-nt,I[2][0]=mt[0]+Pt,I[3][1]=mt[1]+nt,I[4][0]=mt[0]-Pt}else if(T&&h&&l){var Ht=Al(A),Ge=Ht[0],Ne=Ht[1],Ll=Ge&&Ne?Ge/Ne:0,Qr=A[d].direction||"",zi=I[1][1];tt=I[5][1],$=I[7][0],it=I[3][0],ht<=ct?ht=ct/Ll:ct=ht*Ll,Qr.indexOf("w")>-1?$-=ct:Qr.indexOf("e")>-1?it-=ct:($+=ct/2,it-=ct/2),Qr.indexOf("n")>-1?zi-=ht:Qr.indexOf("s")>-1?tt-=ht:(zi+=ht/2,tt-=ht/2);var fv=Xr(zi,it,tt,$);I.forEach(function(Jl,gv){var Ni;Jl[0]=(Ni=fv[gv].pos)[0],Jl[1]=Ni[1]})}else I.forEach(function(lt,Ot){var Ul=O[Ot];Ul[0]&&(lt[0]-=ct),Ul[1]&&(lt[1]-=ht)});var Wl=Ai(e,f,q),Xl="".concat(S,"(").concat(Wl.join(M),")");if(_.clipPathState=Xl,G||F)ot=[I[4][0],I[2][0]],W=[I[1][1],I[3][1]];else if(T){var H;ot=(H=[I[0],I[2],I[4],I[6]]).map(function(Ot){return Ot[0]}),W=H.map(function(Ot){return Ot[1]})}else ot=I.map(function(lt){return lt[0]}),W=I.map(function(lt){return lt[1]});if(_.snapBoundInfos=el(ut,p.clipTargetBounds&&{left:0,top:0,right:b,bottom:y},ot,W,1),m){var Gi=K;o&&(Gi=[x[0]+K[0]-C[0],x[1]+K[1]-C[1]]),m.deltaOffset=st(_.allMatrix,[Gi[0],Gi[1],0,0],_.is3d?4:3)}return Z(e,"onClip",U(e,r,{clipEventType:"changed",clipType:S,poses:q,clipStyle:Xl,clipStyles:Wl,distX:v,distY:g})),!0},dragControlEnd:function(e,r){this.unset(e);var t=r.isDrag,n=r.datas,i=r.isDouble,o=n.isLine,l=n.isControl;return!!n.isClipStart&&(Z(e,"onClipEnd",It(e,r,{})),i&&(l?function(e,r){var t=r.datas,n=t.clipPath,i=t.clipIndex,a=n.type,l=n.poses,c=n.splitter,u=l.map(function(p){return p.pos}),d=u.length;if("polygon"===a)l.splice(i,1),u.splice(i,1);else{if("inset"!==a)return;if(i<8||(yl(l,u,i,8,d),d===l.length))return}var f=Ai(e,n,u);Z(e,"onClip",U(e,r,{clipEventType:"removed",clipType:a,poses:u,clipStyles:f,clipStyle:"".concat(a,"(").concat(f.join(c),")"),distX:0,distY:0}))}(e,r):o&&function(e,r){var t=ms(e,r),n=t[0],i=t[1],o=r.datas,a=o.clipPath,l=o.clipIndex,u=a.type,d=a.poses,f=a.splitter,p=d.map(function(C){return C.pos});if("polygon"===u)p.splice(l,0,[n,i]);else{if("inset"!==u)return;var h=rh.indexOf(l),v=nh.indexOf(l),g=d.length;if(Ml(d,p,8,h,v,n,i,p[4][0],p[4][1],p[0][0],p[0][1]),g===d.length)return}var m=Ai(e,a,p);Z(e,"onClip",U(e,r,{clipEventType:"added",clipType:u,poses:p,clipStyles:m,clipStyle:"".concat(u,"(").concat(m.join(f),")"),distX:0,distY:0}))}(e,r)),i||t)},unset:function(e){e.state.clipPathState="",e.state.snapBoundInfos=null}},uh={name:"originDraggable",props:{originDraggable:Boolean,originRelative:Boolean},events:{onDragOriginStart:"dragOriginStart",onDragOrigin:"dragOrigin",onDragOriginEnd:"dragOriginEnd"},css:[":host[data-able-origindraggable] .control.origin {\n    pointer-events: auto;\n}"],dragControlCondition:function(e,r){return r.isRequest?"originDraggable"===r.requestAble:bt(r.inputEvent.target,V("origin"))},dragControlStart:function(e,r){var t=r.datas;xe(e,r);var n=U(e,r,{dragStart:Dt.dragStart(e,(new De).dragStart([0,0],r))}),i=Z(e,"onDragOriginStart",n);return t.startOrigin=e.state.transformOrigin,t.startTargetOrigin=e.state.targetOrigin,t.prevOrigin=[0,0],t.isDragOrigin=!0,!1===i?(t.isDragOrigin=!1,!1):n},dragControl:function(e,r){var t=r.datas,n=r.isPinch,i=r.isRequest;if(!t.isDragOrigin)return!1;var o=Ut(r),c=e.state,u=c.width,d=c.height,f=c.offsetMatrix,p=c.targetMatrix,v=e.props.originRelative,g=void 0===v||v,m=c.is3d?4:3,C=[o[0],o[1]];if(i){var x=r.distOrigin;(x[0]||x[1])&&(C=x)}var _=Q(t.startOrigin,C),b=Q(t.startTargetOrigin,C),y=X(C,t.prevOrigin),w=or(f,p,_,m),S=e.getRect(),A=Gt(_e(w,u,d,m)),M=[S.left-A.left,S.top-A.top];t.prevOrigin=C;var k=U(e,r,{width:u,height:d,origin:_,dist:C,delta:y,transformOrigin:[Yt(b[0],u,g),Yt(b[1],d,g)].join(" "),drag:Dt.drag(e,ir(r,e.state,M,!!n,!1))});return Z(e,"onDragOrigin",k),k},dragControlEnd:function(e,r){return!!r.datas.isDragOrigin&&(Z(e,"onDragOriginEnd",It(e,r,{})),!0)},dragGroupControlCondition:function(e,r){return this.dragControlCondition(e,r)},dragGroupControlStart:function(e,r){return!!this.dragControlStart(e,r)},dragGroupControl:function(e,r){var t=this.dragControl(e,r);return!!t&&(e.transformOrigin=t.transformOrigin,!0)},request:function(e){var r={},t=e.getRect(),n=0,i=0,o=t.transformOrigin,a=[0,0];return{isControl:!0,requestStart:function(){return{datas:r}},request:function(l){return"deltaOrigin"in l?(a[0]+=l.deltaOrigin[0],a[1]+=l.deltaOrigin[1]):"origin"in l?(a[0]=l.origin[0]-o[0],a[1]=l.origin[1]-o[1]):("x"in l?n=l.x-t.left:"deltaX"in l&&(n+=l.deltaX),"y"in l?i=l.y-t.top:"deltaY"in l&&(i+=l.deltaY)),{datas:r,distX:n,distY:i,distOrigin:a}},requestEnd:function(){return{datas:r,isDrag:!0}}}}};function Dl(e,r,t,n,i){var o;if(void 0===n&&(n=[0,0]),i)o=i;else{var l=Nt(e);o=l&&l.borderRadius||""}return wl(!o||!i&&"0px"===o?[]:te(o),r,t,0,0,n)}function Ol(e,r,t,n,i,o){var a=e.state,l=a.width,c=a.height,u=Ei(o,i,e.props.roundRelative,l,c),f=u.styles,p=El(i,u.raws),h=p.horizontals,v=p.verticals,g=f.join(" ");a.borderRadiusState=g,Z(e,"onRound",U(e,r,{horizontals:h,verticals:v,borderRadius:g,width:l,height:c,delta:n,dist:t}))}var fh={name:"roundable",props:{roundable:Boolean,roundRelative:Boolean,minRoundControls:Array,maxRoundControls:Array,roundClickable:Boolean},events:{onRoundStart:"roundStart",onRound:"round",onRoundEnd:"roundEnd"},css:[".control.border-radius {\n    background: #d66;\n    cursor: pointer;\n}",":host[data-able-roundable] .line.direction {\n    cursor: pointer;\n}"],render:function(e,r){var t=e.state,n=t.target,a=t.allMatrix,c=t.left,u=t.top,f=e.props,p=f.minRoundControls,v=f.maxRoundControls,g=void 0===v?[4,4]:v,m=f.zoom;if(!n)return null;var C=t.is3d?4:3,x=Dl(n,t.width,t.height,void 0===p?[0,0]:p,t.borderRadiusState);if(!x)return null;var _=0,b=0;return x.map(function(y,w){b+=Math.abs(y.horizontal),_+=Math.abs(y.vertical);var S=X(St(a,y.pos,C),[c,u]),A=y.vertical?_<=g[1]:b<=g[0];return r.createElement("div",{key:"borderRadiusControl".concat(w),className:V("control","border-radius"),"data-radius-index":w,style:{display:A?"block":"none",transform:"translate(".concat(S[0],"px, ").concat(S[1],"px) scale(").concat(m,")")}})})},dragControlCondition:function(e,r){if(!r.inputEvent||r.isRequest)return!1;var t=r.inputEvent.target.getAttribute("class")||"";return t.indexOf("border-radius")>-1||t.indexOf("moveable-line")>-1&&t.indexOf("moveable-direction")>-1},dragControlStart:function(e,r){var n=r.datas,i=r.inputEvent.target,o=i.getAttribute("class")||"",a=o.indexOf("border-radius")>-1,l=o.indexOf("moveable-line")>-1&&o.indexOf("moveable-direction")>-1,c=a?parseInt(i.getAttribute("data-radius-index"),10):-1,u=l?parseInt(i.getAttribute("data-line-index"),10):-1;if(!a&&!l)return!1;if(!1===Z(e,"onRoundStart",U(e,r,{})))return!1;n.lineIndex=u,n.controlIndex=c,n.isControl=a,n.isLine=l,xe(e,r);var f=e.props,p=f.roundRelative,h=f.minRoundControls,v=void 0===h?[0,0]:h,g=e.state,m=g.target,C=g.width,x=g.height;n.isRound=!0,n.prevDist=[0,0];var _=Dl(m,C,x,v)||[];return n.controlPoses=_,g.borderRadiusState=Ei(_.map(function(b){return b.pos}),_,p,C,x).styles.join(" "),!0},dragControl:function(e,r){var t=r.datas;if(!t.isRound||!t.isControl||!t.controlPoses.length)return!1;var n=t.controlIndex,i=t.controlPoses,o=Ut(r),a=o[0],l=o[1],c=[a,l],u=X(c,t.prevDist),d=e.props.maxRoundControls,f=void 0===d?[4,4]:d,p=e.state,h=p.width,v=p.height,g=i[n],m=g.vertical,C=g.horizontal,x=i.map(function(b){var y=b.horizontal,w=b.vertical,S=[y*C*c[0],w*m*c[1]];if(y){if(1===f[0])return S;if(f[0]<4&&y!==C)return S}else{if(0===f[1])return S[1]=w*C*c[0]/h*v,S;if(m){if(1===f[1])return S;if(f[1]<4&&w!==m)return S}}return[0,0]});x[n]=c;var _=i.map(function(b,y){return Q(b.pos,x[y])});return t.prevDist=[a,l],Ol(e,r,c,u,i,_),!0},dragControlEnd:function(e,r){var t=e.state;t.borderRadiusState="";var n=r.datas,i=r.isDouble;if(!n.isRound)return!1;var o=t.width,a=t.height,l=n.isControl,c=n.controlIndex,u=n.isLine,d=n.lineIndex,f=n.controlPoses,p=f.map(function(_){return _.pos}),h=p.length,v=e.props.roundClickable;if(i&&(void 0===v||v)){if(l)yl(f,p,c,0);else if(u){var m=ms(e,r);!function(e,r,t,n,i,o,a){var l=El(e),d=l.horizontals.length,f=l.verticals.length,p=-1,h=-1;0===t?0===d?p=0:1===d&&(p=1):3===t&&(d<=2?p=2:d<=3&&(p=3)),2===t?0===f?h=0:f<4&&(h=3):1===t&&(f<=1?h=1:f<=2&&(h=2)),Ml(e,r,0,p,h,n,i,o,a)}(f,p,d,m[0],m[1],o,a)}h!==f.length&&Ol(e,r,[0,0],[0,0],f,p)}return Z(e,"onRoundEnd",It(e,r,{})),t.borderRadiusState="",!0},unset:function(e){e.state.borderRadiusState=""}},kl={isPinch:!0,name:"beforeRenderable",props:{},events:{onBeforeRenderStart:"beforeRenderStart",onBeforeRender:"beforeRender",onBeforeRenderEnd:"beforeRenderEnd",onBeforeRenderGroupStart:"beforeRenderGroupStart",onBeforeRenderGroup:"beforeRenderGroup",onBeforeRenderGroupEnd:"beforeRenderGroupEnd"},dragRelation:"weak",setTransform:function(e,r){var t=e.state,n=t.is3d,i=t.target,o=t.targetMatrix,a=null==i?void 0:i.style.transform,l=n?"matrix3d(".concat(o.join(","),")"):"matrix(".concat(Ya(o,!0),")"),c=a&&"none"!==a?a:l;r.datas.startTransforms=function(e,r){var n=ft(r?4:3);return e==="matrix".concat(r?"3d":"","(").concat(n.join(","),")")||"matrix(1,0,0,1,0,0)"===e}(c,n)?[]:te(c)},resetStyle:function(e){var r=e.datas;r.nextStyle={},r.nextTransforms=e.datas.startTransforms,r.nextTransformAppendedIndexes=[]},fillDragStartParams:function(e,r){return U(e,r,{setTransform:function(t){r.datas.startTransforms=$t(t)?t:te(t)},isPinch:!!r.isPinch})},fillDragParams:function(e,r){return U(e,r,{isPinch:!!r.isPinch})},dragStart:function(e,r){this.setTransform(e,r),Z(e,"onBeforeRenderStart",this.fillDragStartParams(e,r))},drag:function(e,r){this.resetStyle(r),r.datas.nextStyle={},Z(e,"onBeforeRender",U(e,r,{isPinch:!!r.isPinch}))},dragEnd:function(e,r){Z(e,"onBeforeRenderEnd",U(e,r,{isPinch:!!r.isPinch,isDrag:r.isDrag}))},dragGroupStart:function(e,r){var t=this;this.dragStart(e,r);var n=ie(e,"beforeRenderable",r),i=e.moveables,o=n.map(function(a,l){var c=i[l];return t.setTransform(c,a),t.fillDragStartParams(c,a)});Z(e,"onBeforeRenderGroupStart",U(e,r,{isPinch:!!r.isPinch,targets:e.props.targets,setTransform:function(){},events:o}))},dragGroup:function(e,r){var t=this;this.drag(e,r);var n=ie(e,"beforeRenderable",r),i=e.moveables,o=n.map(function(a,l){var c=i[l];return t.resetStyle(a),r.datas.nextStyle={},t.fillDragParams(c,a)});Z(e,"onBeforeRenderGroup",U(e,r,{isPinch:!!r.isPinch,targets:e.props.targets,events:o}))},dragGroupEnd:function(e,r){this.dragEnd(e,r),Z(e,"onBeforeRenderGroupEnd",U(e,r,{isPinch:!!r.isPinch,isDrag:r.isDrag,targets:e.props.targets}))},dragControlStart:function(e,r){return this.dragStart(e,r)},dragControl:function(e,r){return this.drag(e,r)},dragControlEnd:function(e,r){return this.dragEnd(e,r)},dragGroupControlStart:function(e,r){return this.dragGroupStart(e,r)},dragGroupControl:function(e,r){return this.dragGroup(e,r)},dragGroupControlEnd:function(e,r){return this.dragGroupEnd(e,r)}},Pl={name:"renderable",props:{},events:{onRenderStart:"renderStart",onRender:"render",onRenderEnd:"renderEnd",onRenderGroupStart:"renderGroupStart",onRenderGroup:"renderGroup",onRenderGroupEnd:"renderGroupEnd"},dragRelation:"weak",dragStart:function(e,r){Z(e,"onRenderStart",U(e,r,{isPinch:!!r.isPinch}))},drag:function(e,r){Z(e,"onRender",this.fillDragParams(e,r))},dragAfter:function(e,r){if(r.resultCount)return this.drag(e,r)},dragEnd:function(e,r){Z(e,"onRenderEnd",this.fillDragEndParams(e,r))},dragGroupStart:function(e,r){Z(e,"onRenderGroupStart",U(e,r,{isPinch:!!r.isPinch,targets:e.props.targets}))},dragGroup:function(e,r){var t=this,n=ie(e,"beforeRenderable",r),i=e.moveables,o=n.map(function(a,l){return t.fillDragParams(i[l],a)});Z(e,"onRenderGroup",U(e,r,D(D({isPinch:!!r.isPinch,targets:e.props.targets,transform:Ss(r)},lr(ws(r))),{events:o})))},dragGroupEnd:function(e,r){var t=this,n=ie(e,"beforeRenderable",r),i=e.moveables,o=n.map(function(a,l){return t.fillDragEndParams(i[l],a)});Z(e,"onRenderGroupEnd",U(e,r,{isPinch:!!r.isPinch,isDrag:r.isDrag,targets:e.props.targets,events:o}))},dragControlStart:function(e,r){return this.dragStart(e,r)},dragControl:function(e,r){return this.drag(e,r)},dragControlAfter:function(e,r){return this.dragAfter(e,r)},dragControlEnd:function(e,r){return this.dragEnd(e,r)},dragGroupControlStart:function(e,r){return this.dragGroupStart(e,r)},dragGroupControl:function(e,r){return this.dragGroup(e,r)},dragGroupControlEnd:function(e,r){return this.dragGroupEnd(e,r)},fillDragParams:function(e,r){return U(e,r,D({isPinch:!!r.isPinch,transform:Ss(r)},lr(ws(r))))},fillDragEndParams:function(e,r){return U(e,r,{isPinch:!!r.isPinch,isDrag:r.isDrag})}};function pr(e,r,t,n,i,o,a){var l="Start"===i,u=o.isRequest;if(!e.state.target||l&&n.indexOf("Control")>-1&&!u&&e.areaElement===o.inputEvent.target)return!1;var d="".concat(t).concat(n).concat(i),f="".concat(t).concat(n,"Condition"),p="End"===i,h="After"===i,v=l&&(!e.targetGesto||!e.controlGesto||!e.targetGesto.isFlag()||!e.controlGesto.isFlag());v&&e.updateRect(i,!0,!1),""===i&&!u&&Gs(e.state,o);var g=L([],e[r],!0);if(u){var m=o.requestAble;g.some(function(T){return T.name===m})||g.push.apply(g,e.props.ables.filter(function(T){return T.name===m}))}if(!g.length)return!1;var C=L(L([kl],g,!0),[Pl],!1).filter(function(T){return T[d]}),x=o.datas;v&&C.forEach(function(T){T.unset&&T.unset(e)});var b,_=o.inputEvent;p&&_&&(b=document.elementFromPoint(o.clientX,o.clientY)||_.target);var y=0,w=!1,S=function(){var T;w=!0,null===(T=o.stop)||void 0===T||T.call(o)},M=C.filter(function(T){var O=T.name,R=x[O]||(x[O]={});if(l&&(R.isEventStart=!T[f]||T[f](e,o)),R.isEventStart){var P=T[d](e,D(D({},o),{stop:S,resultCount:y,datas:R,originalDatas:x,inputTarget:b}));return e._emitter.off(),l&&!1===P&&(R.isEventStart=!1),y+=P?1:0,P}return!1}).length,E=!1;return l&&(w||C.length&&!M)&&(E=w||0===C.filter(function(T){var R=x[T.name];return!(!R.isEventStart||"strong"===T.dragRelation&&(R.isEventStart=!1,1))}).length),(p||E)&&(e.state.gestos={},e.moveables&&e.moveables.forEach(function(T){T.state.gestos={}})),v&&E&&C.forEach(function(T){T.unset&&T.unset(e)}),l&&!E&&!u&&M&&(null==o||o.preventDefault()),!e.isUnmounted&&!E&&((!l&&M&&!a||p)&&(e.props.flushSync||Ts)(function(){e.updateRect(p?i:"",!0,!1),e.forceUpdate()}),!l&&!p&&!h&&M&&!a&&pr(e,r,t,n,i+"After",o),!0)}function Rl(e,r,t){var n=e.controlBox.getElement(),i=[];i.push(n),(!e.props.dragArea||e.props.dragTarget)&&i.push(r);var o=function(a){var l=a.inputEvent.target;return l===e.areaElement||!e.isMoveableElement(l)&&!e.controlBox.getElement().contains(l)||bt(l,"moveable-area")||bt(l,"moveable-padding")};return Ti(e,i,"targetAbles",t,{dragStart:o,pinchStart:o})}function Ti(e,r,t,n,i){void 0===i&&(i={});var o="targetAbles"===t,a=e.props,p={preventDefault:!0,preventRightClick:!0,preventWheelClick:!0,container:window,pinchThreshold:a.pinchThreshold,pinchOutside:a.pinchOutside,preventClickEventOnDrag:!!o&&a.preventClickEventOnDrag,preventClickEventOnDragStart:!!o&&a.preventClickDefault,preventClickEventByCondition:o?null:function(g){return e.controlBox.getElement().contains(g.target)},checkInput:!!o&&a.checkInput},h=new Qp(r,p),v="Control"===n;return["drag","pinch"].forEach(function(g){["Start","","End"].forEach(function(m){h.on("".concat(g).concat(m),function(C){var x,_=C.eventType;(!i[_]||i[_](C))&&pr(e,t,g,n,m,C)?(e.props.stopPropagation||"Start"===m&&v)&&(null===(x=null==C?void 0:C.inputEvent)||void 0===x||x.stopPropagation()):C.stop()})})}),h}var hh=function(){function e(t,n,i){var o=this;this.target=t,this.moveable=n,this.eventName=i,this.ables=[],this._onEvent=function(a){var l=o.eventName,c=o.moveable;c.state.disableNativeEvent||o.ables.forEach(function(u){u[l](c,{inputEvent:a})})},t.addEventListener(i.toLowerCase(),this._onEvent)}var r=e.prototype;return r.setAbles=function(t){this.ables=t},r.destroy=function(){this.target.removeEventListener(this.eventName.toLowerCase(),this._onEvent),this.target=null,this.moveable=null},e}();function Il(e,r,t,n){void 0===t&&(t=r);var i=0,o=0,a=0,l={},c=Is(e);if(e&&(i=c.offsetWidth,o=c.offsetHeight),e){var u=function(e,r,t,n){var i;void 0===t&&(t=r);var o=ks(e,r),a=o.matrixes,l=o.is3d,c=o.targetMatrix,u=o.transformOrigin,d=o.targetOrigin,f=o.offsetContainer,p=o.hasFixed,h=ks(f,t,!0),v=h.matrixes,g=h.is3d,m=h.offsetContainer,C=n||g||l,x=C?4:3,_="svg"!==e.tagName.toLowerCase()&&"ownerSVGElement"in e,b=c,y=ft(x),w=ft(x),S=ft(x),A=ft(x),M=a.length;v.reverse(),a.reverse(),!l&&C&&(b=Xt(b,3,4),ei(a)),!g&&C&&ei(v),v.forEach(function(P){w=st(w,P.matrix,x)});var E=t||document.body,k=(null===(i=v[0])||void 0===i?void 0:i.target)||kr(E,E,!0).offsetParent,T=v.slice(1).reduce(function(P,z){return st(P,z.matrix,x)},ft(x));a.forEach(function(P,z){if(M-2===z&&(S=y.slice()),M-1===z&&(A=y.slice()),!P.matrix){var q=function(e,r,t,n,i){var o,a=e.target,l=e.origin,c=r.matrix,u=Is(a),d=u.offsetWidth,f=u.offsetHeight,p=t.getBoundingClientRect(),h=[0,0];t===document.body&&(h=Os(a,!0));for(var v=a.getBoundingClientRect(),g=v.left-p.left+t.scrollLeft-(t.clientLeft||0)+h[0],m=v.top-p.top+t.scrollTop-(t.clientTop||0)+h[1],C=v.width,x=v.height,_=yn(n,i,c),b=Ps(_,d,f,n),y=b.left,w=b.top,S=b.width,A=b.height,M=St(_,l,n),E=X(M,[y,w]),k=[g+E[0]*C/S,m+E[1]*x/A],T=[0,0],O=0;++O<10;){var R=Wt(i,n);o=X(St(R,k,n),St(R,M,n)),T[0]=o[0],T[1]=o[1];var z=Ps(yn(n,i,je(T,n),c),d,f,n),I=z.left-g,G=z.top-m;if(Math.abs(I)<2&&Math.abs(G)<2)break;k[0]-=I,k[1]-=G}return T.map(function(F){return Math.round(F)})}(P,a[z+1],k,x,st(T,y,x));P.matrix=je(q,x)}y=st(y,P.matrix,x)});var O=!_&&l;b||(b=ft(O?4:3));var R=Pr(_&&16===b.length?Xt(b,4,3):b,O);return{hasFixed:p,rootMatrix:w=qa(w,x,x),beforeMatrix:S,offsetMatrix:A,allMatrix:y,targetMatrix:b,targetTransform:R,transformOrigin:u,targetOrigin:d,is3d:C,offsetContainer:f,offsetRootContainer:m}}(e,r,t,n),d=Rr(u.allMatrix,u.transformOrigin,i,o);l=D(D({},u),d);var f=Rr(u.allMatrix,[50,50],100,100);a=Bs([f.pos1,f.pos2],f.direction)}var p=n?4:3;return D(D(D({width:i,height:o,rotation:a},c),{rootMatrix:ft(p),beforeMatrix:ft(p),offsetMatrix:ft(p),allMatrix:ft(p),targetMatrix:ft(p),targetTransform:"",transformOrigin:[0,0],targetOrigin:[0,0],is3d:!!n,left:0,top:0,right:0,bottom:0,origin:[0,0],pos1:[0,0],pos2:[0,0],pos3:[0,0],pos4:[0,0],direction:1,hasFixed:!1,offsetContainer:null,offsetRootContainer:null}),l)}function Di(e,r,t,n,i){var o=1,a=[0,0],l={left:0,top:0,width:0,height:0,right:0,bottom:0,clientLeft:0,clientTop:0,clientWidth:0,clientHeight:0,scrollWidth:0,scrollHeight:0},c={left:0,top:0,width:0,height:0,right:0,bottom:0,clientLeft:0,clientTop:0,clientWidth:0,clientHeight:0,scrollWidth:0,scrollHeight:0},u={left:0,top:0,width:0,height:0,right:0,bottom:0,clientLeft:0,clientTop:0,clientWidth:0,clientHeight:0,scrollWidth:0,scrollHeight:0},d={left:0,top:0,width:0,height:0,right:0,bottom:0,clientLeft:0,clientTop:0,clientWidth:0,clientHeight:0,scrollWidth:0,scrollHeight:0},f=Il(r,t,i,!0);if(r){var h=Rr(f.offsetMatrix,Q(f.transformOrigin,Va(f.targetMatrix,f.is3d?4:3)),f.width,f.height);o=h.direction,a=Q(h.origin,[h.left-f.left,h.top-f.top]),l=sr(r),u=sr(kr(n,n,!0).offsetParent||f.offsetRootContainer,!0),d=sr(f.offsetRootContainer),e&&(c=sr(e))}return D({targetClientRect:l,containerClientRect:u,moveableClientRect:c,rootContainerClientRect:d,beforeDirection:o,beforeOrigin:a,originalBeforeOrigin:a,target:r},f)}var Be=function(e){function r(){var n=null!==e&&e.apply(this,arguments)||this;return n.state=D({container:null,gestos:{},renderPoses:[[0,0],[0,0],[0,0],[0,0]],disableNativeEvent:!1},Di(null)),n.renderState={},n.enabledAbles=[],n.targetAbles=[],n.controlAbles=[],n.rotation=0,n.scale=[1,1],n.isUnmounted=!1,n.events={mouseEnter:null,mouseLeave:null},n._emitter=new In,n._prevTarget=null,n._prevDragArea=!1,n._onChangetarget=null,n._isPropTargetChanged=!1,n._observer=null,n._observerId=0,n.checkUpdateRect=function(){if(!n.isDragging()){var i=n.props.parentMoveable;if(i)return void i.checkUpdateRect();Mu(n._observerId),n._observerId=_a(function(){n.isDragging()||n.updateRect()})}},n._onPreventClick=function(i){i.stopPropagation(),i.preventDefault()},n}Te(r,e);var t=r.prototype;return t.render=function(){var n=this.props,i=this.state,o=n.parentPosition,a=n.className,l=n.target,c=n.zoom,u=n.cspNonce,d=n.translateZ,f=n.cssStyled,p=n.portalContainer;this.checkUpdate(),this.updateRenderPoses();var h=o||{left:0,top:0},v=h.left,g=h.top,m=i.left,C=i.top,_=i.direction,b=i.hasFixed,y=n.targets,w=(y&&y.length||l)&&i.target,S=this.isDragging(),A={};return this.getEnabledAbles().forEach(function(M){A["data-able-".concat(M.name.toLowerCase())]=!0}),zt(f,D({cspNonce:u,ref:Lt(this,"controlBox"),className:"".concat(V("control-box",-1===_?"reverse":"",S?"dragging":"")," ").concat(a)},A,{onClick:this._onPreventClick,portalContainer:p,style:{position:b?"fixed":"absolute",display:w?"block":"none",transform:"translate3d(".concat(m-v,"px, ").concat(C-g,"px, ").concat(d,")"),"--zoom":c,"--zoompx":"".concat(c,"px")}}),this.renderAbles(),this._renderLines())},t.componentDidMount=function(){this.isUnmounted=!1,this.controlBox.getElement();var n=this.props,i=n.parentMoveable,o=n.container,a=n.wrapperMoveable;this._updateTargets(),this._updateNativeEvents(),this._updateEvents(),!o&&!i&&!a&&this.updateRect("",!1,!0),this.updateCheckInput(),this._updateObserver(this.props)},t.componentDidUpdate=function(n){var i;this._updateNativeEvents(),this._updateEvents(),this._updateTargets(),this.updateCheckInput(),this._updateObserver(n),this._isPropTargetChanged&&(null===(i=this._onChangetarget)||void 0===i||i.call(this))},t.componentWillUnmount=function(){this.isUnmounted=!0,this._emitter.off(),ke(this,"targetGesto"),ke(this,"controlGesto");var n=this.events;for(var i in n){var o=n[i];o&&o.destroy()}},t.getAble=function(n){return de(this.props.ables||[],function(o){return o.name===n})},t.getContainer=function(){var n=this.props,i=n.parentMoveable,o=n.wrapperMoveable;return n.container||o&&o.getContainer()||i&&i.getContainer()||this.controlBox.getElement().parentElement},t.isMoveableElement=function(n){return n&&(n.getAttribute("class")||"").indexOf(Un)>-1},t.dragStart=function(n){var i=this.targetGesto;return i&&!i.isFlag()&&i.triggerDragStart(n),this},t.hitTest=function(n){var f,i=this.state,a=i.pos1,l=i.pos2,c=i.pos3,u=i.pos4,d=i.targetClientRect;if(!i.target)return 0;if(n instanceof Element){var p=n.getBoundingClientRect();f={left:p.left,top:p.top,width:p.width,height:p.height}}else f=D({width:0,height:0},n);var h=f.left,v=f.top,g=f.width,m=f.height,C=Ja([a,l,u,c],d),x=xp(C,[[h,v],[h+g,v],[h+g,v+m],[h,v+m]]),_=Ua(C);return x&&_?Math.min(100,x/_*100):0},t.isInside=function(n,i){var o=this.state;return!!o.target&&Tn([n,i],Ja([o.pos1,o.pos2,o.pos4,o.pos3],o.targetClientRect))},t.updateRect=function(n,i,o){void 0===o&&(o=!0);var a=this.props,l=a.parentMoveable,u=this.state.target||this.props.target,d=this.getContainer(),f=l?l.props.rootContainer:a.rootContainer;this.updateState(Di(this.controlBox&&this.controlBox.getElement(),u,d,d,f||d),!l&&o)},t.isDragging=function(){return!!this.targetGesto&&this.targetGesto.isFlag()||!!this.controlGesto&&this.controlGesto.isFlag()},t.updateTarget=function(n){this.updateRect(n,!0)},t.getRect=function(){var n=this.state,i=kt(this.state),o=i[0],a=i[1],l=i[2],c=i[3],u=Gt(i),d=n.width,f=n.height,p=u.width,h=u.height,v=u.left,g=u.top,m=[n.left,n.top],C=Q(m,n.origin);return{width:p,height:h,left:v,top:g,pos1:o,pos2:a,pos3:l,pos4:c,offsetWidth:d,offsetHeight:f,beforeOrigin:Q(m,n.beforeOrigin),origin:C,transformOrigin:n.transformOrigin,rotation:this.getRotation()}},t.getManager=function(){return this},t.getRotation=function(){var n=this.state;return function(e,r,t){var n=vt(e,r)/Math.PI*180;return(n=t>=0?n:180-n)>=0?n:360+n}(n.pos1,n.pos2,n.direction)},t.request=function(n,i,o){void 0===i&&(i={});var a=this.props,c=a.groupable,u=a.ables.filter(function(m){return m.name===n})[0];if(this.isDragging()||!u||!u.request)return{request:function(){return this},requestEnd:function(){return this}};var d=this,f=u.request(this),p=o||i.isInstant,h=f.isControl?"controlAbles":"targetAbles",v="".concat(c?"Group":"").concat(f.isControl?"Control":""),g={request:function(m){return pr(d,h,"drag",v,"",D(D({},f.request(m)),{requestAble:n,isRequest:!0}),p),this},requestEnd:function(){return pr(d,h,"drag",v,"End",D(D({},f.requestEnd()),{requestAble:n,isRequest:!0}),p),this}};return pr(d,h,"drag",v,"Start",D(D({},f.requestStart(i)),{requestAble:n,isRequest:!0}),p),p?g.request(i).requestEnd():g},t.destroy=function(){this.componentWillUnmount()},t.updateRenderPoses=function(){var n=this.state,i=this.props,o=n.originalBeforeOrigin,a=n.transformOrigin,l=n.allMatrix,u=n.pos1,d=n.pos2,f=n.pos3,p=n.pos4,g=i.padding||{},m=g.left,C=void 0===m?0:m,x=g.top,_=void 0===x?0:x,b=g.bottom,y=void 0===b?0:b,w=g.right,S=void 0===w?0:w,A=n.is3d?4:3,M=i.groupable?o:Q(o,[n.left,n.top]);n.renderPoses=[Q(u,zr(l,[-C,-_],a,M,A)),Q(d,zr(l,[S,-_],a,M,A)),Q(f,zr(l,[-C,y],a,M,A)),Q(p,zr(l,[S,y],a,M,A))]},t.checkUpdate=function(){this._isPropTargetChanged=!1;var n=this.props,i=n.target,o=n.container,a=n.parentMoveable,l=this.state,c=l.target,u=l.container;if(c||i){this.updateAbles();var d=!si(c,i);if(d||!si(u,o)){var p=o||this.controlBox;p&&this.unsetAbles(),this.updateState({target:i,container:o}),!a&&p&&this.updateRect("End",!1,!1),this._isPropTargetChanged=d}}},t.waitToChangeTarget=function(){var i,n=this;return this._onChangetarget=function(){n._onChangetarget=null,i()},new Promise(function(o){i=o})},t.triggerEvent=function(n,i){this._emitter.trigger(n,i);var o=this.props[n];return o&&o(i)},t.useCSS=function(n,i){var o=this.props.customStyledMap,a=n+i;return o[a]||(o[a]=ps(n,i)),o[a]},t.unsetAbles=function(){var n=this;this.targetAbles.forEach(function(i){i.unset&&i.unset(n)})},t.updateAbles=function(n,i){void 0===n&&(n=this.props.ables),void 0===i&&(i="");var o=this.props,a=o.triggerAblesSimultaneously,l=n.filter(function(h){return h&&(h.always&&!1!==o[h.name]||o[h.name])}),c="drag".concat(i,"Start"),u="pinch".concat(i,"Start"),d="drag".concat(i,"ControlStart"),f=Br(l,[c,u],a),p=Br(l,[d],a);this.enabledAbles=l,this.targetAbles=f,this.controlAbles=p},t.updateState=function(n,i){if(i){if(this.isUnmounted)return;this.setState(n)}else{var o=this.state;for(var a in n)o[a]=n[a]}},t.getEnabledAbles=function(){var n=this.props;return n.ables.filter(function(o){return o&&n[o.name]})},t.renderAbles=function(){var n=this,o=this.props.triggerAblesSimultaneously,a={createElement:zt};return this.renderState={},function(e,r){var t=[],n={};return e.forEach(function(i,o){var a=function(l){return l.key}(i),l=n[a];l||(n[a]=l=[],t.push(l)),l.push(i)}),t}(function(e){return e.reduce(function(r,t){return r.concat(t)},[])}(Br(this.getEnabledAbles(),["render"],o).map(function(l){return(0,l.render)(n,a)||[]})).filter(function(l){return l})).map(function(l){return l[0]})},t.updateCheckInput=function(){this.targetGesto&&(this.targetGesto.options.checkInput=this.props.checkInput)},t._updateObserver=function(n){var i,o=this.props,a=o.target;if(window.ResizeObserver&&a&&o.useResizeObserver){if(n.target!==a||!this._observer){var l=new ResizeObserver(this.checkUpdateRect);l.observe(a,{box:"border-box"}),this._observer=l}}else null===(i=this._observer)||void 0===i||i.disconnect()},t._updateEvents=function(){var n=this.controlBox.getElement(),i=this.targetAbles.length,o=this.controlAbles.length,a=this.props,l=a.dragTarget||a.target;(!i&&this.targetGesto||this._isTargetChanged(!0))&&(ke(this,"targetGesto"),this.updateState({gesto:null})),o||ke(this,"controlGesto"),l&&i&&!this.targetGesto&&(this.targetGesto=Rl(this,l,"")),!this.controlGesto&&o&&(this.controlGesto=Ti(this,n,"controlAbles","Control"))},t._updateTargets=function(){var n=this.props;this._prevTarget=n.dragTarget||n.target,this._prevDragArea=n.dragArea},t._renderLines=function(){var n=this.props,o=n.zoom;if(n.hideDefaultLines||n.parentMoveable&&n.hideChildMoveableDefaultLines)return[];var u=this.state.renderPoses,d={createElement:zt};return[[0,1],[1,3],[3,2],[2,0]].map(function(f,p){return Yr(d,"",u[f[0]],u[f[1]],o,p)})},t._isTargetChanged=function(n){var i=this.props,c=i.dragArea;return!c&&this._prevTarget!==(i.dragTarget||i.target)||(n||c)&&this._prevDragArea!==c},t._updateNativeEvents=function(){var n=this,o=this.props.dragArea?this.areaElement:this.state.target,a=this.events,l=ye(a);if(this._isTargetChanged())for(var c in a){var u=a[c];u&&u.destroy(),a[c]=null}if(o){var d=this.enabledAbles;l.forEach(function(f){var p=Br(d,[f]),v=a[f];p.length>0?(v||(v=new hh(o,n,f),a[f]=v),v.setAbles(p)):v&&(v.destroy(),a[f]=null)})}},r.defaultProps={target:null,dragTarget:null,container:null,rootContainer:null,origin:!0,parentMoveable:null,wrapperMoveable:null,parentPosition:null,portalContainer:null,useResizeObserver:!1,ables:[],pinchThreshold:20,dragArea:!1,passDragArea:!1,transformOrigin:"",className:"",zoom:1,triggerAblesSimultaneously:!1,padding:{},pinchOutside:!0,checkInput:!1,groupable:!1,hideDefaultLines:!1,cspNonce:"",translateZ:0,cssStyled:null,customStyledMap:{},props:{},stopPropagation:!1,preventClickDefault:!1,preventClickEventOnDrag:!0,flushSync:Ts},r}(mn),Oi={name:"groupable",props:{defaultGroupRotate:Number,defaultGroupOrigin:String,groupable:Boolean,hideChildMoveableDefaultLines:Boolean},events:{},render:function(e,r){var t=e.props.targets||[];e.moveables=[];var n=e.state,a={left:n.left,top:n.top},l=e.props;return t.map(function(c,u){return r.createElement(Be,{key:"moveable"+u,ref:la(e,"moveables",u),target:c,origin:!1,cssStyled:l.cssStyled,customStyledMap:l.customStyledMap,useResizeObserver:l.useResizeObserver,hideChildMoveableDefaultLines:l.hideChildMoveableDefaultLines,parentMoveable:e,parentPosition:a})})}},gh=rr("clickable",{props:{clickable:Boolean},events:{onClick:"click",onClickGroup:"clickGroup"},always:!0,dragRelation:"weak",dragStart:function(){},dragControlStart:function(){this.dragStart()},dragGroupStart:function(e,r){r.datas.inputTarget=r.inputEvent&&r.inputEvent.target},dragEnd:function(e,r){var t=e.state.target,n=r.inputEvent,i=r.inputTarget,a=!e.isMoveableElement(i)&&e.controlBox.getElement().contains(i);if(n&&i&&!r.isDrag&&!e.isMoveableElement(i)&&!a){var l=t.contains(i);Z(e,"onClick",U(e,r,{isDouble:r.isDouble,inputTarget:i,isTarget:t===i,containsTarget:l}))}},dragGroupEnd:function(e,r){var n=r.inputTarget;if(r.inputEvent&&n&&!r.isDrag&&!e.isMoveableElement(n)&&r.datas.inputTarget!==n){var i=e.props.targets,o=i.indexOf(n),a=o>-1,l=!1;-1===o&&(l=(o=jt(i,function(c){return c.contains(n)}))>-1),Z(e,"onClickGroup",U(e,r,{isDouble:r.isDouble,targets:i,inputTarget:n,targetIndex:o,isTarget:a,containsTarget:l}))}},dragControlEnd:function(e,r){this.dragEnd(e,r)},dragGroupControlEnd:function(e,r){this.dragEnd(e,r)}});function ze(e){var r=e.originalDatas.draggable;return r||(e.originalDatas.draggable={},r=e.originalDatas.draggable),D(D({},e),{datas:r})}var mh=rr("edgeDraggable",{css:[".edge.edgeDraggable.line {\n    cursor: move;\n}"],render:function(e,r){var t=e.props,n=t.edgeDraggable;return n?pl(r,"edgeDraggable",n,e.state.renderPoses,t.zoom):[]},dragControlCondition:function(e,r){if(!e.props.edgeDraggable||!r.inputEvent)return!1;var t=r.inputEvent.target;return bt(t,V("direction"))&&bt(t,V("edge"))&&bt(t,V("edgeDraggable"))},dragControlStart:function(e,r){return e.state.snapRenderInfo={request:r.isRequest,snap:!0,center:!0},Dt.dragStart(e,ze(r))},dragControl:function(e,r){return Dt.drag(e,ze(r))},dragControlEnd:function(e,r){return Dt.dragEnd(e,ze(r))},dragGroupControlCondition:function(e,r){if(!e.props.edgeDraggable||!r.inputEvent)return!1;var t=r.inputEvent.target;return bt(t,V("direction"))&&bt(t,V("line"))},dragGroupControlStart:function(e,r){return Dt.dragGroupStart(e,ze(r))},dragGroupControl:function(e,r){return Dt.dragGroup(e,ze(r))},dragGroupControlEnd:function(e,r){return Dt.dragGroupEnd(e,ze(r))},unset:function(e){return Dt.unset(e)}}),Bl={name:"individualGroupable",props:{individualGroupable:Boolean},events:{}},ki=[kl,_l,qd,td,Dt,mh,_i,Ud,jd,Xd,th,eh,Qd,uh,ch,fh,Oi,Bl,gh,xl,Pl],Ch=ki.reduce(function(e,r){return D(D({},e),"events"in r?r.events:{})},{}),zl=ki.reduce(function(e,r){return D(D({},e),r.props)},{}),_h=Object.keys(Jf(Ch)),bh=Object.keys(zl);function Ur(e,r){return Math.max.apply(Math,e.map(function(t){return Math.max(t[0][r],t[1][r],t[2][r],t[3][r])}))}function Jr(e,r){return Math.min.apply(Math,e.map(function(t){return Math.min(t[0][r],t[1][r],t[2][r],t[3][r])}))}var wh=function(e){function r(){var n=null!==e&&e.apply(this,arguments)||this;return n.differ=new up,n.moveables=[],n.transformOrigin="50% 50%",n}Te(r,e);var t=r.prototype;return t.checkUpdate=function(){this._isPropTargetChanged=!1,this.updateAbles()},t.updateRect=function(n,i,o){if(void 0===o&&(o=!0),this.controlBox){this.moveables.forEach(function(O){O.updateRect(n,!1,!1)});var a=this.state,l=this.props,c=a.target||l.target;(!i||""!==n&&l.updateGroup)&&(this.rotation=l.defaultGroupRotate,this.transformOrigin=l.defaultGroupOrigin||"50% 50%",this.scale=[1,1]);var u=this.rotation,d=this.scale,f=function(e,r){if(!e.length)return[0,0,0,0];var t=e.map(function(g){return kt(g.state)}),n=nr,i=nr,o=0,a=0,l=j(r,Tt);if(l%90){var c=l/180*Math.PI,u=Math.tan(c),d=-1/u,f=[hs,nr],p=[hs,nr];t.forEach(function(g){g.forEach(function(m){var C=m[1]-u*m[0],x=m[1]-d*m[0];f[0]=Math.max(f[0],C),f[1]=Math.min(f[1],C),p[0]=Math.max(p[0],x),p[1]=Math.min(p[1],x)})}),f.forEach(function(g){p.forEach(function(m){var C=(m-g)/(u-d),x=u*C+g;n=Math.min(n,C),i=Math.min(i,x)})});var h=t.map(function(g){var C=g[1],x=g[2],_=g[3];return[ne(g[0],-c),ne(C,-c),ne(x,-c),ne(_,-c)]});o=Ur(h,0)-Jr(h,0),a=Ur(h,1)-Jr(h,1)}else if(n=Jr(t,0),i=Jr(t,1),o=Ur(t,0)-n,a=Ur(t,1)-i,l%180){var v=o;o=a,a=v}return[n,i,o,a]}(this.moveables,u),p=f[0],h=f[1],v=f[2],g=f[3],m="rotate(".concat(u,"deg) scale(").concat(d[0]>=0?1:-1,", ").concat(d[1]>=0?1:-1,")");c.style.cssText+="left:0px;top:0px; transform-origin: ".concat(this.transformOrigin,"; width:").concat(v,"px; height:").concat(g,"px;")+"transform:".concat(m),a.width=v,a.height=g;var C=this.getContainer(),x=Di(this.controlBox.getElement(),c,this.controlBox.getElement(),this.getContainer(),this.props.rootContainer||C),_=[x.left,x.top],b=kt(x),y=b[0],w=b[1],S=b[2],A=b[3],M=br([y,w,S,A]),E=[M.minX,M.minY];x.pos1=X(y,E),x.pos2=X(w,E),x.pos3=X(S,E),x.pos4=X(A,E),x.left=p-x.left+E[0],x.top=h-x.top+E[1],x.origin=X(Q(_,x.origin),E),x.beforeOrigin=X(Q(_,x.beforeOrigin),E),x.originalBeforeOrigin=Q(_,x.originalBeforeOrigin);var k=x.targetClientRect,T=d[0]*d[1]>0?1:-1;k.top+=x.top-a.top,k.left+=x.left-a.left,c.style.transform="translate(".concat(-E[0],"px, ").concat(-E[1],"px) ").concat(m),this.updateState(D(D({},x),{direction:T,beforeDirection:T}),o)}},t.getRect=function(){return D(D({},e.prototype.getRect.call(this)),{children:this.moveables.map(function(n){return n.getRect()})})},t.triggerEvent=function(n,i,o){if(o||n.indexOf("Group")>-1)return e.prototype.triggerEvent.call(this,n,i);this._emitter.trigger(n,i)},t.updateAbles=function(){e.prototype.updateAbles.call(this,L(L([],this.props.ables,!0),[Oi],!1),"Group")},t._updateTargets=function(){e.prototype._updateTargets.call(this),this._prevTarget=this.props.dragTarget||this.areaElement},t._updateEvents=function(){var n=this.state,i=this.props,a=i.dragTarget||this.areaElement;this._prevTarget!==a&&(ke(this,"targetGesto"),ke(this,"controlGesto"),n.target=null),n.target||(n.target=this.areaElement,this.controlBox.getElement().style.display="block"),n.target&&(this.targetGesto||(this.targetGesto=Rl(this,a,"Group")),this.controlGesto||(this.controlGesto=Ti(this,this.controlBox.getElement(),"controlAbles","GroupControl")));var l=!si(n.container,i.container);l&&(n.container=i.container);var c=this.differ.update(i.targets),p=c.added.length||c.removed.length;(l||p||c.changed.length)&&this.updateRect(),this._isPropTargetChanged=!!p},t._updateObserver=function(){},r.defaultProps=D(D({},Be.defaultProps),{transformOrigin:["50%","50%"],groupable:!0,dragArea:!0,keepRatio:!0,targets:[],defaultGroupRotate:0,defaultGroupOrigin:"50% 50%"}),r}(Be),yh=function(e){function r(){var n=null!==e&&e.apply(this,arguments)||this;return n.moveables=[],n}Te(r,e);var t=r.prototype;return t.render=function(){var n=this,i=this.props,l=i.targets;return zt(i.cssStyled,{cspNonce:i.cspNonce,ref:Lt(this,"controlBox"),className:V("control-box")},l.map(function(c,u){return zt(Be,D({key:"moveable"+u,ref:la(n,"moveables",u)},n.props,{target:c,wrapperMoveable:n}))}))},t.componentDidUpdate=function(){},t.updateRect=function(n,i,o){void 0===o&&(o=!0),this.moveables.forEach(function(a){a.updateRect(n,i,o)})},t.getRect=function(){return D(D({},e.prototype.getRect.call(this)),{children:this.moveables.map(function(n){return n.getRect()})})},t.request=function(){return{request:function(){return this},requestEnd:function(){return this}}},t.dragStart=function(){return this},t.hitTest=function(){return 0},t.isInside=function(){return!1},t.isDragging=function(){return!1},t.updateRenderPoses=function(){},t.checkUpdate=function(){},t.triggerEvent=function(){},t.updateAbles=function(){},t._updateEvents=function(){},t._updateObserver=function(){},r}(Be),Eh=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return Te(r,e),r.defaultAbles=ki,r}(function(e){function r(){var n=null!==e&&e.apply(this,arguments)||this;return n.refTargets=[],n.selectorMap={},n}Te(r,e);var t=r.prototype;return r.makeStyled=function(){var n={};this.getTotalAbles().forEach(function(a){var l=a.css;!l||l.forEach(function(c){n[c]=!0})});var o=ye(n).join("\n");this.defaultStyled=ps("div",function(e,r){return r.replace(/([^}{]*){/gm,function(t,n){return n.replace(/\.([^{,\s\d.]+)/g,".moveable-$1")+"{"})}(0,gf+o))},r.getTotalAbles=function(){return L([_l,Oi,Bl,xl],this.defaultAbles,!0)},t.render=function(){var n=this.constructor;n.defaultStyled||n.makeStyled();var i=this.props,o=i.ables,a=i.props,l=function(e,r){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)r.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(t[n[i]]=e[n[i]])}return t}(i,["ables","props"]),u=function(e,r){var t=[];return e.forEach(function(n){if(n){if(Bt(n))return void(r[n]&&t.push.apply(t,r[n]));t.push(n)}}),t}(this._updateRefs(!0),this.selectorMap),d=u.length>1,p=L(L([],n.getTotalAbles(),!0),o||[],!0),h=D(D(D({},l),a||{}),{ables:p,cssStyled:n.defaultStyled,customStyledMap:n.customStyledMap});return d?l.individualGroupable?zt(yh,D({key:"individual-group",ref:Lt(this,"moveable")},h,{target:null,targets:u})):zt(wh,D({key:"group",ref:Lt(this,"moveable")},h,{target:null,targets:u})):zt(Be,D({key:"single",ref:Lt(this,"moveable")},h,{target:u[0]}))},t.componentDidMount=function(){this._updateRefs()},t.componentDidUpdate=function(){this._updateRefs()},t.componentWillUnmount=function(){this.selectorMap={},this.refTargets=[]},t.getManager=function(){return this.moveable},t._updateRefs=function(n){var i=this.refTargets,o=Ns(this.props.target||this.props.targets),a="undefined"!=typeof document,l=i.length!==o.length||i.some(function(d,f){var p=o[f];return!(!d&&!p)&&d!==p}),c=this.selectorMap,u={};return this.refTargets.forEach(function(d){Bt(d)&&(c[d]?u[d]=c[d]:a&&(l=!0,u[d]=[].slice.call(document.querySelectorAll(d))))}),this.refTargets=o,this.selectorMap=u,!n&&l&&this.forceUpdate(),o},r.defaultAbles=[],r.customStyledMap={},r.defaultStyled=null,function(e,r,t,n){var a,i=arguments.length,o=i<3?r:null===n?n=Object.getOwnPropertyDescriptor(r,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,r,t,n);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(o=(i<3?a(o):i>3?a(r,t,o):a(r,t))||o);i>3&&o&&Object.defineProperty(r,t,o)}([ua(gs)],r.prototype,"moveable",void 0),r}(mn)),Pi=function(e,r){return(Pi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])})(e,r)};function Ri(e,r){function t(){this.constructor=e}Pi(e,r),e.prototype=null===r?Object.create(r):(t.prototype=r.prototype,new t)}var fr=function(){return(fr=Object.assign||function(r){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(r[o]=t[o]);return r}).apply(this,arguments)},Th=function(e){function r(n){var i=e.call(this,n)||this;return i.state={},i.state=i.props,i}return Ri(r,e),r.prototype.render=function(){return function(e,r){return zt(Vu,{element:e,container:r})}(zt(Eh,fr({ref:Lt(this,"moveable")},this.state)),this.state.parentElement)},r}(gn),Nl=bh,Zl=gs,Ii=_h,Bi=function(){return(Bi=Object.assign||function(r){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(r[o]=t[o]);return r}).apply(this,arguments)},Fl=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return Ri(r,e),r}(function(e){function r(n,i){void 0===i&&(i={});var o=e.call(this)||this;o.tempElement=document.createElement("div");var a=fr({},i),l={};Ii.forEach(function(u){l[function(e){return e.replace(/[\s-_]([a-z])/g,function(r,t){return t.toUpperCase()})}("on ".concat(u))]=function(d){return o.trigger(u,d)}}),ka(zt(Th,fr({ref:Lt(o,"innerMoveable"),parentElement:n},a,l)),o.tempElement);var c=a.target;return $t(c)&&c.length>1&&o.updateRect(),o}Ri(r,e);var t=r.prototype;return t.setState=function(n,i){this.innerMoveable.setState(n,i)},t.forceUpdate=function(n){this.innerMoveable.forceUpdate(n)},t.dragStart=function(n){this.innerMoveable.$_timer&&this.forceUpdate(),this.getMoveable().dragStart(n)},t.destroy=function(){ka(null,this.tempElement),this.off(),this.tempElement=null,this.innerMoveable=null},t.getMoveable=function(){return this.innerMoveable.moveable},function(e,r,t,n){var a,i=arguments.length,o=i<3?r:null===n?n=Object.getOwnPropertyDescriptor(r,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,r,t,n);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(o=(i<3?a(o):i>3?a(r,t,o):a(r,t))||o);return i>3&&o&&Object.defineProperty(r,t,o),o}([ca(Zl,function(n,i){n[i]||(n[i]=function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];var l=this.getMoveable();if(l&&l[i])return l[i].apply(l,o)})}),ca(Nl,function(n,i){Object.defineProperty(n,i,{get:function(){return this.getMoveable().props[i]},set:function(o){var a;this.setState(((a={})[i]=o,a))},enumerable:!0,configurable:!0})})],r)}(function(){function e(){this._events={}}var r=e.prototype;return r.on=function(t,n){if(Zt(t))for(var i in t)this.on(i,t[i]);else this._addEvent(t,n,{});return this},r.off=function(t,n){if(t)if(Zt(t))for(var i in t)this.off(i);else if(n){var o=this._events[t];if(o){var a=jt(o,function(l){return l.listener===n});a>-1&&o.splice(a,1)}}else this._events[t]=[];else this._events={};return this},r.once=function(t,n){var i=this;return n&&this._addEvent(t,n,{once:!0}),new Promise(function(o){i._addEvent(t,o,{once:!0})})},r.emit=function(t,n){var i=this;void 0===n&&(n={});var o=this._events[t];if(!t||!o)return!0;var a=!1;return n.eventType=t,n.stop=function(){a=!0},n.currentTarget=this,function(){for(var e=0,r=0,t=arguments.length;r<t;r++)e+=arguments[r].length;var n=Array(e),i=0;for(r=0;r<t;r++)for(var o=arguments[r],a=0,l=o.length;a<l;a++,i++)n[i]=o[a];return n}(o).forEach(function(l){l.listener(n),l.once&&i.off(t,l.listener)}),!a},r.trigger=function(t,n){return void 0===n&&(n={}),this.emit(t,n)},r._addEvent=function(t,n,i){var o=this._events;o[t]=o[t]||[],o[t].push(Bi({listener:n},i))},e}())),ql=B(4762);let Rh=(()=>{class e{}return(0,ql.gn)([ua(Zl,{dragStart:"ngDragStart"}),(0,ql.w6)("design:type",Fl)],e.prototype,"moveable",void 0),e})(),Ih=(()=>{class e extends Rh{constructor(t){super(),this._elementRef=t,Ii.forEach(n=>{this[n]=new s.vpe})}ngOnInit(){const t={},n={};Nl.forEach(o=>{t[o]=this[o]}),Ii.forEach(o=>{n[o]=a=>{this[o].emit(a)}});const i=this._elementRef.nativeElement;this.moveable=new Fl(i,Object.assign(Object.assign({},t),{portalContainer:i})),this.moveable.on(n)}ngOnChanges(t){const n=this.moveable;if(n)for(const i in t){const{previousValue:o,currentValue:a}=t[i];o!==a&&(n[i]=a)}}ngOnDestroy(){this.moveable.destroy()}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(s.SBq))},e.\u0275cmp=s.Xpm({type:e,selectors:[["ngx-moveable"]],inputs:{target:"target",dragTarget:"dragTarget",container:"container",portalContainer:"portalContainer",rootContainer:"rootContainer",useResizeObserver:"useResizeObserver",zoom:"zoom",transformOrigin:"transformOrigin",edge:"edge",ables:"ables",className:"className",pinchThreshold:"pinchThreshold",pinchOutside:"pinchOutside",triggerAblesSimultaneously:"triggerAblesSimultaneously",checkInput:"checkInput",cspNonce:"cspNonce",translateZ:"translateZ",hideDefaultLines:"hideDefaultLines",props:"props",flushSync:"flushSync",stopPropagation:"stopPropagation",preventClickEventOnDrag:"preventClickEventOnDrag",preventClickDefault:"preventClickDefault",snappable:"snappable",snapContainer:"snapContainer",snapDirections:"snapDirections",elementSnapDirections:"elementSnapDirections",snapGap:"snapGap",snapGridWidth:"snapGridWidth",snapGridHeight:"snapGridHeight",isDisplaySnapDigit:"isDisplaySnapDigit",isDisplayInnerSnapDigit:"isDisplayInnerSnapDigit",snapDigit:"snapDigit",snapThreshold:"snapThreshold",horizontalGuidelines:"horizontalGuidelines",verticalGuidelines:"verticalGuidelines",elementGuidelines:"elementGuidelines",bounds:"bounds",innerBounds:"innerBounds",snapDistFormat:"snapDistFormat",maxSnapElementGuidelineDistance:"maxSnapElementGuidelineDistance",maxSnapElementGapDistance:"maxSnapElementGapDistance",pinchable:"pinchable",draggable:"draggable",throttleDrag:"throttleDrag",throttleDragRotate:"throttleDragRotate",startDragRotate:"startDragRotate",edgeDraggable:"edgeDraggable",resizable:"resizable",throttleResize:"throttleResize",renderDirections:"renderDirections",keepRatio:"keepRatio",resizeFormat:"resizeFormat",keepRatioFinally:"keepRatioFinally",scalable:"scalable",throttleScale:"throttleScale",warpable:"warpable",rotatable:"rotatable",rotationPosition:"rotationPosition",throttleRotate:"throttleRotate",rotationTarget:"rotationTarget",rotateAroundControls:"rotateAroundControls",resolveAblesWithRotatable:"resolveAblesWithRotatable",scrollable:"scrollable",scrollContainer:"scrollContainer",scrollThreshold:"scrollThreshold",getScrollPosition:"getScrollPosition",padding:"padding",origin:"origin",originDraggable:"originDraggable",originRelative:"originRelative",clippable:"clippable",defaultClipPath:"defaultClipPath",customClipPath:"customClipPath",clipRelative:"clipRelative",clipArea:"clipArea",dragWithClip:"dragWithClip",clipTargetBounds:"clipTargetBounds",clipVerticalGuidelines:"clipVerticalGuidelines",clipHorizontalGuidelines:"clipHorizontalGuidelines",clipSnapThreshold:"clipSnapThreshold",roundable:"roundable",roundRelative:"roundRelative",minRoundControls:"minRoundControls",maxRoundControls:"maxRoundControls",roundClickable:"roundClickable",defaultGroupRotate:"defaultGroupRotate",defaultGroupOrigin:"defaultGroupOrigin",groupable:"groupable",hideChildMoveableDefaultLines:"hideChildMoveableDefaultLines",individualGroupable:"individualGroupable",clickable:"clickable",dragArea:"dragArea",passDragArea:"passDragArea"},outputs:{beforeRenderStart:"beforeRenderStart",beforeRender:"beforeRender",beforeRenderEnd:"beforeRenderEnd",beforeRenderGroupStart:"beforeRenderGroupStart",beforeRenderGroup:"beforeRenderGroup",beforeRenderGroupEnd:"beforeRenderGroupEnd",snap:"snap",pinchStart:"pinchStart",pinch:"pinch",pinchEnd:"pinchEnd",pinchGroupStart:"pinchGroupStart",pinchGroup:"pinchGroup",pinchGroupEnd:"pinchGroupEnd",dragStart:"dragStart",drag:"drag",dragEnd:"dragEnd",dragGroupStart:"dragGroupStart",dragGroup:"dragGroup",dragGroupEnd:"dragGroupEnd",resizeStart:"resizeStart",beforeResize:"beforeResize",resize:"resize",resizeEnd:"resizeEnd",resizeGroupStart:"resizeGroupStart",beforeResizeGroup:"beforeResizeGroup",resizeGroup:"resizeGroup",resizeGroupEnd:"resizeGroupEnd",scaleStart:"scaleStart",beforeScale:"beforeScale",scale:"scale",scaleEnd:"scaleEnd",scaleGroupStart:"scaleGroupStart",beforeScaleGroup:"beforeScaleGroup",scaleGroup:"scaleGroup",scaleGroupEnd:"scaleGroupEnd",warpStart:"warpStart",warp:"warp",warpEnd:"warpEnd",rotateStart:"rotateStart",beforeRotate:"beforeRotate",rotate:"rotate",rotateEnd:"rotateEnd",rotateGroupStart:"rotateGroupStart",beforeRotateGroup:"beforeRotateGroup",rotateGroup:"rotateGroup",rotateGroupEnd:"rotateGroupEnd",scroll:"scroll",scrollGroup:"scrollGroup",dragOriginStart:"dragOriginStart",dragOrigin:"dragOrigin",dragOriginEnd:"dragOriginEnd",clipStart:"clipStart",clip:"clip",clipEnd:"clipEnd",roundStart:"roundStart",round:"round",roundEnd:"roundEnd",click:"click",clickGroup:"clickGroup",renderStart:"renderStart",render:"render",renderEnd:"renderEnd",renderGroupStart:"renderGroupStart",renderGroup:"renderGroup",renderGroupEnd:"renderGroupEnd"},features:[s.qOj,s.TTD],decls:0,vars:0,template:function(t,n){},encapsulation:2}),e})(),Bh=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[]]}),e})();var zh=B(7564),Gh=B(343);let Nh=(()=>{class e{constructor(){this.scene={},this.changeSetting=new s.vpe}ngOnInit(){}sceneOnchange(){this.changeSetting.emit({scene:this.scene})}onchangeOption(t,n){this.scene[t]=n}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-scene-set"]],inputs:{scene:"scene"},outputs:{changeSetting:"changeSetting"},decls:12,vars:16,consts:[[1,"scene-info"],[3,"ngModel","nzSize","nzMin","nzStep","ngModelChange"],[2,"width","90px",3,"value","cpAlphaChannel","cpOutputFormat","colorPicker","cpPosition","cpWidth","colorPickerChange"]],template:function(t,n){1&t&&(s.TgZ(0,"div",0),s.TgZ(1,"span"),s._uU(2,"\u5bbd\u5ea6"),s.qZA(),s.TgZ(3,"nz-input-number",1),s.NdJ("ngModelChange",function(o){return n.scene.width=o}),s.qZA(),s.qZA(),s.TgZ(4,"div",0),s.TgZ(5,"span"),s._uU(6,"\u9ad8\u5ea6"),s.qZA(),s.TgZ(7,"nz-input-number",1),s.NdJ("ngModelChange",function(o){return n.scene.height=o}),s.qZA(),s.qZA(),s.TgZ(8,"div",0),s.TgZ(9,"span"),s._uU(10,"\u80cc\u666f\u8272"),s.qZA(),s.TgZ(11,"input",2),s.NdJ("colorPickerChange",function(o){return n.onchangeOption("bgColor",o)}),s.qZA(),s.qZA()),2&t&&(s.xp6(3),s.Q6J("ngModel",n.scene.width)("nzSize","small")("nzMin",1)("nzStep",1),s.xp6(4),s.Q6J("ngModel",n.scene.height)("nzSize","small")("nzMin",1)("nzStep",1),s.xp6(4),s.Udp("background",n.scene.bgColor),s.Q6J("value",n.scene.bgColor)("cpAlphaChannel","always")("cpOutputFormat","hex")("colorPicker",n.scene.bgColor)("cpPosition","bottom")("cpWidth","180px"))},directives:[Gh._,Ze.JJ,Ze.On,zc],styles:[".scene-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;width:60px;margin-top:10px}"]}),e})();var Vl=B(4828);const Zh=["textareaScene"],Fh=["textareaOptions"],qh=["textareaMockData"];let Vh=(()=>{class e{constructor(){this.options={},this.demoData={},this.scene={},this.changeSetting=new s.vpe}ngOnInit(){this.loadOptons()}ngOnChanges(){this.loadOptons()}loadOptons(){this.textareaScene&&(this.textareaScene.nativeElement.value=JSON.stringify(this.scene,null,2)),this.textareaOptions&&(this.textareaOptions.nativeElement.value=JSON.stringify(this.options||{},null,2)),this.textareaMockData&&(this.textareaMockData.nativeElement.value=JSON.stringify(this.demoData||{},null,2))}sceneOnchange(){this.scene=JSON.parse(this.textareaScene.nativeElement.value),this.changeSetting.emit({scene:this.scene})}optionsOnchange(){this.options=JSON.parse(this.textareaOptions.nativeElement.value),this.changeSetting.emit({options:this.options})}demoDataOnchange(){this.demoData=JSON.parse(this.textareaMockData.nativeElement.value),this.changeSetting.emit({demoData:this.demoData})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-setting"]],viewQuery:function(t,n){if(1&t&&(s.Gf(Zh,5),s.Gf(Fh,5),s.Gf(qh,5)),2&t){let i;s.iGM(i=s.CRH())&&(n.textareaScene=i.first),s.iGM(i=s.CRH())&&(n.textareaOptions=i.first),s.iGM(i=s.CRH())&&(n.textareaMockData=i.first)}},inputs:{options:"options",demoData:"demoData",scene:"scene"},outputs:{changeSetting:"changeSetting"},features:[s.TTD],decls:14,vars:0,consts:[["nzTitle","scene"],["cols","30","rows","10",1,"area",3,"change"],["textareaScene",""],["nzTitle","options"],["textareaOptions",""],["nzTitle","mockdata"],["textareaMockData",""]],template:function(t,n){1&t&&(s.TgZ(0,"div"),s.TgZ(1,"nz-tabset"),s.TgZ(2,"nz-tab",0),s.TgZ(3,"textarea",1,2),s.NdJ("change",function(){return n.sceneOnchange()}),s._uU(5," "),s.qZA(),s.qZA(),s.TgZ(6,"nz-tab",3),s.TgZ(7,"textarea",1,4),s.NdJ("change",function(){return n.optionsOnchange()}),s._uU(9," "),s.qZA(),s.qZA(),s.TgZ(10,"nz-tab",5),s.TgZ(11,"textarea",1,6),s.NdJ("change",function(){return n.demoDataOnchange()}),s._uU(13," "),s.qZA(),s.qZA(),s.qZA(),s.qZA())},directives:[Vl.xH,Vl.xw],styles:["nz-tabset[_ngcontent-%COMP%]{min-height:520px;padding:0 10px}textarea[_ngcontent-%COMP%]{background-color:#000}"]}),e})();const Yh=["target"],Hh=["moveable"],Lh=["senceCon"],jr=function(e){return{active:e}};function Wh(e,r){if(1&e){const t=s.EpF();s.TgZ(0,"li",8),s.NdJ("click",function(){const i=s.CHM(t),o=i.$implicit,a=i.index,l=s.oxw();return l.categoryClick(o,a),l.catIndex=a}),s._uU(1),s.qZA()}if(2&e){const t=r.$implicit,n=r.index,i=s.oxw();s.Q6J("ngClass",s.VKq(2,jr,i.catIndex===n)),s.xp6(1),s.Oqu(t.title)}}function Xh(e,r){if(1&e){const t=s.EpF();s.TgZ(0,"span",36),s.NdJ("click",function(){return s.CHM(t),s.oxw(3).deleteComponent()}),s.qZA()}}function Uh(e,r){if(1&e){const t=s.EpF();s.TgZ(0,"li",8),s.NdJ("click",function(){const i=s.CHM(t),o=i.$implicit,a=i.index,l=s.oxw(2);return l.appWidgetClick(o,1),l.layerIndex=a}),s.TgZ(1,"span",34),s.NdJ("click",function(){const o=s.CHM(t).$implicit;return o.lock=!o.lock}),s.qZA(),s.TgZ(2,"span"),s._uU(3),s.qZA(),s.YNc(4,Xh,1,0,"span",35),s.qZA()}if(2&e){const t=r.$implicit,n=r.index,i=s.oxw(2);s.Q6J("ngClass",s.VKq(4,jr,i.layerIndex===n)),s.xp6(1),s.Q6J("nzType",t.lock?"lock":"unlock"),s.xp6(2),s.Oqu(t.title),s.xp6(1),s.Q6J("ngIf",i.layerIndex===n)}}function Jh(e,r){if(1&e){const t=s.EpF();s.TgZ(0,"div",31),s.TgZ(1,"span",32),s.TgZ(2,"a",33),s.NdJ("click",function(){return s.CHM(t),s.oxw().clearScene()}),s._uU(3,"Clear"),s.qZA(),s.qZA(),s.TgZ(4,"ul"),s.YNc(5,Uh,5,6,"li",9),s.qZA(),s.qZA()}if(2&e){const t=s.oxw();s.xp6(5),s.Q6J("ngForOf",t.sceneAllData.components)}}const Yl=function(e){return{"background-image":e,"background-size":"100% 100%"}};function jh(e,r){if(1&e){const t=s.EpF();s.TgZ(0,"div",38),s.TgZ(1,"div",39),s.NdJ("click",function(){const o=s.CHM(t).$implicit;return s.oxw(2).wlistclick(o)}),s.qZA(),s.TgZ(2,"div",40),s._uU(3),s.qZA(),s.qZA()}if(2&e){const t=r.$implicit;s.xp6(1),s.Q6J("ngStyle",s.VKq(2,Yl,"url(./assets/thumbnails/"+t.selector+".png)")),s.xp6(2),s.Oqu(t.title)}}function Kh(e,r){if(1&e&&(s.TgZ(0,"div",31),s.YNc(1,jh,4,4,"div",37),s.qZA()),2&e){const t=s.oxw();s.xp6(1),s.Q6J("ngForOf",t.catWidget.children)}}function Qh(e,r){if(1&e){const t=s.EpF();s.TgZ(0,"div",38),s.TgZ(1,"div",39),s.NdJ("click",function(){const o=s.CHM(t).$implicit;return s.oxw(2).wlistclick(o.key,"mulcoms")}),s.qZA(),s.TgZ(2,"div",40),s._uU(3),s.qZA(),s.qZA()}if(2&e){const t=r.$implicit;s.xp6(1),s.Q6J("ngStyle",s.VKq(2,Yl,"url(./assets/thumbnails/"+t.key+".png)")),s.xp6(2),s.Oqu(t.value.title)}}function $h(e,r){if(1&e&&(s.TgZ(0,"div",31),s.YNc(1,Qh,4,4,"div",37),s.ALo(2,"keyvalue"),s.qZA()),2&e){const t=s.oxw();s.xp6(1),s.Q6J("ngForOf",s.lcZ(2,1,t.mulcomsObj))}}const Hl=function(e){return{transform:e}};function tv(e,r){if(1&e){const t=s.EpF();s.TgZ(0,"app-widget",42),s.NdJ("click",function(){s.CHM(t);const i=s.oxw(),o=i.$implicit,a=i.index,l=s.oxw();return l.appWidgetClick(o,2),l.layerIndex=a})("eventEmit",function(i){return s.CHM(t),s.oxw(2).onGetInstance(i)}),s.qZA()}if(2&e){const t=s.oxw().$implicit;s.Akn(s.VKq(11,Hl,"rotate("+t.position.rotate+"deg)")),s.Udp("top",t.position.top,"px")("left",t.position.left,"px")("width",t.position.width,"px")("height",t.position.height,"px"),s.Q6J("widgetConfig",t)}}function ev(e,r){if(1&e){const t=s.EpF();s.TgZ(0,"app-mulwidget",42),s.NdJ("click",function(){s.CHM(t);const i=s.oxw(),o=i.$implicit,a=i.index,l=s.oxw();return l.appWidgetClick(o,2),l.layerIndex=a})("eventEmit",function(i){return s.CHM(t),s.oxw(2).onGetInstance(i)}),s.qZA()}if(2&e){const t=s.oxw().$implicit;s.Akn(s.VKq(11,Hl,"rotate("+t.position.rotate+"deg)")),s.Udp("top",t.position.top,"px")("left",t.position.left,"px")("width",t.position.width,"px")("height",t.position.height,"px"),s.Q6J("widgetConfig",t)}}function rv(e,r){if(1&e&&(s.TgZ(0,"div"),s.YNc(1,tv,1,13,"app-widget",41),s.YNc(2,ev,1,13,"app-mulwidget",41),s.qZA()),2&e){const t=r.$implicit;s.xp6(1),s.Q6J("ngIf","mulcoms"!=t.type),s.xp6(1),s.Q6J("ngIf","mulcoms"===t.type)}}const nv=function(){return["/editer"]},iv=function(e){return["/editer/preview",e]},ov=function(e,r,t,n){return{transform:e,width:r,height:t,background:n}},av=[{path:"list",component:Li},{path:"edit/:id",component:(()=>{class e{constructor(t,n,i){this.route=t,this.router=n,this.editService=i,this.isCollapsed=!1,this.scaleK=1,this.cwidgets=Kc,this.nowwidget=null,this.sceneAllData={components:[],options:{width:1920,height:1080,backgroundColor:"#fff"},id:qe(8),name:"\u65b0\u5efa\u573a\u666f"},this.mulcomsObj=pe.O,this.position={left:100,top:100,width:400,height:400,rotate:0},this.options={},this.optionsData={},this.demoData={},this.widgetInstances={},this.scalable=!0,this.resizable=!0,this.warpable=!1,this.showRight=!0,this.showLeft=!0,this.catWidget={},this.panelType="layers",this.catIndex=-1,this.layerIndex=-1}ngOnInit(){this.route.paramMap.subscribe(t=>{const n=t.get("id");this.sceneId=n,this.editService.getScene(n).subscribe(i=>{const o=i;this.sceneAllData=o,(o.components||[]).forEach(a=>{a.uuid||(a.uuid=qe())})})}),document.addEventListener("keydown",t=>{navigator.platform.toUpperCase().indexOf("MAC")>=0&&8===t.keyCode&&(t.metaKey||t.ctrlKey)&&this.deleteComponent(),navigator.platform.toUpperCase().indexOf("WIN")>=0&&46===t.keyCode&&this.deleteComponent()})}wlistclick(t,n){var i,o,a;this.options=null,this.demoData=null;let l={};if("mulcoms"===n){let g={left:100,top:100,width:null===(i=pe.O[t])||void 0===i?void 0:i.width,height:null===(o=pe.O[t])||void 0===o?void 0:o.height,rotate:0};l={title:null===(a=pe.O[t])||void 0===a?void 0:a.title,selector:t,position:Object.assign(JSON.parse(JSON.stringify(this.position)),g||{}),uuid:qe(8),type:n||"mulcoms"}}else l={title:t.title,selector:t.selector,position:Object.assign(JSON.parse(JSON.stringify(this.position)),t.position||{}),uuid:qe(8),type:n||"sincoms"};this.sceneAllData.components.push(l),this.nowwidget=l;const{width:c,height:u,left:d,top:f,rotate:p}=l.position;this.setTargetPosition(c,u,d,f,p),setTimeout(()=>{var h,v;this.options=(null===(h=this.widgetInstances[l.uuid])||void 0===h?void 0:h.options)||{},this.options=JSON.parse(JSON.stringify(this.options)),this.demoData=(null===(v=this.widgetInstances[l.uuid])||void 0===v?void 0:v.demoData)||{},this.demoData=JSON.parse(JSON.stringify(this.demoData)),this.nowwidget.options=this.options,this.nowwidget.demoData=this.demoData},10),this.appWidgetClick(l,null)}onMoving(t,n){}onMoveEnd(t,n){}onResizeStart(t,n){this._width=n.size.width}onResizing(t,n){t.position.width=this._width+2*(n.size.width-this._width)}onResizeStop(t,n){var i,o;let a=n.size.width;t.position.top=n.position.top,t.position.left=n.position.left,t.position.width=this._width+2*(a-this._width),t.position.height=n.size.height,this._width=n.size.width,this.widgetInstances[t.uuid]&&(null===(o=(i=this.widgetInstances[t.uuid]).onResize)||void 0===o||o.call(i))}clearScene(){this.sceneAllData.components=[],this.clearSomething()}saveScene(){this.editService.saveScene(this.sceneId,this.sceneAllData),localStorage.setItem("scene",JSON.stringify(this.sceneAllData))}innerContentClick(t){t.preventDefault(),t.stopPropagation(),["sence-container","sence-inner-content","sence-con-canvas scroll"].includes(t.target.className)&&this.clearSomething()}clearSomething(){this.nowwidget=null,this.options=null,this.demoData=null,this.layerIndex=-1,this.targetdiv.nativeElement.style.display="none",this.targetdiv.nativeElement.style.width="0px",this.targetdiv.nativeElement.style.height="0px",this.moveable.updateTarget()}setTargetPosition(t,n,i,o,a=0){this.targetdiv.nativeElement&&(this.targetdiv.nativeElement.style.width=t+"px",this.targetdiv.nativeElement.style.height=n+"px",this.targetdiv.nativeElement.style.left=i+"px",this.targetdiv.nativeElement.style.top=o+"px",this.targetdiv.nativeElement.style.transform=`rotate(${a}deg)`),this.nowwidget&&(this.nowwidget.position.width=t,this.nowwidget.position.height=n,this.nowwidget.position.left=i,this.nowwidget.position.top=o,this.nowwidget.position.rotate=a)}appWidgetClick(t,n){if((2===n||t.lock)&&this.clearSomething(),t.selector&&(1===n||!t.lock)){this.nowwidget=t,this.targetdiv.nativeElement&&(this.targetdiv.nativeElement.style.display="block");const{width:i,height:o,left:a,top:l,rotate:c}=t.position;this.setTargetPosition(i,o,a,l,c),setTimeout(()=>{var u,d;this.moveable.updateTarget(),this.options=(null===(u=this.widgetInstances[t.uuid])||void 0===u?void 0:u.options)||{},this.demoData=(null===(d=this.widgetInstances[t.uuid])||void 0===d?void 0:d.demoData)||{},this.options=JSON.parse(JSON.stringify(this.options)),this.demoData=JSON.parse(JSON.stringify(this.demoData))},10)}}deleteComponent(){!this.nowwidget||(this.sceneAllData.components=this.sceneAllData.components.filter(t=>t.uuid!==this.nowwidget.uuid),this.clearSomething())}onChangeSetting(t){var n,i,o,a;t.options&&this.widgetInstances[this.nowwidget.uuid]&&(null===(i=(n=this.widgetInstances[this.nowwidget.uuid]).onchangeOption)||void 0===i||i.call(n,t.options),this.widgetInstances[this.nowwidget.uuid].options=t.options,this.nowwidget.options=t.options),t.demoData&&this.widgetInstances[this.nowwidget.uuid]&&(null===(a=(o=this.widgetInstances[this.nowwidget.uuid]).onchangeDemoData)||void 0===a||a.call(o,t.demoData),this.widgetInstances[this.nowwidget.uuid].demoData=t.demoData,this.nowwidget.demoData=t.demoData),t.scene&&(this.sceneAllData.options=t.scene)}onGetInstance(t){t.uuid&&(this.widgetInstances[t.uuid]=t.comInstance)}onPinch({}){}onDrag({target:t,top:o,left:a}){t.style.left=`${a}px`,t.style.top=`${o}px`,this.nowwidget&&(this.nowwidget.position.left=a,this.nowwidget.position.top=o)}onScale({target:t,delta:n}){t.style.transform=`scale(${n})`}onRotate({target:t,beforeRotate:a}){t.style.transform=`rotate(${a}deg)`,this.nowwidget&&(this.nowwidget.position.rotate=a)}onResize({target:t,width:o,height:a,drag:l}){t.style.width=`${o}px`,t.style.height=`${a}px`,t.style.left=l.beforeTranslate[0]+"px",t.style.top=l.beforeTranslate[1]+"px",this.setTargetPosition(o,a,l.beforeTranslate[0],l.beforeTranslate[1],this.nowwidget.position.rotate),this.moveable.updateTarget()}onWarp({}){}onEnd(){var t,n,i,o;if(this.nowwidget){const a=this.nowwidget.uuid;null===(n=null===(t=this.widgetInstances[a])||void 0===t?void 0:t.onResize)||void 0===n||n.call(t),null===(o=null===(i=this.widgetInstances[a])||void 0===i?void 0:i.resize)||void 0===o||o.call(i)}}layersClick(){this.panelType="layers"}mulwidgetClick(){this.panelType="mulwidget"}categoryClick(t){this.panelType="category",this.catWidget=t}toggleRight(){let t=this.senceCon.nativeElement.className;t.indexOf("sence-con-right")>0?t=t.replace("sence-con-right",""):t+=" sence-con-right",this.senceCon.nativeElement.className=t}toggleLeft(){let t=this.senceCon.nativeElement.className;t.indexOf("sence-con-left")>0?t=t.replace("sence-con-left",""):t+=" sence-con-left",this.senceCon.nativeElement.className=t}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(Qt.gz),s.Y36(Qt.F0),s.Y36(rn))},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-edit"]],viewQuery:function(t,n){if(1&t&&(s.Gf(Yh,5),s.Gf(Hh,5),s.Gf(Lh,5)),2&t){let i;s.iGM(i=s.CRH())&&(n.targetdiv=i.first),s.iGM(i=s.CRH())&&(n.moveable=i.first),s.iGM(i=s.CRH())&&(n.senceCon=i.first)}},decls:43,vars:51,consts:[[1,"header"],[1,"header-con"],["nz-icon","","nzType","home",3,"routerLink"],["nz-icon","","nzType","save",3,"click"],[1,"right"],["nz-icon","","nzType","desktop","target","_blank",3,"routerLink"],[1,"sence-left"],[1,"left-category","scroll"],[3,"ngClass","click"],[3,"ngClass","click",4,"ngFor","ngForOf"],["class","left-list scroll",4,"ngIf"],[1,"sence-con",3,"click"],["senceCon",""],[1,"sence-container"],[1,"sence-arrow-wrap","left",3,"click"],["nz-icon","",2,"color","#909090","transform","translateY(-2px)",3,"nzType"],[1,"sence-arrow-wrap","right",3,"click"],[1,"sence-con-main"],[1,"sence-con-canvas","scroll"],[1,"sence-inner-content"],[4,"ngFor","ngForOf"],[1,"moveable",2,"position","absolute","left","-10000px","width","0px","height","0px","z-index","99","background-color","rgba(127, 255, 212, 0.108)"],["target",""],[3,"target","draggable","origin","rotatable","pinchable","scalable","resizable","warpable","keepRatio","throttleDrag","throttleScale","throttleRotate","throttleResize","drag","resize","scale","warp","rotate","pinch","resizeEnd"],["moveable",""],[1,"sence-con-scale"],[1,"scale-txt"],[2,"position","absolute","width","200px","top","-8px",3,"ngModel","nzMin","nzMax","nzStep","nzDefaultValue","ngModelChange"],[1,"sence-right"],[1,"setting",3,"scene","changeSetting"],[1,"setting",3,"options","demoData","scene","changeSetting"],[1,"left-list","scroll"],[2,"margin-left","10px"],[3,"click"],["nz-icon","",2,"padding-right","5px",3,"nzType","click"],["class","float-right","nz-icon","","nzType","delete",3,"click",4,"ngIf"],["nz-icon","","nzType","delete",1,"float-right",3,"click"],["class","list-box",4,"ngFor","ngForOf"],[1,"list-box"],[1,"list-img",3,"ngStyle","click"],[1,"list-name"],["style","position: absolute;",3,"widgetConfig","style","top","left","width","height","click","eventEmit",4,"ngIf"],[2,"position","absolute",3,"widgetConfig","click","eventEmit"]],template:function(t,n){if(1&t&&(s.TgZ(0,"div",0),s.TgZ(1,"div",1),s.TgZ(2,"span"),s._UZ(3,"a",2),s.qZA(),s.TgZ(4,"span"),s.TgZ(5,"a",3),s.NdJ("click",function(){return n.saveScene()}),s.qZA(),s.qZA(),s.TgZ(6,"span",4),s._UZ(7,"a",5),s.qZA(),s.qZA(),s.qZA(),s.TgZ(8,"div",6),s.TgZ(9,"div",7),s.TgZ(10,"ul"),s.TgZ(11,"li",8),s.NdJ("click",function(){return n.layersClick(),n.catIndex=-1}),s._uU(12,"\u56fe\u5c42"),s.qZA(),s.TgZ(13,"li",8),s.NdJ("click",function(){return n.mulwidgetClick(),n.catIndex=-2}),s._uU(14,"\u88c5\u9970"),s.qZA(),s.YNc(15,Wh,2,4,"li",9),s.qZA(),s.qZA(),s.YNc(16,Jh,6,1,"div",10),s.YNc(17,Kh,2,1,"div",10),s.YNc(18,$h,3,3,"div",10),s.qZA(),s.TgZ(19,"div",11,12),s.NdJ("click",function(o){return n.innerContentClick(o)}),s.TgZ(21,"div",13),s.TgZ(22,"span",14),s.NdJ("click",function(){return n.showLeft=!n.showLeft,n.toggleLeft()}),s._UZ(23,"span",15),s.qZA(),s.TgZ(24,"span",16),s.NdJ("click",function(){return n.showRight=!n.showRight,n.toggleRight()}),s._UZ(25,"span",15),s.qZA(),s.TgZ(26,"div",17),s.TgZ(27,"div",18),s.TgZ(28,"div",19),s.YNc(29,rv,3,2,"div",20),s._UZ(30,"div",21,22),s.TgZ(32,"ngx-moveable",23,24),s.NdJ("drag",function(o){return n.onDrag(o)})("resize",function(o){return n.onResize(o)})("scale",function(o){return n.onScale(o)})("warp",function(o){return n.onWarp(o)})("rotate",function(o){return n.onRotate(o)})("pinch",function(o){return n.onPinch(o)})("resizeEnd",function(){return n.onEnd()}),s.qZA(),s.qZA(),s.qZA(),s.TgZ(34,"div",25),s.TgZ(35,"span",26),s._uU(36),s.qZA(),s.TgZ(37,"span"),s.TgZ(38,"nz-slider",27),s.NdJ("ngModelChange",function(o){return n.scaleK=o}),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(39,"div",28),s.TgZ(40,"app-scene-set",29),s.NdJ("changeSetting",function(o){return n.onChangeSetting(o)}),s.qZA(),s.TgZ(41,"app-setting",30),s.NdJ("changeSetting",function(o){return n.onChangeSetting(o)}),s.qZA(),s._uU(42),s.qZA()),2&t){const i=s.MAs(31);s.xp6(3),s.Q6J("routerLink",s.DdM(39,nv)),s.xp6(4),s.Q6J("routerLink",s.VKq(40,iv,n.sceneId)),s.xp6(4),s.Q6J("ngClass",s.VKq(42,jr,-1===n.catIndex)),s.xp6(2),s.Q6J("ngClass",s.VKq(44,jr,-2===n.catIndex)),s.xp6(2),s.Q6J("ngForOf",n.cwidgets),s.xp6(1),s.Q6J("ngIf","layers"==n.panelType),s.xp6(1),s.Q6J("ngIf","category"==n.panelType),s.xp6(1),s.Q6J("ngIf","mulwidget"==n.panelType),s.xp6(5),s.Q6J("nzType",n.showLeft?"left":"right"),s.xp6(2),s.Q6J("nzType",n.showRight?"right":"left"),s.xp6(3),s.Akn(s.l5B(46,ov,"scale("+n.scaleK+")",n.sceneAllData.options.width+"px",n.sceneAllData.options.height+"px",n.sceneAllData.options.bgColor)),s.xp6(1),s.Q6J("ngForOf",n.sceneAllData.components),s.xp6(3),s.Udp("opacity",null===n.nowwidget?0:1),s.Q6J("target",i)("draggable",!0)("origin",!1)("rotatable",!0)("pinchable",!0)("scalable",n.scalable)("resizable",n.resizable)("warpable",n.warpable)("keepRatio",!1)("throttleDrag",1)("throttleScale",.01)("throttleRotate",.2)("throttleResize",1),s.xp6(4),s.hij("\u7f29\u653e\u6bd4\u4f8b:",n.scaleK,""),s.xp6(2),s.Q6J("ngModel",n.scaleK)("nzMin",.1)("nzMax",3)("nzStep",.1)("nzDefaultValue",.5),s.xp6(2),s.Q6J("scene",n.sceneAllData.options),s.xp6(1),s.Q6J("options",n.options)("demoData",n.demoData)("scene",n.sceneAllData.options),s.xp6(1),s.hij(" ",null==n.nowwidget?null:n.nowwidget.selector,"\n")}},directives:[Qt.yS,Hi.w,ou.Ls,Et.mk,Et.sg,Et.O5,Ih,zh.jS,Ze.JJ,Ze.On,Nh,Vh,Et.PC,oa,aa],pipes:[Et.Nd],styles:["ul[_ngcontent-%COMP%], li[_ngcontent-%COMP%]{margin:0;padding:0}li[_ngcontent-%COMP%]{list-style:none}.header[_ngcontent-%COMP%]{color:#fff;height:60px;background-color:#000;box-shadow:0 -1px 4px #949494 inset}.header[_ngcontent-%COMP%]   .header-con[_ngcontent-%COMP%]{padding:20px}.header[_ngcontent-%COMP%]   .header-con[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:20px}.header[_ngcontent-%COMP%]   .header-con[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{float:right}.sence-left[_ngcontent-%COMP%]{width:320px;height:calc(100% - 60px);height:-o-calc(100% - 60px);background:#191919;border-right:1px solid #333;position:absolute;left:0;top:60px;z-index:100}.sence-left[_ngcontent-%COMP%]   .left-category[_ngcontent-%COMP%]{float:left;height:100%;width:100px;overflow:auto;box-shadow:2px 0 #848484}.sence-left[_ngcontent-%COMP%]   .left-category[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:5px 0 5px 10px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;cursor:pointer}.sence-left[_ngcontent-%COMP%]   .left-category[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]{background-color:#177ddc!important}.sence-left[_ngcontent-%COMP%]   .left-category[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#333}.sence-left[_ngcontent-%COMP%]   .left-list[_ngcontent-%COMP%]{font-size:12px;float:right;height:100%;width:218px;overflow:auto}.sence-left[_ngcontent-%COMP%]   .left-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:4px 10px;cursor:pointer;font-size:12px;line-height:1.8}.sence-left[_ngcontent-%COMP%]   .left-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .float-right[_ngcontent-%COMP%]{float:right;transform:translateY(4px)}.sence-left[_ngcontent-%COMP%]   .left-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#333}.sence-left[_ngcontent-%COMP%]   .left-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]{background-color:#177ddc!important}.sence-left[_ngcontent-%COMP%]   .left-list[_ngcontent-%COMP%]   .list-box[_ngcontent-%COMP%]{float:left;width:90px;height:70px;box-shadow:0 0 4px #999;margin:6px 0 6px 12px}.sence-left[_ngcontent-%COMP%]   .left-list[_ngcontent-%COMP%]   .list-box[_ngcontent-%COMP%]   .list-img[_ngcontent-%COMP%]{width:100%;height:50px;background-color:#dddfe2;cursor:pointer}.sence-left[_ngcontent-%COMP%]   .left-list[_ngcontent-%COMP%]   .list-box[_ngcontent-%COMP%]   .list-name[_ngcontent-%COMP%]{font-size:12px;color:#fff;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;pointer-events:none}.sence-right[_ngcontent-%COMP%]{width:260px;height:calc(100% - 60px);height:-o-calc(100% - 60px);background:#191919;border-left:1px solid #333;position:absolute;right:0;top:60px;z-index:100}.sence-con[_ngcontent-%COMP%]{padding:0 260px 0 320px;height:calc(100% - 60px);height:-o-calc(100% - 60px);transition:padding .3s linear;-moz-transition:padding .3s linear;-webkit-transition:padding .3s linear;-o-transition:padding .3s linear}.sence-con[_ngcontent-%COMP%]   .sence-container[_ngcontent-%COMP%]{padding:30px 20px 50px;height:100%;background:#1e1e1e;position:relative;overflow:hidden;z-index:101}.sence-con[_ngcontent-%COMP%]   .sence-container[_ngcontent-%COMP%]   .sence-arrow-wrap[_ngcontent-%COMP%]{width:19px;height:20px;border:1px solid #dddfe2;border-radius:2px;text-align:center;cursor:pointer;position:absolute;top:12px;z-index:100;background:#303135;border:1px solid rgba(255,255,255,.1)}.sence-con[_ngcontent-%COMP%]   .sence-container[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{border-left:0;border-radius:0 2px 2px 0;left:0}.sence-con[_ngcontent-%COMP%]   .sence-container[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{border-right:0;border-radius:2px 0 0 2px;right:0}.sence-con[_ngcontent-%COMP%]   .sence-container[_ngcontent-%COMP%]   .sence-con-main[_ngcontent-%COMP%]{color:#fff;font-size:12px;height:100%}.sence-con[_ngcontent-%COMP%]   .sence-container[_ngcontent-%COMP%]   .sence-con-main[_ngcontent-%COMP%]   .sence-con-canvas[_ngcontent-%COMP%]{width:100%;height:100%;overflow:auto;position:relative}.sence-con[_ngcontent-%COMP%]   .sence-container[_ngcontent-%COMP%]   .sence-con-main[_ngcontent-%COMP%]   .sence-con-canvas[_ngcontent-%COMP%]   .sence-inner-content[_ngcontent-%COMP%]{color:#fff;min-height:600px;background-color:#000;position:absolute;width:1920px;height:1080px;transform:scale(.5);transform-origin:top left;top:5px;left:5px;box-shadow:0 0 4px #999}.sence-con[_ngcontent-%COMP%]   .sence-container[_ngcontent-%COMP%]   .sence-con-main[_ngcontent-%COMP%]   .sence-con-scale[_ngcontent-%COMP%]{width:300px;position:absolute;bottom:10px;right:-30px;z-index:100}.sence-con-left[_ngcontent-%COMP%]{padding-left:0!important;z-index:101;transition:padding .3s linear;-moz-transition:padding .3s linear;-webkit-transition:padding .3s linear;-o-transition:padding .3s linear}.sence-con-right[_ngcontent-%COMP%]{padding-right:0!important;z-index:101;transition:padding .3s linear;-moz-transition:padding .3s linear;-webkit-transition:padding .3s linear;-o-transition:padding .3s linear}.scroll[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px;height:6px}.scroll[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:3px;background-color:#606060}.scroll[_ngcontent-%COMP%]::-webkit-scrollbar-corner{background:transparent;display:none}"]}),e})()},{path:"preview/:id",component:iu},{path:"",component:Li}];let sv=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[Qt.Bz.forChild(av)],Qt.Bz]}),e})();var lv=B(8383),cv=B(1610);let uv=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[Et.ez,Ze.u5,jl.YY,sv,lv.b,cv.m,Bh,Gc]]}),e})()}}]);